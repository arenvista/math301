/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
const PLUGIN_VERSION="3.13.1";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result)
    __defProp(target, key, result);
  return result;
};
var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MetaTitlePlugin
});
module.exports = __toCommonJS(main_exports);

// node_modules/reflect-metadata/Reflect.js
var Reflect2;
(function(Reflect3) {
  (function(factory) {
    var root = typeof global === "object" ? global : typeof self === "object" ? self : typeof this === "object" ? this : Function("return this;")();
    var exporter = makeExporter(Reflect3);
    if (typeof root.Reflect === "undefined") {
      root.Reflect = Reflect3;
    } else {
      exporter = makeExporter(root.Reflect, exporter);
    }
    factory(exporter);
    function makeExporter(target, previous) {
      return function(key, value) {
        if (typeof target[key] !== "function") {
          Object.defineProperty(target, key, { configurable: true, writable: true, value });
        }
        if (previous)
          previous(key, value);
      };
    }
  })(function(exporter) {
    var hasOwn = Object.prototype.hasOwnProperty;
    var supportsSymbol = typeof Symbol === "function";
    var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== "undefined" ? Symbol.toPrimitive : "@@toPrimitive";
    var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== "undefined" ? Symbol.iterator : "@@iterator";
    var supportsCreate = typeof Object.create === "function";
    var supportsProto = { __proto__: [] } instanceof Array;
    var downLevel = !supportsCreate && !supportsProto;
    var HashMap = {
      // create an object in dictionary mode (a.k.a. "slow" mode in v8)
      create: supportsCreate ? function() {
        return MakeDictionary(/* @__PURE__ */ Object.create(null));
      } : supportsProto ? function() {
        return MakeDictionary({ __proto__: null });
      } : function() {
        return MakeDictionary({});
      },
      has: downLevel ? function(map, key) {
        return hasOwn.call(map, key);
      } : function(map, key) {
        return key in map;
      },
      get: downLevel ? function(map, key) {
        return hasOwn.call(map, key) ? map[key] : void 0;
      } : function(map, key) {
        return map[key];
      }
    };
    var functionPrototype = Object.getPrototypeOf(Function);
    var usePolyfill = typeof process === "object" && process["env"] && process["env"]["REFLECT_METADATA_USE_MAP_POLYFILL"] === "true";
    var _Map = !usePolyfill && typeof Map === "function" && typeof Map.prototype.entries === "function" ? Map : CreateMapPolyfill();
    var _Set = !usePolyfill && typeof Set === "function" && typeof Set.prototype.entries === "function" ? Set : CreateSetPolyfill();
    var _WeakMap = !usePolyfill && typeof WeakMap === "function" ? WeakMap : CreateWeakMapPolyfill();
    var Metadata2 = new _WeakMap();
    function decorate(decorators, target, propertyKey, attributes) {
      if (!IsUndefined(propertyKey)) {
        if (!IsArray(decorators))
          throw new TypeError();
        if (!IsObject(target))
          throw new TypeError();
        if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))
          throw new TypeError();
        if (IsNull(attributes))
          attributes = void 0;
        propertyKey = ToPropertyKey(propertyKey);
        return DecorateProperty(decorators, target, propertyKey, attributes);
      } else {
        if (!IsArray(decorators))
          throw new TypeError();
        if (!IsConstructor(target))
          throw new TypeError();
        return DecorateConstructor(decorators, target);
      }
    }
    exporter("decorate", decorate);
    function metadata(metadataKey, metadataValue) {
      function decorator(target, propertyKey) {
        if (!IsObject(target))
          throw new TypeError();
        if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))
          throw new TypeError();
        OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
      }
      return decorator;
    }
    exporter("metadata", metadata);
    function defineMetadata(metadataKey, metadataValue, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
    }
    exporter("defineMetadata", defineMetadata);
    function hasMetadata(metadataKey, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryHasMetadata(metadataKey, target, propertyKey);
    }
    exporter("hasMetadata", hasMetadata);
    function hasOwnMetadata(metadataKey, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);
    }
    exporter("hasOwnMetadata", hasOwnMetadata);
    function getMetadata(metadataKey, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryGetMetadata(metadataKey, target, propertyKey);
    }
    exporter("getMetadata", getMetadata);
    function getOwnMetadata(metadataKey, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);
    }
    exporter("getOwnMetadata", getOwnMetadata);
    function getMetadataKeys(target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryMetadataKeys(target, propertyKey);
    }
    exporter("getMetadataKeys", getMetadataKeys);
    function getOwnMetadataKeys(target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      return OrdinaryOwnMetadataKeys(target, propertyKey);
    }
    exporter("getOwnMetadataKeys", getOwnMetadataKeys);
    function deleteMetadata(metadataKey, target, propertyKey) {
      if (!IsObject(target))
        throw new TypeError();
      if (!IsUndefined(propertyKey))
        propertyKey = ToPropertyKey(propertyKey);
      var metadataMap = GetOrCreateMetadataMap(
        target,
        propertyKey,
        /*Create*/
        false
      );
      if (IsUndefined(metadataMap))
        return false;
      if (!metadataMap.delete(metadataKey))
        return false;
      if (metadataMap.size > 0)
        return true;
      var targetMetadata = Metadata2.get(target);
      targetMetadata.delete(propertyKey);
      if (targetMetadata.size > 0)
        return true;
      Metadata2.delete(target);
      return true;
    }
    exporter("deleteMetadata", deleteMetadata);
    function DecorateConstructor(decorators, target) {
      for (var i = decorators.length - 1; i >= 0; --i) {
        var decorator = decorators[i];
        var decorated = decorator(target);
        if (!IsUndefined(decorated) && !IsNull(decorated)) {
          if (!IsConstructor(decorated))
            throw new TypeError();
          target = decorated;
        }
      }
      return target;
    }
    function DecorateProperty(decorators, target, propertyKey, descriptor) {
      for (var i = decorators.length - 1; i >= 0; --i) {
        var decorator = decorators[i];
        var decorated = decorator(target, propertyKey, descriptor);
        if (!IsUndefined(decorated) && !IsNull(decorated)) {
          if (!IsObject(decorated))
            throw new TypeError();
          descriptor = decorated;
        }
      }
      return descriptor;
    }
    function GetOrCreateMetadataMap(O, P, Create) {
      var targetMetadata = Metadata2.get(O);
      if (IsUndefined(targetMetadata)) {
        if (!Create)
          return void 0;
        targetMetadata = new _Map();
        Metadata2.set(O, targetMetadata);
      }
      var metadataMap = targetMetadata.get(P);
      if (IsUndefined(metadataMap)) {
        if (!Create)
          return void 0;
        metadataMap = new _Map();
        targetMetadata.set(P, metadataMap);
      }
      return metadataMap;
    }
    function OrdinaryHasMetadata(MetadataKey, O, P) {
      var hasOwn2 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
      if (hasOwn2)
        return true;
      var parent = OrdinaryGetPrototypeOf(O);
      if (!IsNull(parent))
        return OrdinaryHasMetadata(MetadataKey, parent, P);
      return false;
    }
    function OrdinaryHasOwnMetadata(MetadataKey, O, P) {
      var metadataMap = GetOrCreateMetadataMap(
        O,
        P,
        /*Create*/
        false
      );
      if (IsUndefined(metadataMap))
        return false;
      return ToBoolean(metadataMap.has(MetadataKey));
    }
    function OrdinaryGetMetadata(MetadataKey, O, P) {
      var hasOwn2 = OrdinaryHasOwnMetadata(MetadataKey, O, P);
      if (hasOwn2)
        return OrdinaryGetOwnMetadata(MetadataKey, O, P);
      var parent = OrdinaryGetPrototypeOf(O);
      if (!IsNull(parent))
        return OrdinaryGetMetadata(MetadataKey, parent, P);
      return void 0;
    }
    function OrdinaryGetOwnMetadata(MetadataKey, O, P) {
      var metadataMap = GetOrCreateMetadataMap(
        O,
        P,
        /*Create*/
        false
      );
      if (IsUndefined(metadataMap))
        return void 0;
      return metadataMap.get(MetadataKey);
    }
    function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {
      var metadataMap = GetOrCreateMetadataMap(
        O,
        P,
        /*Create*/
        true
      );
      metadataMap.set(MetadataKey, MetadataValue);
    }
    function OrdinaryMetadataKeys(O, P) {
      var ownKeys = OrdinaryOwnMetadataKeys(O, P);
      var parent = OrdinaryGetPrototypeOf(O);
      if (parent === null)
        return ownKeys;
      var parentKeys = OrdinaryMetadataKeys(parent, P);
      if (parentKeys.length <= 0)
        return ownKeys;
      if (ownKeys.length <= 0)
        return parentKeys;
      var set = new _Set();
      var keys = [];
      for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {
        var key = ownKeys_1[_i];
        var hasKey = set.has(key);
        if (!hasKey) {
          set.add(key);
          keys.push(key);
        }
      }
      for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {
        var key = parentKeys_1[_a];
        var hasKey = set.has(key);
        if (!hasKey) {
          set.add(key);
          keys.push(key);
        }
      }
      return keys;
    }
    function OrdinaryOwnMetadataKeys(O, P) {
      var keys = [];
      var metadataMap = GetOrCreateMetadataMap(
        O,
        P,
        /*Create*/
        false
      );
      if (IsUndefined(metadataMap))
        return keys;
      var keysObj = metadataMap.keys();
      var iterator = GetIterator(keysObj);
      var k = 0;
      while (true) {
        var next = IteratorStep(iterator);
        if (!next) {
          keys.length = k;
          return keys;
        }
        var nextValue = IteratorValue(next);
        try {
          keys[k] = nextValue;
        } catch (e) {
          try {
            IteratorClose(iterator);
          } finally {
            throw e;
          }
        }
        k++;
      }
    }
    function Type(x) {
      if (x === null)
        return 1;
      switch (typeof x) {
        case "undefined":
          return 0;
        case "boolean":
          return 2;
        case "string":
          return 3;
        case "symbol":
          return 4;
        case "number":
          return 5;
        case "object":
          return x === null ? 1 : 6;
        default:
          return 6;
      }
    }
    function IsUndefined(x) {
      return x === void 0;
    }
    function IsNull(x) {
      return x === null;
    }
    function IsSymbol(x) {
      return typeof x === "symbol";
    }
    function IsObject(x) {
      return typeof x === "object" ? x !== null : typeof x === "function";
    }
    function ToPrimitive(input, PreferredType) {
      switch (Type(input)) {
        case 0:
          return input;
        case 1:
          return input;
        case 2:
          return input;
        case 3:
          return input;
        case 4:
          return input;
        case 5:
          return input;
      }
      var hint = PreferredType === 3 ? "string" : PreferredType === 5 ? "number" : "default";
      var exoticToPrim = GetMethod(input, toPrimitiveSymbol);
      if (exoticToPrim !== void 0) {
        var result = exoticToPrim.call(input, hint);
        if (IsObject(result))
          throw new TypeError();
        return result;
      }
      return OrdinaryToPrimitive(input, hint === "default" ? "number" : hint);
    }
    function OrdinaryToPrimitive(O, hint) {
      if (hint === "string") {
        var toString_1 = O.toString;
        if (IsCallable(toString_1)) {
          var result = toString_1.call(O);
          if (!IsObject(result))
            return result;
        }
        var valueOf = O.valueOf;
        if (IsCallable(valueOf)) {
          var result = valueOf.call(O);
          if (!IsObject(result))
            return result;
        }
      } else {
        var valueOf = O.valueOf;
        if (IsCallable(valueOf)) {
          var result = valueOf.call(O);
          if (!IsObject(result))
            return result;
        }
        var toString_2 = O.toString;
        if (IsCallable(toString_2)) {
          var result = toString_2.call(O);
          if (!IsObject(result))
            return result;
        }
      }
      throw new TypeError();
    }
    function ToBoolean(argument) {
      return !!argument;
    }
    function ToString(argument) {
      return "" + argument;
    }
    function ToPropertyKey(argument) {
      var key = ToPrimitive(
        argument,
        3
        /* String */
      );
      if (IsSymbol(key))
        return key;
      return ToString(key);
    }
    function IsArray(argument) {
      return Array.isArray ? Array.isArray(argument) : argument instanceof Object ? argument instanceof Array : Object.prototype.toString.call(argument) === "[object Array]";
    }
    function IsCallable(argument) {
      return typeof argument === "function";
    }
    function IsConstructor(argument) {
      return typeof argument === "function";
    }
    function IsPropertyKey(argument) {
      switch (Type(argument)) {
        case 3:
          return true;
        case 4:
          return true;
        default:
          return false;
      }
    }
    function GetMethod(V, P) {
      var func = V[P];
      if (func === void 0 || func === null)
        return void 0;
      if (!IsCallable(func))
        throw new TypeError();
      return func;
    }
    function GetIterator(obj) {
      var method = GetMethod(obj, iteratorSymbol);
      if (!IsCallable(method))
        throw new TypeError();
      var iterator = method.call(obj);
      if (!IsObject(iterator))
        throw new TypeError();
      return iterator;
    }
    function IteratorValue(iterResult) {
      return iterResult.value;
    }
    function IteratorStep(iterator) {
      var result = iterator.next();
      return result.done ? false : result;
    }
    function IteratorClose(iterator) {
      var f = iterator["return"];
      if (f)
        f.call(iterator);
    }
    function OrdinaryGetPrototypeOf(O) {
      var proto = Object.getPrototypeOf(O);
      if (typeof O !== "function" || O === functionPrototype)
        return proto;
      if (proto !== functionPrototype)
        return proto;
      var prototype = O.prototype;
      var prototypeProto = prototype && Object.getPrototypeOf(prototype);
      if (prototypeProto == null || prototypeProto === Object.prototype)
        return proto;
      var constructor = prototypeProto.constructor;
      if (typeof constructor !== "function")
        return proto;
      if (constructor === O)
        return proto;
      return constructor;
    }
    function CreateMapPolyfill() {
      var cacheSentinel = {};
      var arraySentinel = [];
      var MapIterator = (
        /** @class */
        function() {
          function MapIterator2(keys, values, selector) {
            this._index = 0;
            this._keys = keys;
            this._values = values;
            this._selector = selector;
          }
          MapIterator2.prototype["@@iterator"] = function() {
            return this;
          };
          MapIterator2.prototype[iteratorSymbol] = function() {
            return this;
          };
          MapIterator2.prototype.next = function() {
            var index = this._index;
            if (index >= 0 && index < this._keys.length) {
              var result = this._selector(this._keys[index], this._values[index]);
              if (index + 1 >= this._keys.length) {
                this._index = -1;
                this._keys = arraySentinel;
                this._values = arraySentinel;
              } else {
                this._index++;
              }
              return { value: result, done: false };
            }
            return { value: void 0, done: true };
          };
          MapIterator2.prototype.throw = function(error) {
            if (this._index >= 0) {
              this._index = -1;
              this._keys = arraySentinel;
              this._values = arraySentinel;
            }
            throw error;
          };
          MapIterator2.prototype.return = function(value) {
            if (this._index >= 0) {
              this._index = -1;
              this._keys = arraySentinel;
              this._values = arraySentinel;
            }
            return { value, done: true };
          };
          return MapIterator2;
        }()
      );
      return (
        /** @class */
        function() {
          function Map2() {
            this._keys = [];
            this._values = [];
            this._cacheKey = cacheSentinel;
            this._cacheIndex = -2;
          }
          Object.defineProperty(Map2.prototype, "size", {
            get: function() {
              return this._keys.length;
            },
            enumerable: true,
            configurable: true
          });
          Map2.prototype.has = function(key) {
            return this._find(
              key,
              /*insert*/
              false
            ) >= 0;
          };
          Map2.prototype.get = function(key) {
            var index = this._find(
              key,
              /*insert*/
              false
            );
            return index >= 0 ? this._values[index] : void 0;
          };
          Map2.prototype.set = function(key, value) {
            var index = this._find(
              key,
              /*insert*/
              true
            );
            this._values[index] = value;
            return this;
          };
          Map2.prototype.delete = function(key) {
            var index = this._find(
              key,
              /*insert*/
              false
            );
            if (index >= 0) {
              var size = this._keys.length;
              for (var i = index + 1; i < size; i++) {
                this._keys[i - 1] = this._keys[i];
                this._values[i - 1] = this._values[i];
              }
              this._keys.length--;
              this._values.length--;
              if (key === this._cacheKey) {
                this._cacheKey = cacheSentinel;
                this._cacheIndex = -2;
              }
              return true;
            }
            return false;
          };
          Map2.prototype.clear = function() {
            this._keys.length = 0;
            this._values.length = 0;
            this._cacheKey = cacheSentinel;
            this._cacheIndex = -2;
          };
          Map2.prototype.keys = function() {
            return new MapIterator(this._keys, this._values, getKey);
          };
          Map2.prototype.values = function() {
            return new MapIterator(this._keys, this._values, getValue);
          };
          Map2.prototype.entries = function() {
            return new MapIterator(this._keys, this._values, getEntry);
          };
          Map2.prototype["@@iterator"] = function() {
            return this.entries();
          };
          Map2.prototype[iteratorSymbol] = function() {
            return this.entries();
          };
          Map2.prototype._find = function(key, insert) {
            if (this._cacheKey !== key) {
              this._cacheIndex = this._keys.indexOf(this._cacheKey = key);
            }
            if (this._cacheIndex < 0 && insert) {
              this._cacheIndex = this._keys.length;
              this._keys.push(key);
              this._values.push(void 0);
            }
            return this._cacheIndex;
          };
          return Map2;
        }()
      );
      function getKey(key, _) {
        return key;
      }
      function getValue(_, value) {
        return value;
      }
      function getEntry(key, value) {
        return [key, value];
      }
    }
    function CreateSetPolyfill() {
      return (
        /** @class */
        function() {
          function Set2() {
            this._map = new _Map();
          }
          Object.defineProperty(Set2.prototype, "size", {
            get: function() {
              return this._map.size;
            },
            enumerable: true,
            configurable: true
          });
          Set2.prototype.has = function(value) {
            return this._map.has(value);
          };
          Set2.prototype.add = function(value) {
            return this._map.set(value, value), this;
          };
          Set2.prototype.delete = function(value) {
            return this._map.delete(value);
          };
          Set2.prototype.clear = function() {
            this._map.clear();
          };
          Set2.prototype.keys = function() {
            return this._map.keys();
          };
          Set2.prototype.values = function() {
            return this._map.values();
          };
          Set2.prototype.entries = function() {
            return this._map.entries();
          };
          Set2.prototype["@@iterator"] = function() {
            return this.keys();
          };
          Set2.prototype[iteratorSymbol] = function() {
            return this.keys();
          };
          return Set2;
        }()
      );
    }
    function CreateWeakMapPolyfill() {
      var UUID_SIZE = 16;
      var keys = HashMap.create();
      var rootKey = CreateUniqueKey();
      return (
        /** @class */
        function() {
          function WeakMap2() {
            this._key = CreateUniqueKey();
          }
          WeakMap2.prototype.has = function(target) {
            var table = GetOrCreateWeakMapTable(
              target,
              /*create*/
              false
            );
            return table !== void 0 ? HashMap.has(table, this._key) : false;
          };
          WeakMap2.prototype.get = function(target) {
            var table = GetOrCreateWeakMapTable(
              target,
              /*create*/
              false
            );
            return table !== void 0 ? HashMap.get(table, this._key) : void 0;
          };
          WeakMap2.prototype.set = function(target, value) {
            var table = GetOrCreateWeakMapTable(
              target,
              /*create*/
              true
            );
            table[this._key] = value;
            return this;
          };
          WeakMap2.prototype.delete = function(target) {
            var table = GetOrCreateWeakMapTable(
              target,
              /*create*/
              false
            );
            return table !== void 0 ? delete table[this._key] : false;
          };
          WeakMap2.prototype.clear = function() {
            this._key = CreateUniqueKey();
          };
          return WeakMap2;
        }()
      );
      function CreateUniqueKey() {
        var key;
        do
          key = "@@WeakMap@@" + CreateUUID();
        while (HashMap.has(keys, key));
        keys[key] = true;
        return key;
      }
      function GetOrCreateWeakMapTable(target, create2) {
        if (!hasOwn.call(target, rootKey)) {
          if (!create2)
            return void 0;
          Object.defineProperty(target, rootKey, { value: HashMap.create() });
        }
        return target[rootKey];
      }
      function FillRandomBytes(buffer, size) {
        for (var i = 0; i < size; ++i)
          buffer[i] = Math.random() * 255 | 0;
        return buffer;
      }
      function GenRandomBytes(size) {
        if (typeof Uint8Array === "function") {
          if (typeof crypto !== "undefined")
            return crypto.getRandomValues(new Uint8Array(size));
          if (typeof msCrypto !== "undefined")
            return msCrypto.getRandomValues(new Uint8Array(size));
          return FillRandomBytes(new Uint8Array(size), size);
        }
        return FillRandomBytes(new Array(size), size);
      }
      function CreateUUID() {
        var data = GenRandomBytes(UUID_SIZE);
        data[6] = data[6] & 79 | 64;
        data[8] = data[8] & 191 | 128;
        var result = "";
        for (var offset = 0; offset < UUID_SIZE; ++offset) {
          var byte = data[offset];
          if (offset === 4 || offset === 6 || offset === 8)
            result += "-";
          if (byte < 16)
            result += "0";
          result += byte.toString(16).toLowerCase();
        }
        return result;
      }
    }
    function MakeDictionary(obj) {
      obj.__ = void 0;
      delete obj.__;
      return obj;
    }
  });
})(Reflect2 || (Reflect2 = {}));

// main.ts
var import_obsidian19 = require("obsidian");

// src/Settings/SettingsTab.ts
var import_obsidian2 = require("obsidian");

// src/Components/EventDispatcher/Event.ts
var Event = class {
  constructor(data) {
    this.data = data;
  }
  get() {
    return this.data;
  }
  stop() {
    return;
  }
};

// src/Utils/ObjectHelper.ts
var ObjectHelper = class _ObjectHelper {
  static compare(old = {}, actual = {}) {
    const changed = {};
    const keys = [...Object.keys(old), ...Object.keys(actual)].filter((e, i, s) => s.indexOf(e) === i);
    for (const k of keys) {
      const first = old[k];
      const second = actual[k];
      const type = typeof (first !== void 0 ? first : second);
      const thereIsNull = first === null || second === null;
      if (type === "object" && !thereIsNull) {
        if (Array.isArray(first)) {
          const hasDiff = first.some((x) => !second.includes(x));
          const isChanged = hasDiff ? true : second.some((x) => !first.includes(x));
          if (isChanged) {
            changed[k] = true;
          }
        } else {
          const c = _ObjectHelper.compare(first, second);
          if (Object.values(c).some((e) => e !== false)) {
            changed[k] = c;
          }
        }
      } else {
        if (first !== second) {
          changed[k] = true;
        }
      }
    }
    return changed;
  }
  static fillFrom(to, from) {
    for (const [k, v] of Object.entries(to)) {
      const fv = from[k];
      if (fv === void 0) {
        continue;
      }
      const type = typeof v;
      if (type === "object" && !Array.isArray(fv) && v !== null) {
        if (fv !== null) {
          _ObjectHelper.fillFrom(v, fv);
        }
        continue;
      }
      to[k] = fv;
    }
    return to;
  }
  static entries(object) {
    return Object.entries(object);
  }
  static values(object) {
    return Object.values(object);
  }
};

// node_modules/inversify/es/constants/metadata_keys.js
var NAMED_TAG = "named";
var NAME_TAG = "name";
var UNMANAGED_TAG = "unmanaged";
var OPTIONAL_TAG = "optional";
var INJECT_TAG = "inject";
var MULTI_INJECT_TAG = "multi_inject";
var TAGGED = "inversify:tagged";
var TAGGED_PROP = "inversify:tagged_props";
var PARAM_TYPES = "inversify:paramtypes";
var DESIGN_PARAM_TYPES = "design:paramtypes";
var POST_CONSTRUCT = "post_construct";
var PRE_DESTROY = "pre_destroy";
function getNonCustomTagKeys() {
  return [
    INJECT_TAG,
    MULTI_INJECT_TAG,
    NAME_TAG,
    UNMANAGED_TAG,
    NAMED_TAG,
    OPTIONAL_TAG
  ];
}
var NON_CUSTOM_TAG_KEYS = getNonCustomTagKeys();

// node_modules/inversify/es/constants/literal_types.js
var BindingScopeEnum = {
  Request: "Request",
  Singleton: "Singleton",
  Transient: "Transient"
};
var BindingTypeEnum = {
  ConstantValue: "ConstantValue",
  Constructor: "Constructor",
  DynamicValue: "DynamicValue",
  Factory: "Factory",
  Function: "Function",
  Instance: "Instance",
  Invalid: "Invalid",
  Provider: "Provider"
};
var TargetTypeEnum = {
  ClassProperty: "ClassProperty",
  ConstructorArgument: "ConstructorArgument",
  Variable: "Variable"
};

// node_modules/inversify/es/utils/id.js
var idCounter = 0;
function id() {
  return idCounter++;
}

// node_modules/inversify/es/bindings/binding.js
var Binding = function() {
  function Binding2(serviceIdentifier, scope) {
    this.id = id();
    this.activated = false;
    this.serviceIdentifier = serviceIdentifier;
    this.scope = scope;
    this.type = BindingTypeEnum.Invalid;
    this.constraint = function(request) {
      return true;
    };
    this.implementationType = null;
    this.cache = null;
    this.factory = null;
    this.provider = null;
    this.onActivation = null;
    this.onDeactivation = null;
    this.dynamicValue = null;
  }
  Binding2.prototype.clone = function() {
    var clone = new Binding2(this.serviceIdentifier, this.scope);
    clone.activated = clone.scope === BindingScopeEnum.Singleton ? this.activated : false;
    clone.implementationType = this.implementationType;
    clone.dynamicValue = this.dynamicValue;
    clone.scope = this.scope;
    clone.type = this.type;
    clone.factory = this.factory;
    clone.provider = this.provider;
    clone.constraint = this.constraint;
    clone.onActivation = this.onActivation;
    clone.onDeactivation = this.onDeactivation;
    clone.cache = this.cache;
    return clone;
  };
  return Binding2;
}();

// node_modules/inversify/es/constants/error_msgs.js
var DUPLICATED_INJECTABLE_DECORATOR = "Cannot apply @injectable decorator multiple times.";
var DUPLICATED_METADATA = "Metadata key was used more than once in a parameter:";
var NULL_ARGUMENT = "NULL argument";
var KEY_NOT_FOUND = "Key Not Found";
var AMBIGUOUS_MATCH = "Ambiguous match found for serviceIdentifier:";
var CANNOT_UNBIND = "Could not unbind serviceIdentifier:";
var NOT_REGISTERED = "No matching bindings found for serviceIdentifier:";
var MISSING_INJECTABLE_ANNOTATION = "Missing required @injectable annotation in:";
var MISSING_INJECT_ANNOTATION = "Missing required @inject or @multiInject annotation in:";
var UNDEFINED_INJECT_ANNOTATION = function(name) {
  return "@inject called with undefined this could mean that the class " + name + " has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation.";
};
var CIRCULAR_DEPENDENCY = "Circular dependency found:";
var INVALID_BINDING_TYPE = "Invalid binding type:";
var NO_MORE_SNAPSHOTS_AVAILABLE = "No snapshot available to restore.";
var INVALID_MIDDLEWARE_RETURN = "Invalid return type in middleware. Middleware must return!";
var INVALID_FUNCTION_BINDING = "Value provided to function binding must be a function!";
var LAZY_IN_SYNC = function(key) {
  return "You are attempting to construct '" + key + "' in a synchronous way\n but it has asynchronous dependencies.";
};
var INVALID_TO_SELF_VALUE = "The toSelf function can only be applied when a constructor is used as service identifier";
var INVALID_DECORATOR_OPERATION = "The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";
var ARGUMENTS_LENGTH_MISMATCH = function() {
  var values = [];
  for (var _i = 0; _i < arguments.length; _i++) {
    values[_i] = arguments[_i];
  }
  return "The number of constructor arguments in the derived class " + (values[0] + " must be >= than the number of constructor arguments of its base class.");
};
var CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = "Invalid Container constructor argument. Container options must be an object.";
var CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = 'Invalid Container option. Default scope must be a string ("singleton" or "transient").';
var CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = "Invalid Container option. Auto bind injectable must be a boolean";
var CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = "Invalid Container option. Skip base check must be a boolean";
var ASYNC_UNBIND_REQUIRED = "Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";
var POST_CONSTRUCT_ERROR = function(clazz, errorMessage) {
  return "@postConstruct error in class " + clazz + ": " + errorMessage;
};
var PRE_DESTROY_ERROR = function(clazz, errorMessage) {
  return "@preDestroy error in class " + clazz + ": " + errorMessage;
};
var ON_DEACTIVATION_ERROR = function(clazz, errorMessage) {
  return "onDeactivation() error in class " + clazz + ": " + errorMessage;
};
var CIRCULAR_DEPENDENCY_IN_FACTORY = function(factoryType, serviceIdentifier) {
  return "It looks like there is a circular dependency in one of the '" + factoryType + "' bindings. Please investigate bindings with " + ("service identifier '" + serviceIdentifier + "'.");
};
var STACK_OVERFLOW = "Maximum call stack size exceeded";

// node_modules/inversify/es/planning/metadata_reader.js
var MetadataReader = function() {
  function MetadataReader2() {
  }
  MetadataReader2.prototype.getConstructorMetadata = function(constructorFunc) {
    var compilerGeneratedMetadata = Reflect.getMetadata(PARAM_TYPES, constructorFunc);
    var userGeneratedMetadata = Reflect.getMetadata(TAGGED, constructorFunc);
    return {
      compilerGeneratedMetadata,
      userGeneratedMetadata: userGeneratedMetadata || {}
    };
  };
  MetadataReader2.prototype.getPropertiesMetadata = function(constructorFunc) {
    var userGeneratedMetadata = Reflect.getMetadata(TAGGED_PROP, constructorFunc) || [];
    return userGeneratedMetadata;
  };
  return MetadataReader2;
}();

// node_modules/inversify/es/bindings/binding_count.js
var BindingCount = {
  MultipleBindingsAvailable: 2,
  NoBindingsAvailable: 0,
  OnlyOneBindingAvailable: 1
};

// node_modules/inversify/es/utils/exceptions.js
function isStackOverflowExeption(error) {
  return error instanceof RangeError || error.message === STACK_OVERFLOW;
}
var tryAndThrowErrorIfStackOverflow = function(fn, errorCallback) {
  try {
    return fn();
  } catch (error) {
    if (isStackOverflowExeption(error)) {
      error = errorCallback();
    }
    throw error;
  }
};

// node_modules/inversify/es/utils/serialization.js
function getServiceIdentifierAsString(serviceIdentifier) {
  if (typeof serviceIdentifier === "function") {
    var _serviceIdentifier = serviceIdentifier;
    return _serviceIdentifier.name;
  } else if (typeof serviceIdentifier === "symbol") {
    return serviceIdentifier.toString();
  } else {
    var _serviceIdentifier = serviceIdentifier;
    return _serviceIdentifier;
  }
}
function listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings2) {
  var registeredBindingsList = "";
  var registeredBindings = getBindings2(container, serviceIdentifier);
  if (registeredBindings.length !== 0) {
    registeredBindingsList = "\nRegistered bindings:";
    registeredBindings.forEach(function(binding) {
      var name = "Object";
      if (binding.implementationType !== null) {
        name = getFunctionName(binding.implementationType);
      }
      registeredBindingsList = registeredBindingsList + "\n " + name;
      if (binding.constraint.metaData) {
        registeredBindingsList = registeredBindingsList + " - " + binding.constraint.metaData;
      }
    });
  }
  return registeredBindingsList;
}
function alreadyDependencyChain(request, serviceIdentifier) {
  if (request.parentRequest === null) {
    return false;
  } else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {
    return true;
  } else {
    return alreadyDependencyChain(request.parentRequest, serviceIdentifier);
  }
}
function dependencyChainToString(request) {
  function _createStringArr(req, result) {
    if (result === void 0) {
      result = [];
    }
    var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);
    result.push(serviceIdentifier);
    if (req.parentRequest !== null) {
      return _createStringArr(req.parentRequest, result);
    }
    return result;
  }
  var stringArr = _createStringArr(request);
  return stringArr.reverse().join(" --> ");
}
function circularDependencyToException(request) {
  request.childRequests.forEach(function(childRequest) {
    if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {
      var services = dependencyChainToString(childRequest);
      throw new Error(CIRCULAR_DEPENDENCY + " " + services);
    } else {
      circularDependencyToException(childRequest);
    }
  });
}
function listMetadataForTarget(serviceIdentifierString, target) {
  if (target.isTagged() || target.isNamed()) {
    var m_1 = "";
    var namedTag = target.getNamedTag();
    var otherTags = target.getCustomTags();
    if (namedTag !== null) {
      m_1 += namedTag.toString() + "\n";
    }
    if (otherTags !== null) {
      otherTags.forEach(function(tag) {
        m_1 += tag.toString() + "\n";
      });
    }
    return " " + serviceIdentifierString + "\n " + serviceIdentifierString + " - " + m_1;
  } else {
    return " " + serviceIdentifierString;
  }
}
function getFunctionName(func) {
  if (func.name) {
    return func.name;
  } else {
    var name_1 = func.toString();
    var match = name_1.match(/^function\s*([^\s(]+)/);
    return match ? match[1] : "Anonymous function: " + name_1;
  }
}
function getSymbolDescription(symbol) {
  return symbol.toString().slice(7, -1);
}

// node_modules/inversify/es/planning/context.js
var Context = function() {
  function Context2(container) {
    this.id = id();
    this.container = container;
  }
  Context2.prototype.addPlan = function(plan2) {
    this.plan = plan2;
  };
  Context2.prototype.setCurrentRequest = function(currentRequest) {
    this.currentRequest = currentRequest;
  };
  return Context2;
}();

// node_modules/inversify/es/planning/metadata.js
var Metadata = function() {
  function Metadata2(key, value) {
    this.key = key;
    this.value = value;
  }
  Metadata2.prototype.toString = function() {
    if (this.key === NAMED_TAG) {
      return "named: " + String(this.value).toString() + " ";
    } else {
      return "tagged: { key:" + this.key.toString() + ", value: " + String(this.value) + " }";
    }
  };
  return Metadata2;
}();

// node_modules/inversify/es/planning/plan.js
var Plan = function() {
  function Plan2(parentContext, rootRequest) {
    this.parentContext = parentContext;
    this.rootRequest = rootRequest;
  }
  return Plan2;
}();

// node_modules/inversify/es/annotation/lazy_service_identifier.js
var LazyServiceIdentifier = function() {
  function LazyServiceIdentifier2(cb) {
    this._cb = cb;
  }
  LazyServiceIdentifier2.prototype.unwrap = function() {
    return this._cb();
  };
  return LazyServiceIdentifier2;
}();

// node_modules/inversify/es/planning/queryable_string.js
var QueryableString = function() {
  function QueryableString2(str) {
    this.str = str;
  }
  QueryableString2.prototype.startsWith = function(searchString) {
    return this.str.indexOf(searchString) === 0;
  };
  QueryableString2.prototype.endsWith = function(searchString) {
    var reverseString = "";
    var reverseSearchString = searchString.split("").reverse().join("");
    reverseString = this.str.split("").reverse().join("");
    return this.startsWith.call({ str: reverseString }, reverseSearchString);
  };
  QueryableString2.prototype.contains = function(searchString) {
    return this.str.indexOf(searchString) !== -1;
  };
  QueryableString2.prototype.equals = function(compareString) {
    return this.str === compareString;
  };
  QueryableString2.prototype.value = function() {
    return this.str;
  };
  return QueryableString2;
}();

// node_modules/inversify/es/planning/target.js
var Target = function() {
  function Target2(type, identifier, serviceIdentifier, namedOrTagged) {
    this.id = id();
    this.type = type;
    this.serviceIdentifier = serviceIdentifier;
    var queryableName = typeof identifier === "symbol" ? getSymbolDescription(identifier) : identifier;
    this.name = new QueryableString(queryableName || "");
    this.identifier = identifier;
    this.metadata = new Array();
    var metadataItem = null;
    if (typeof namedOrTagged === "string") {
      metadataItem = new Metadata(NAMED_TAG, namedOrTagged);
    } else if (namedOrTagged instanceof Metadata) {
      metadataItem = namedOrTagged;
    }
    if (metadataItem !== null) {
      this.metadata.push(metadataItem);
    }
  }
  Target2.prototype.hasTag = function(key) {
    for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {
      var m = _a[_i];
      if (m.key === key) {
        return true;
      }
    }
    return false;
  };
  Target2.prototype.isArray = function() {
    return this.hasTag(MULTI_INJECT_TAG);
  };
  Target2.prototype.matchesArray = function(name) {
    return this.matchesTag(MULTI_INJECT_TAG)(name);
  };
  Target2.prototype.isNamed = function() {
    return this.hasTag(NAMED_TAG);
  };
  Target2.prototype.isTagged = function() {
    return this.metadata.some(function(metadata) {
      return NON_CUSTOM_TAG_KEYS.every(function(key) {
        return metadata.key !== key;
      });
    });
  };
  Target2.prototype.isOptional = function() {
    return this.matchesTag(OPTIONAL_TAG)(true);
  };
  Target2.prototype.getNamedTag = function() {
    if (this.isNamed()) {
      return this.metadata.filter(function(m) {
        return m.key === NAMED_TAG;
      })[0];
    }
    return null;
  };
  Target2.prototype.getCustomTags = function() {
    if (this.isTagged()) {
      return this.metadata.filter(function(metadata) {
        return NON_CUSTOM_TAG_KEYS.every(function(key) {
          return metadata.key !== key;
        });
      });
    } else {
      return null;
    }
  };
  Target2.prototype.matchesNamedTag = function(name) {
    return this.matchesTag(NAMED_TAG)(name);
  };
  Target2.prototype.matchesTag = function(key) {
    var _this = this;
    return function(value) {
      for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {
        var m = _a[_i];
        if (m.key === key && m.value === value) {
          return true;
        }
      }
      return false;
    };
  };
  return Target2;
}();

// node_modules/inversify/es/planning/reflection_utils.js
var __spreadArray = function(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i);
        ar[i] = from[i];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
};
function getDependencies(metadataReader, func) {
  var constructorName = getFunctionName(func);
  return getTargets(metadataReader, constructorName, func, false);
}
function getTargets(metadataReader, constructorName, func, isBaseClass) {
  var metadata = metadataReader.getConstructorMetadata(func);
  var serviceIdentifiers = metadata.compilerGeneratedMetadata;
  if (serviceIdentifiers === void 0) {
    var msg = MISSING_INJECTABLE_ANNOTATION + " " + constructorName + ".";
    throw new Error(msg);
  }
  var constructorArgsMetadata = metadata.userGeneratedMetadata;
  var keys = Object.keys(constructorArgsMetadata);
  var hasUserDeclaredUnknownInjections = func.length === 0 && keys.length > 0;
  var hasOptionalParameters = keys.length > func.length;
  var iterations = hasUserDeclaredUnknownInjections || hasOptionalParameters ? keys.length : func.length;
  var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);
  var propertyTargets = getClassPropsAsTargets(metadataReader, func, constructorName);
  var targets = __spreadArray(__spreadArray([], constructorTargets, true), propertyTargets, true);
  return targets;
}
function getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {
  var targetMetadata = constructorArgsMetadata[index.toString()] || [];
  var metadata = formatTargetMetadata(targetMetadata);
  var isManaged = metadata.unmanaged !== true;
  var serviceIdentifier = serviceIdentifiers[index];
  var injectIdentifier = metadata.inject || metadata.multiInject;
  serviceIdentifier = injectIdentifier ? injectIdentifier : serviceIdentifier;
  if (serviceIdentifier instanceof LazyServiceIdentifier) {
    serviceIdentifier = serviceIdentifier.unwrap();
  }
  if (isManaged) {
    var isObject = serviceIdentifier === Object;
    var isFunction = serviceIdentifier === Function;
    var isUndefined = serviceIdentifier === void 0;
    var isUnknownType = isObject || isFunction || isUndefined;
    if (!isBaseClass && isUnknownType) {
      var msg = MISSING_INJECT_ANNOTATION + " argument " + index + " in class " + constructorName + ".";
      throw new Error(msg);
    }
    var target = new Target(TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);
    target.metadata = targetMetadata;
    return target;
  }
  return null;
}
function getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {
  var targets = [];
  for (var i = 0; i < iterations; i++) {
    var index = i;
    var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);
    if (target !== null) {
      targets.push(target);
    }
  }
  return targets;
}
function _getServiceIdentifierForProperty(inject2, multiInject2, propertyName, className) {
  var serviceIdentifier = inject2 || multiInject2;
  if (serviceIdentifier === void 0) {
    var msg = MISSING_INJECTABLE_ANNOTATION + " for property " + String(propertyName) + " in class " + className + ".";
    throw new Error(msg);
  }
  return serviceIdentifier;
}
function getClassPropsAsTargets(metadataReader, constructorFunc, constructorName) {
  var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);
  var targets = [];
  var symbolKeys = Object.getOwnPropertySymbols(classPropsMetadata);
  var stringKeys = Object.keys(classPropsMetadata);
  var keys = stringKeys.concat(symbolKeys);
  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
    var key = keys_1[_i];
    var targetMetadata = classPropsMetadata[key];
    var metadata = formatTargetMetadata(targetMetadata);
    var identifier = metadata.targetName || key;
    var serviceIdentifier = _getServiceIdentifierForProperty(metadata.inject, metadata.multiInject, key, constructorName);
    var target = new Target(TargetTypeEnum.ClassProperty, identifier, serviceIdentifier);
    target.metadata = targetMetadata;
    targets.push(target);
  }
  var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;
  if (baseConstructor !== Object) {
    var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor, constructorName);
    targets = __spreadArray(__spreadArray([], targets, true), baseTargets, true);
  }
  return targets;
}
function getBaseClassDependencyCount(metadataReader, func) {
  var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;
  if (baseConstructor !== Object) {
    var baseConstructorName = getFunctionName(baseConstructor);
    var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);
    var metadata = targets.map(function(t3) {
      return t3.metadata.filter(function(m) {
        return m.key === UNMANAGED_TAG;
      });
    });
    var unmanagedCount = [].concat.apply([], metadata).length;
    var dependencyCount = targets.length - unmanagedCount;
    if (dependencyCount > 0) {
      return dependencyCount;
    } else {
      return getBaseClassDependencyCount(metadataReader, baseConstructor);
    }
  } else {
    return 0;
  }
}
function formatTargetMetadata(targetMetadata) {
  var targetMetadataMap = {};
  targetMetadata.forEach(function(m) {
    targetMetadataMap[m.key.toString()] = m.value;
  });
  return {
    inject: targetMetadataMap[INJECT_TAG],
    multiInject: targetMetadataMap[MULTI_INJECT_TAG],
    targetName: targetMetadataMap[NAME_TAG],
    unmanaged: targetMetadataMap[UNMANAGED_TAG]
  };
}

// node_modules/inversify/es/planning/request.js
var Request = function() {
  function Request2(serviceIdentifier, parentContext, parentRequest, bindings, target) {
    this.id = id();
    this.serviceIdentifier = serviceIdentifier;
    this.parentContext = parentContext;
    this.parentRequest = parentRequest;
    this.target = target;
    this.childRequests = [];
    this.bindings = Array.isArray(bindings) ? bindings : [bindings];
    this.requestScope = parentRequest === null ? /* @__PURE__ */ new Map() : null;
  }
  Request2.prototype.addChildRequest = function(serviceIdentifier, bindings, target) {
    var child = new Request2(serviceIdentifier, this.parentContext, this, bindings, target);
    this.childRequests.push(child);
    return child;
  };
  return Request2;
}();

// node_modules/inversify/es/planning/planner.js
function getBindingDictionary(cntnr) {
  return cntnr._bindingDictionary;
}
function _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {
  var metadataKey = isMultiInject ? MULTI_INJECT_TAG : INJECT_TAG;
  var injectMetadata = new Metadata(metadataKey, serviceIdentifier);
  var target = new Target(targetType, name, serviceIdentifier, injectMetadata);
  if (key !== void 0) {
    var tagMetadata = new Metadata(key, value);
    target.metadata.push(tagMetadata);
  }
  return target;
}
function _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {
  var bindings = getBindings(context.container, target.serviceIdentifier);
  var activeBindings = [];
  if (bindings.length === BindingCount.NoBindingsAvailable && context.container.options.autoBindInjectable && typeof target.serviceIdentifier === "function" && metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {
    context.container.bind(target.serviceIdentifier).toSelf();
    bindings = getBindings(context.container, target.serviceIdentifier);
  }
  if (!avoidConstraints) {
    activeBindings = bindings.filter(function(binding) {
      var request = new Request(binding.serviceIdentifier, context, parentRequest, binding, target);
      return binding.constraint(request);
    });
  } else {
    activeBindings = bindings;
  }
  _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);
  return activeBindings;
}
function _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {
  switch (bindings.length) {
    case BindingCount.NoBindingsAvailable:
      if (target.isOptional()) {
        return bindings;
      } else {
        var serviceIdentifierString = getServiceIdentifierAsString(serviceIdentifier);
        var msg = NOT_REGISTERED;
        msg += listMetadataForTarget(serviceIdentifierString, target);
        msg += listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);
        throw new Error(msg);
      }
    case BindingCount.OnlyOneBindingAvailable:
      return bindings;
    case BindingCount.MultipleBindingsAvailable:
    default:
      if (!target.isArray()) {
        var serviceIdentifierString = getServiceIdentifierAsString(serviceIdentifier);
        var msg = AMBIGUOUS_MATCH + " " + serviceIdentifierString;
        msg += listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);
        throw new Error(msg);
      } else {
        return bindings;
      }
  }
}
function _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {
  var activeBindings;
  var childRequest;
  if (parentRequest === null) {
    activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);
    childRequest = new Request(serviceIdentifier, context, null, activeBindings, target);
    var thePlan = new Plan(context, childRequest);
    context.addPlan(thePlan);
  } else {
    activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);
    childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);
  }
  activeBindings.forEach(function(binding) {
    var subChildRequest = null;
    if (target.isArray()) {
      subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);
    } else {
      if (binding.cache) {
        return;
      }
      subChildRequest = childRequest;
    }
    if (binding.type === BindingTypeEnum.Instance && binding.implementationType !== null) {
      var dependencies = getDependencies(metadataReader, binding.implementationType);
      if (!context.container.options.skipBaseClassChecks) {
        var baseClassDependencyCount = getBaseClassDependencyCount(metadataReader, binding.implementationType);
        if (dependencies.length < baseClassDependencyCount) {
          var error = ARGUMENTS_LENGTH_MISMATCH(getFunctionName(binding.implementationType));
          throw new Error(error);
        }
      }
      dependencies.forEach(function(dependency) {
        _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);
      });
    }
  });
}
function getBindings(container, serviceIdentifier) {
  var bindings = [];
  var bindingDictionary = getBindingDictionary(container);
  if (bindingDictionary.hasKey(serviceIdentifier)) {
    bindings = bindingDictionary.get(serviceIdentifier);
  } else if (container.parent !== null) {
    bindings = getBindings(container.parent, serviceIdentifier);
  }
  return bindings;
}
function plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {
  if (avoidConstraints === void 0) {
    avoidConstraints = false;
  }
  var context = new Context(container);
  var target = _createTarget(isMultiInject, targetType, serviceIdentifier, "", key, value);
  try {
    _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);
    return context;
  } catch (error) {
    if (isStackOverflowExeption(error)) {
      circularDependencyToException(context.plan.rootRequest);
    }
    throw error;
  }
}
function createMockRequest(container, serviceIdentifier, key, value) {
  var target = new Target(TargetTypeEnum.Variable, "", serviceIdentifier, new Metadata(key, value));
  var context = new Context(container);
  var request = new Request(serviceIdentifier, context, null, [], target);
  return request;
}

// node_modules/inversify/es/utils/async.js
function isPromise(object) {
  var isObjectOrFunction = typeof object === "object" && object !== null || typeof object === "function";
  return isObjectOrFunction && typeof object.then === "function";
}
function isPromiseOrContainsPromise(object) {
  if (isPromise(object)) {
    return true;
  }
  return Array.isArray(object) && object.some(isPromise);
}

// node_modules/inversify/es/scope/scope.js
var __awaiter = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve2) {
      resolve2(value);
    });
  }
  return new (P || (P = Promise))(function(resolve2, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t3[0] & 1)
      throw t3[1];
    return t3[1];
  }, trys: [], ops: [] }, f, y, t3, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f)
      throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (f = 1, y && (t3 = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t3 = y["return"]) && t3.call(y), 0) : y.next) && !(t3 = t3.call(y, op[1])).done)
          return t3;
        if (y = 0, t3)
          op = [op[0] & 2, t3.value];
        switch (op[0]) {
          case 0:
          case 1:
            t3 = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t3 = _.trys, t3 = t3.length > 0 && t3[t3.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t3 || op[1] > t3[0] && op[1] < t3[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t3[1]) {
              _.label = t3[1];
              t3 = op;
              break;
            }
            if (t3 && _.label < t3[2]) {
              _.label = t3[2];
              _.ops.push(op);
              break;
            }
            if (t3[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t3 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var tryGetFromScope = function(requestScope, binding) {
  if (binding.scope === BindingScopeEnum.Singleton && binding.activated) {
    return binding.cache;
  }
  if (binding.scope === BindingScopeEnum.Request && requestScope.has(binding.id)) {
    return requestScope.get(binding.id);
  }
  return null;
};
var saveToScope = function(requestScope, binding, result) {
  if (binding.scope === BindingScopeEnum.Singleton) {
    _saveToSingletonScope(binding, result);
  }
  if (binding.scope === BindingScopeEnum.Request) {
    _saveToRequestScope(requestScope, binding, result);
  }
};
var _saveToRequestScope = function(requestScope, binding, result) {
  if (!requestScope.has(binding.id)) {
    requestScope.set(binding.id, result);
  }
};
var _saveToSingletonScope = function(binding, result) {
  binding.cache = result;
  binding.activated = true;
  if (isPromise(result)) {
    void _saveAsyncResultToSingletonScope(binding, result);
  }
};
var _saveAsyncResultToSingletonScope = function(binding, asyncResult) {
  return __awaiter(void 0, void 0, void 0, function() {
    var result, ex_1;
    return __generator(this, function(_a) {
      switch (_a.label) {
        case 0:
          _a.trys.push([0, 2, , 3]);
          return [4, asyncResult];
        case 1:
          result = _a.sent();
          binding.cache = result;
          return [3, 3];
        case 2:
          ex_1 = _a.sent();
          binding.cache = null;
          binding.activated = false;
          throw ex_1;
        case 3:
          return [2];
      }
    });
  });
};

// node_modules/inversify/es/utils/factory_type.js
var FactoryType;
(function(FactoryType2) {
  FactoryType2["DynamicValue"] = "toDynamicValue";
  FactoryType2["Factory"] = "toFactory";
  FactoryType2["Provider"] = "toProvider";
})(FactoryType || (FactoryType = {}));

// node_modules/inversify/es/utils/binding_utils.js
var ensureFullyBound = function(binding) {
  var boundValue = null;
  switch (binding.type) {
    case BindingTypeEnum.ConstantValue:
    case BindingTypeEnum.Function:
      boundValue = binding.cache;
      break;
    case BindingTypeEnum.Constructor:
    case BindingTypeEnum.Instance:
      boundValue = binding.implementationType;
      break;
    case BindingTypeEnum.DynamicValue:
      boundValue = binding.dynamicValue;
      break;
    case BindingTypeEnum.Provider:
      boundValue = binding.provider;
      break;
    case BindingTypeEnum.Factory:
      boundValue = binding.factory;
      break;
  }
  if (boundValue === null) {
    var serviceIdentifierAsString = getServiceIdentifierAsString(binding.serviceIdentifier);
    throw new Error(INVALID_BINDING_TYPE + " " + serviceIdentifierAsString);
  }
};
var getFactoryDetails = function(binding) {
  switch (binding.type) {
    case BindingTypeEnum.Factory:
      return { factory: binding.factory, factoryType: FactoryType.Factory };
    case BindingTypeEnum.Provider:
      return { factory: binding.provider, factoryType: FactoryType.Provider };
    case BindingTypeEnum.DynamicValue:
      return { factory: binding.dynamicValue, factoryType: FactoryType.DynamicValue };
    default:
      throw new Error("Unexpected factory type " + binding.type);
  }
};

// node_modules/inversify/es/resolution/instantiation.js
var __assign = function() {
  __assign = Object.assign || function(t3) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p))
          t3[p] = s[p];
    }
    return t3;
  };
  return __assign.apply(this, arguments);
};
var __awaiter2 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve2) {
      resolve2(value);
    });
  }
  return new (P || (P = Promise))(function(resolve2, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator2 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t3[0] & 1)
      throw t3[1];
    return t3[1];
  }, trys: [], ops: [] }, f, y, t3, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f)
      throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (f = 1, y && (t3 = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t3 = y["return"]) && t3.call(y), 0) : y.next) && !(t3 = t3.call(y, op[1])).done)
          return t3;
        if (y = 0, t3)
          op = [op[0] & 2, t3.value];
        switch (op[0]) {
          case 0:
          case 1:
            t3 = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t3 = _.trys, t3 = t3.length > 0 && t3[t3.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t3 || op[1] > t3[0] && op[1] < t3[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t3[1]) {
              _.label = t3[1];
              t3 = op;
              break;
            }
            if (t3 && _.label < t3[2]) {
              _.label = t3[2];
              _.ops.push(op);
              break;
            }
            if (t3[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t3 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __spreadArray2 = function(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i);
        ar[i] = from[i];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
};
function _resolveRequests(childRequests, resolveRequest) {
  return childRequests.reduce(function(resolvedRequests, childRequest) {
    var injection = resolveRequest(childRequest);
    var targetType = childRequest.target.type;
    if (targetType === TargetTypeEnum.ConstructorArgument) {
      resolvedRequests.constructorInjections.push(injection);
    } else {
      resolvedRequests.propertyRequests.push(childRequest);
      resolvedRequests.propertyInjections.push(injection);
    }
    if (!resolvedRequests.isAsync) {
      resolvedRequests.isAsync = isPromiseOrContainsPromise(injection);
    }
    return resolvedRequests;
  }, { constructorInjections: [], propertyInjections: [], propertyRequests: [], isAsync: false });
}
function _createInstance(constr, childRequests, resolveRequest) {
  var result;
  if (childRequests.length > 0) {
    var resolved2 = _resolveRequests(childRequests, resolveRequest);
    var createInstanceWithInjectionsArg = __assign(__assign({}, resolved2), { constr });
    if (resolved2.isAsync) {
      result = createInstanceWithInjectionsAsync(createInstanceWithInjectionsArg);
    } else {
      result = createInstanceWithInjections(createInstanceWithInjectionsArg);
    }
  } else {
    result = new constr();
  }
  return result;
}
function createInstanceWithInjections(args) {
  var _a;
  var instance2 = new ((_a = args.constr).bind.apply(_a, __spreadArray2([void 0], args.constructorInjections, false)))();
  args.propertyRequests.forEach(function(r, index) {
    var property = r.target.identifier;
    var injection = args.propertyInjections[index];
    if (!r.target.isOptional() || injection !== void 0) {
      instance2[property] = injection;
    }
  });
  return instance2;
}
function createInstanceWithInjectionsAsync(args) {
  return __awaiter2(this, void 0, void 0, function() {
    var constructorInjections, propertyInjections;
    return __generator2(this, function(_a) {
      switch (_a.label) {
        case 0:
          return [4, possiblyWaitInjections(args.constructorInjections)];
        case 1:
          constructorInjections = _a.sent();
          return [4, possiblyWaitInjections(args.propertyInjections)];
        case 2:
          propertyInjections = _a.sent();
          return [2, createInstanceWithInjections(__assign(__assign({}, args), { constructorInjections, propertyInjections }))];
      }
    });
  });
}
function possiblyWaitInjections(possiblePromiseinjections) {
  return __awaiter2(this, void 0, void 0, function() {
    var injections, _i, possiblePromiseinjections_1, injection;
    return __generator2(this, function(_a) {
      injections = [];
      for (_i = 0, possiblePromiseinjections_1 = possiblePromiseinjections; _i < possiblePromiseinjections_1.length; _i++) {
        injection = possiblePromiseinjections_1[_i];
        if (Array.isArray(injection)) {
          injections.push(Promise.all(injection));
        } else {
          injections.push(injection);
        }
      }
      return [2, Promise.all(injections)];
    });
  });
}
function _getInstanceAfterPostConstruct(constr, result) {
  var postConstructResult = _postConstruct(constr, result);
  if (isPromise(postConstructResult)) {
    return postConstructResult.then(function() {
      return result;
    });
  } else {
    return result;
  }
}
function _postConstruct(constr, instance2) {
  var _a, _b;
  if (Reflect.hasMetadata(POST_CONSTRUCT, constr)) {
    var data = Reflect.getMetadata(POST_CONSTRUCT, constr);
    try {
      return (_b = (_a = instance2)[data.value]) === null || _b === void 0 ? void 0 : _b.call(_a);
    } catch (e) {
      if (e instanceof Error) {
        throw new Error(POST_CONSTRUCT_ERROR(constr.name, e.message));
      }
    }
  }
}
function _validateInstanceResolution(binding, constr) {
  if (binding.scope !== BindingScopeEnum.Singleton) {
    _throwIfHandlingDeactivation(binding, constr);
  }
}
function _throwIfHandlingDeactivation(binding, constr) {
  var scopeErrorMessage = "Class cannot be instantiated in " + (binding.scope === BindingScopeEnum.Request ? "request" : "transient") + " scope.";
  if (typeof binding.onDeactivation === "function") {
    throw new Error(ON_DEACTIVATION_ERROR(constr.name, scopeErrorMessage));
  }
  if (Reflect.hasMetadata(PRE_DESTROY, constr)) {
    throw new Error(PRE_DESTROY_ERROR(constr.name, scopeErrorMessage));
  }
}
function resolveInstance(binding, constr, childRequests, resolveRequest) {
  _validateInstanceResolution(binding, constr);
  var result = _createInstance(constr, childRequests, resolveRequest);
  if (isPromise(result)) {
    return result.then(function(resolvedResult) {
      return _getInstanceAfterPostConstruct(constr, resolvedResult);
    });
  } else {
    return _getInstanceAfterPostConstruct(constr, result);
  }
}

// node_modules/inversify/es/resolution/resolver.js
var __awaiter3 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve2) {
      resolve2(value);
    });
  }
  return new (P || (P = Promise))(function(resolve2, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator3 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t3[0] & 1)
      throw t3[1];
    return t3[1];
  }, trys: [], ops: [] }, f, y, t3, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f)
      throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (f = 1, y && (t3 = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t3 = y["return"]) && t3.call(y), 0) : y.next) && !(t3 = t3.call(y, op[1])).done)
          return t3;
        if (y = 0, t3)
          op = [op[0] & 2, t3.value];
        switch (op[0]) {
          case 0:
          case 1:
            t3 = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t3 = _.trys, t3 = t3.length > 0 && t3[t3.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t3 || op[1] > t3[0] && op[1] < t3[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t3[1]) {
              _.label = t3[1];
              t3 = op;
              break;
            }
            if (t3 && _.label < t3[2]) {
              _.label = t3[2];
              _.ops.push(op);
              break;
            }
            if (t3[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t3 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var _resolveRequest = function(requestScope) {
  return function(request) {
    request.parentContext.setCurrentRequest(request);
    var bindings = request.bindings;
    var childRequests = request.childRequests;
    var targetIsAnArray = request.target && request.target.isArray();
    var targetParentIsNotAnArray = !request.parentRequest || !request.parentRequest.target || !request.target || !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);
    if (targetIsAnArray && targetParentIsNotAnArray) {
      return childRequests.map(function(childRequest) {
        var _f = _resolveRequest(requestScope);
        return _f(childRequest);
      });
    } else {
      if (request.target.isOptional() && bindings.length === 0) {
        return void 0;
      }
      var binding = bindings[0];
      return _resolveBinding(requestScope, request, binding);
    }
  };
};
var _resolveFactoryFromBinding = function(binding, context) {
  var factoryDetails = getFactoryDetails(binding);
  return tryAndThrowErrorIfStackOverflow(function() {
    return factoryDetails.factory.bind(binding)(context);
  }, function() {
    return new Error(CIRCULAR_DEPENDENCY_IN_FACTORY(factoryDetails.factoryType, context.currentRequest.serviceIdentifier.toString()));
  });
};
var _getResolvedFromBinding = function(requestScope, request, binding) {
  var result;
  var childRequests = request.childRequests;
  ensureFullyBound(binding);
  switch (binding.type) {
    case BindingTypeEnum.ConstantValue:
    case BindingTypeEnum.Function:
      result = binding.cache;
      break;
    case BindingTypeEnum.Constructor:
      result = binding.implementationType;
      break;
    case BindingTypeEnum.Instance:
      result = resolveInstance(binding, binding.implementationType, childRequests, _resolveRequest(requestScope));
      break;
    default:
      result = _resolveFactoryFromBinding(binding, request.parentContext);
  }
  return result;
};
var _resolveInScope = function(requestScope, binding, resolveFromBinding) {
  var result = tryGetFromScope(requestScope, binding);
  if (result !== null) {
    return result;
  }
  result = resolveFromBinding();
  saveToScope(requestScope, binding, result);
  return result;
};
var _resolveBinding = function(requestScope, request, binding) {
  return _resolveInScope(requestScope, binding, function() {
    var result = _getResolvedFromBinding(requestScope, request, binding);
    if (isPromise(result)) {
      result = result.then(function(resolved2) {
        return _onActivation(request, binding, resolved2);
      });
    } else {
      result = _onActivation(request, binding, result);
    }
    return result;
  });
};
function _onActivation(request, binding, resolved2) {
  var result = _bindingActivation(request.parentContext, binding, resolved2);
  var containersIterator = _getContainersIterator(request.parentContext.container);
  var container;
  var containersIteratorResult = containersIterator.next();
  do {
    container = containersIteratorResult.value;
    var context_1 = request.parentContext;
    var serviceIdentifier = request.serviceIdentifier;
    var activationsIterator = _getContainerActivationsForService(container, serviceIdentifier);
    if (isPromise(result)) {
      result = _activateContainerAsync(activationsIterator, context_1, result);
    } else {
      result = _activateContainer(activationsIterator, context_1, result);
    }
    containersIteratorResult = containersIterator.next();
  } while (containersIteratorResult.done !== true && !getBindingDictionary(container).hasKey(request.serviceIdentifier));
  return result;
}
var _bindingActivation = function(context, binding, previousResult) {
  var result;
  if (typeof binding.onActivation === "function") {
    result = binding.onActivation(context, previousResult);
  } else {
    result = previousResult;
  }
  return result;
};
var _activateContainer = function(activationsIterator, context, result) {
  var activation = activationsIterator.next();
  while (!activation.done) {
    result = activation.value(context, result);
    if (isPromise(result)) {
      return _activateContainerAsync(activationsIterator, context, result);
    }
    activation = activationsIterator.next();
  }
  return result;
};
var _activateContainerAsync = function(activationsIterator, context, resultPromise) {
  return __awaiter3(void 0, void 0, void 0, function() {
    var result, activation;
    return __generator3(this, function(_a) {
      switch (_a.label) {
        case 0:
          return [4, resultPromise];
        case 1:
          result = _a.sent();
          activation = activationsIterator.next();
          _a.label = 2;
        case 2:
          if (!!activation.done)
            return [3, 4];
          return [4, activation.value(context, result)];
        case 3:
          result = _a.sent();
          activation = activationsIterator.next();
          return [3, 2];
        case 4:
          return [2, result];
      }
    });
  });
};
var _getContainerActivationsForService = function(container, serviceIdentifier) {
  var activations = container._activations;
  return activations.hasKey(serviceIdentifier) ? activations.get(serviceIdentifier).values() : [].values();
};
var _getContainersIterator = function(container) {
  var containersStack = [container];
  var parent = container.parent;
  while (parent !== null) {
    containersStack.push(parent);
    parent = parent.parent;
  }
  var getNextContainer = function() {
    var nextContainer = containersStack.pop();
    if (nextContainer !== void 0) {
      return { done: false, value: nextContainer };
    } else {
      return { done: true, value: void 0 };
    }
  };
  var containersIterator = {
    next: getNextContainer
  };
  return containersIterator;
};
function resolve(context) {
  var _f = _resolveRequest(context.plan.rootRequest.requestScope);
  return _f(context.plan.rootRequest);
}

// node_modules/inversify/es/syntax/constraint_helpers.js
var traverseAncerstors = function(request, constraint) {
  var parent = request.parentRequest;
  if (parent !== null) {
    return constraint(parent) ? true : traverseAncerstors(parent, constraint);
  } else {
    return false;
  }
};
var taggedConstraint = function(key) {
  return function(value) {
    var constraint = function(request) {
      return request !== null && request.target !== null && request.target.matchesTag(key)(value);
    };
    constraint.metaData = new Metadata(key, value);
    return constraint;
  };
};
var namedConstraint = taggedConstraint(NAMED_TAG);
var typeConstraint = function(type) {
  return function(request) {
    var binding = null;
    if (request !== null) {
      binding = request.bindings[0];
      if (typeof type === "string") {
        var serviceIdentifier = binding.serviceIdentifier;
        return serviceIdentifier === type;
      } else {
        var constructor = request.bindings[0].implementationType;
        return type === constructor;
      }
    }
    return false;
  };
};

// node_modules/inversify/es/syntax/binding_when_syntax.js
var BindingWhenSyntax = function() {
  function BindingWhenSyntax2(binding) {
    this._binding = binding;
  }
  BindingWhenSyntax2.prototype.when = function(constraint) {
    this._binding.constraint = constraint;
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenTargetNamed = function(name) {
    this._binding.constraint = namedConstraint(name);
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenTargetIsDefault = function() {
    this._binding.constraint = function(request) {
      if (request === null) {
        return false;
      }
      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();
      return targetIsDefault;
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenTargetTagged = function(tag, value) {
    this._binding.constraint = taggedConstraint(tag)(value);
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenInjectedInto = function(parent) {
    this._binding.constraint = function(request) {
      return request !== null && typeConstraint(parent)(request.parentRequest);
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenParentNamed = function(name) {
    this._binding.constraint = function(request) {
      return request !== null && namedConstraint(name)(request.parentRequest);
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenParentTagged = function(tag, value) {
    this._binding.constraint = function(request) {
      return request !== null && taggedConstraint(tag)(value)(request.parentRequest);
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenAnyAncestorIs = function(ancestor) {
    this._binding.constraint = function(request) {
      return request !== null && traverseAncerstors(request, typeConstraint(ancestor));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenNoAncestorIs = function(ancestor) {
    this._binding.constraint = function(request) {
      return request !== null && !traverseAncerstors(request, typeConstraint(ancestor));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenAnyAncestorNamed = function(name) {
    this._binding.constraint = function(request) {
      return request !== null && traverseAncerstors(request, namedConstraint(name));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenNoAncestorNamed = function(name) {
    this._binding.constraint = function(request) {
      return request !== null && !traverseAncerstors(request, namedConstraint(name));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenAnyAncestorTagged = function(tag, value) {
    this._binding.constraint = function(request) {
      return request !== null && traverseAncerstors(request, taggedConstraint(tag)(value));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenNoAncestorTagged = function(tag, value) {
    this._binding.constraint = function(request) {
      return request !== null && !traverseAncerstors(request, taggedConstraint(tag)(value));
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenAnyAncestorMatches = function(constraint) {
    this._binding.constraint = function(request) {
      return request !== null && traverseAncerstors(request, constraint);
    };
    return new BindingOnSyntax(this._binding);
  };
  BindingWhenSyntax2.prototype.whenNoAncestorMatches = function(constraint) {
    this._binding.constraint = function(request) {
      return request !== null && !traverseAncerstors(request, constraint);
    };
    return new BindingOnSyntax(this._binding);
  };
  return BindingWhenSyntax2;
}();

// node_modules/inversify/es/syntax/binding_on_syntax.js
var BindingOnSyntax = function() {
  function BindingOnSyntax2(binding) {
    this._binding = binding;
  }
  BindingOnSyntax2.prototype.onActivation = function(handler) {
    this._binding.onActivation = handler;
    return new BindingWhenSyntax(this._binding);
  };
  BindingOnSyntax2.prototype.onDeactivation = function(handler) {
    this._binding.onDeactivation = handler;
    return new BindingWhenSyntax(this._binding);
  };
  return BindingOnSyntax2;
}();

// node_modules/inversify/es/syntax/binding_when_on_syntax.js
var BindingWhenOnSyntax = function() {
  function BindingWhenOnSyntax2(binding) {
    this._binding = binding;
    this._bindingWhenSyntax = new BindingWhenSyntax(this._binding);
    this._bindingOnSyntax = new BindingOnSyntax(this._binding);
  }
  BindingWhenOnSyntax2.prototype.when = function(constraint) {
    return this._bindingWhenSyntax.when(constraint);
  };
  BindingWhenOnSyntax2.prototype.whenTargetNamed = function(name) {
    return this._bindingWhenSyntax.whenTargetNamed(name);
  };
  BindingWhenOnSyntax2.prototype.whenTargetIsDefault = function() {
    return this._bindingWhenSyntax.whenTargetIsDefault();
  };
  BindingWhenOnSyntax2.prototype.whenTargetTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenTargetTagged(tag, value);
  };
  BindingWhenOnSyntax2.prototype.whenInjectedInto = function(parent) {
    return this._bindingWhenSyntax.whenInjectedInto(parent);
  };
  BindingWhenOnSyntax2.prototype.whenParentNamed = function(name) {
    return this._bindingWhenSyntax.whenParentNamed(name);
  };
  BindingWhenOnSyntax2.prototype.whenParentTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenParentTagged(tag, value);
  };
  BindingWhenOnSyntax2.prototype.whenAnyAncestorIs = function(ancestor) {
    return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);
  };
  BindingWhenOnSyntax2.prototype.whenNoAncestorIs = function(ancestor) {
    return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);
  };
  BindingWhenOnSyntax2.prototype.whenAnyAncestorNamed = function(name) {
    return this._bindingWhenSyntax.whenAnyAncestorNamed(name);
  };
  BindingWhenOnSyntax2.prototype.whenAnyAncestorTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);
  };
  BindingWhenOnSyntax2.prototype.whenNoAncestorNamed = function(name) {
    return this._bindingWhenSyntax.whenNoAncestorNamed(name);
  };
  BindingWhenOnSyntax2.prototype.whenNoAncestorTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);
  };
  BindingWhenOnSyntax2.prototype.whenAnyAncestorMatches = function(constraint) {
    return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);
  };
  BindingWhenOnSyntax2.prototype.whenNoAncestorMatches = function(constraint) {
    return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);
  };
  BindingWhenOnSyntax2.prototype.onActivation = function(handler) {
    return this._bindingOnSyntax.onActivation(handler);
  };
  BindingWhenOnSyntax2.prototype.onDeactivation = function(handler) {
    return this._bindingOnSyntax.onDeactivation(handler);
  };
  return BindingWhenOnSyntax2;
}();

// node_modules/inversify/es/syntax/binding_in_syntax.js
var BindingInSyntax = function() {
  function BindingInSyntax2(binding) {
    this._binding = binding;
  }
  BindingInSyntax2.prototype.inRequestScope = function() {
    this._binding.scope = BindingScopeEnum.Request;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingInSyntax2.prototype.inSingletonScope = function() {
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingInSyntax2.prototype.inTransientScope = function() {
    this._binding.scope = BindingScopeEnum.Transient;
    return new BindingWhenOnSyntax(this._binding);
  };
  return BindingInSyntax2;
}();

// node_modules/inversify/es/syntax/binding_in_when_on_syntax.js
var BindingInWhenOnSyntax = function() {
  function BindingInWhenOnSyntax2(binding) {
    this._binding = binding;
    this._bindingWhenSyntax = new BindingWhenSyntax(this._binding);
    this._bindingOnSyntax = new BindingOnSyntax(this._binding);
    this._bindingInSyntax = new BindingInSyntax(binding);
  }
  BindingInWhenOnSyntax2.prototype.inRequestScope = function() {
    return this._bindingInSyntax.inRequestScope();
  };
  BindingInWhenOnSyntax2.prototype.inSingletonScope = function() {
    return this._bindingInSyntax.inSingletonScope();
  };
  BindingInWhenOnSyntax2.prototype.inTransientScope = function() {
    return this._bindingInSyntax.inTransientScope();
  };
  BindingInWhenOnSyntax2.prototype.when = function(constraint) {
    return this._bindingWhenSyntax.when(constraint);
  };
  BindingInWhenOnSyntax2.prototype.whenTargetNamed = function(name) {
    return this._bindingWhenSyntax.whenTargetNamed(name);
  };
  BindingInWhenOnSyntax2.prototype.whenTargetIsDefault = function() {
    return this._bindingWhenSyntax.whenTargetIsDefault();
  };
  BindingInWhenOnSyntax2.prototype.whenTargetTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenTargetTagged(tag, value);
  };
  BindingInWhenOnSyntax2.prototype.whenInjectedInto = function(parent) {
    return this._bindingWhenSyntax.whenInjectedInto(parent);
  };
  BindingInWhenOnSyntax2.prototype.whenParentNamed = function(name) {
    return this._bindingWhenSyntax.whenParentNamed(name);
  };
  BindingInWhenOnSyntax2.prototype.whenParentTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenParentTagged(tag, value);
  };
  BindingInWhenOnSyntax2.prototype.whenAnyAncestorIs = function(ancestor) {
    return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);
  };
  BindingInWhenOnSyntax2.prototype.whenNoAncestorIs = function(ancestor) {
    return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);
  };
  BindingInWhenOnSyntax2.prototype.whenAnyAncestorNamed = function(name) {
    return this._bindingWhenSyntax.whenAnyAncestorNamed(name);
  };
  BindingInWhenOnSyntax2.prototype.whenAnyAncestorTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);
  };
  BindingInWhenOnSyntax2.prototype.whenNoAncestorNamed = function(name) {
    return this._bindingWhenSyntax.whenNoAncestorNamed(name);
  };
  BindingInWhenOnSyntax2.prototype.whenNoAncestorTagged = function(tag, value) {
    return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);
  };
  BindingInWhenOnSyntax2.prototype.whenAnyAncestorMatches = function(constraint) {
    return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);
  };
  BindingInWhenOnSyntax2.prototype.whenNoAncestorMatches = function(constraint) {
    return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);
  };
  BindingInWhenOnSyntax2.prototype.onActivation = function(handler) {
    return this._bindingOnSyntax.onActivation(handler);
  };
  BindingInWhenOnSyntax2.prototype.onDeactivation = function(handler) {
    return this._bindingOnSyntax.onDeactivation(handler);
  };
  return BindingInWhenOnSyntax2;
}();

// node_modules/inversify/es/syntax/binding_to_syntax.js
var BindingToSyntax = function() {
  function BindingToSyntax2(binding) {
    this._binding = binding;
  }
  BindingToSyntax2.prototype.to = function(constructor) {
    this._binding.type = BindingTypeEnum.Instance;
    this._binding.implementationType = constructor;
    return new BindingInWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toSelf = function() {
    if (typeof this._binding.serviceIdentifier !== "function") {
      throw new Error("" + INVALID_TO_SELF_VALUE);
    }
    var self2 = this._binding.serviceIdentifier;
    return this.to(self2);
  };
  BindingToSyntax2.prototype.toConstantValue = function(value) {
    this._binding.type = BindingTypeEnum.ConstantValue;
    this._binding.cache = value;
    this._binding.dynamicValue = null;
    this._binding.implementationType = null;
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toDynamicValue = function(func) {
    this._binding.type = BindingTypeEnum.DynamicValue;
    this._binding.cache = null;
    this._binding.dynamicValue = func;
    this._binding.implementationType = null;
    return new BindingInWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toConstructor = function(constructor) {
    this._binding.type = BindingTypeEnum.Constructor;
    this._binding.implementationType = constructor;
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toFactory = function(factory) {
    this._binding.type = BindingTypeEnum.Factory;
    this._binding.factory = factory;
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toFunction = function(func) {
    if (typeof func !== "function") {
      throw new Error(INVALID_FUNCTION_BINDING);
    }
    var bindingWhenOnSyntax = this.toConstantValue(func);
    this._binding.type = BindingTypeEnum.Function;
    this._binding.scope = BindingScopeEnum.Singleton;
    return bindingWhenOnSyntax;
  };
  BindingToSyntax2.prototype.toAutoFactory = function(serviceIdentifier) {
    this._binding.type = BindingTypeEnum.Factory;
    this._binding.factory = function(context) {
      var autofactory = function() {
        return context.container.get(serviceIdentifier);
      };
      return autofactory;
    };
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toAutoNamedFactory = function(serviceIdentifier) {
    this._binding.type = BindingTypeEnum.Factory;
    this._binding.factory = function(context) {
      return function(named2) {
        return context.container.getNamed(serviceIdentifier, named2);
      };
    };
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toProvider = function(provider) {
    this._binding.type = BindingTypeEnum.Provider;
    this._binding.provider = provider;
    this._binding.scope = BindingScopeEnum.Singleton;
    return new BindingWhenOnSyntax(this._binding);
  };
  BindingToSyntax2.prototype.toService = function(service) {
    this.toDynamicValue(function(context) {
      return context.container.get(service);
    });
  };
  return BindingToSyntax2;
}();

// node_modules/inversify/es/container/container_snapshot.js
var ContainerSnapshot = function() {
  function ContainerSnapshot2() {
  }
  ContainerSnapshot2.of = function(bindings, middleware, activations, deactivations, moduleActivationStore) {
    var snapshot = new ContainerSnapshot2();
    snapshot.bindings = bindings;
    snapshot.middleware = middleware;
    snapshot.deactivations = deactivations;
    snapshot.activations = activations;
    snapshot.moduleActivationStore = moduleActivationStore;
    return snapshot;
  };
  return ContainerSnapshot2;
}();

// node_modules/inversify/es/utils/clonable.js
function isClonable(obj) {
  return typeof obj === "object" && obj !== null && "clone" in obj && typeof obj.clone === "function";
}

// node_modules/inversify/es/container/lookup.js
var Lookup = function() {
  function Lookup2() {
    this._map = /* @__PURE__ */ new Map();
  }
  Lookup2.prototype.getMap = function() {
    return this._map;
  };
  Lookup2.prototype.add = function(serviceIdentifier, value) {
    if (serviceIdentifier === null || serviceIdentifier === void 0) {
      throw new Error(NULL_ARGUMENT);
    }
    if (value === null || value === void 0) {
      throw new Error(NULL_ARGUMENT);
    }
    var entry = this._map.get(serviceIdentifier);
    if (entry !== void 0) {
      entry.push(value);
    } else {
      this._map.set(serviceIdentifier, [value]);
    }
  };
  Lookup2.prototype.get = function(serviceIdentifier) {
    if (serviceIdentifier === null || serviceIdentifier === void 0) {
      throw new Error(NULL_ARGUMENT);
    }
    var entry = this._map.get(serviceIdentifier);
    if (entry !== void 0) {
      return entry;
    } else {
      throw new Error(KEY_NOT_FOUND);
    }
  };
  Lookup2.prototype.remove = function(serviceIdentifier) {
    if (serviceIdentifier === null || serviceIdentifier === void 0) {
      throw new Error(NULL_ARGUMENT);
    }
    if (!this._map.delete(serviceIdentifier)) {
      throw new Error(KEY_NOT_FOUND);
    }
  };
  Lookup2.prototype.removeIntersection = function(lookup) {
    var _this = this;
    this.traverse(function(serviceIdentifier, value) {
      var lookupActivations = lookup.hasKey(serviceIdentifier) ? lookup.get(serviceIdentifier) : void 0;
      if (lookupActivations !== void 0) {
        var filteredValues = value.filter(function(lookupValue) {
          return !lookupActivations.some(function(moduleActivation) {
            return lookupValue === moduleActivation;
          });
        });
        _this._setValue(serviceIdentifier, filteredValues);
      }
    });
  };
  Lookup2.prototype.removeByCondition = function(condition) {
    var _this = this;
    var removals = [];
    this._map.forEach(function(entries, key) {
      var updatedEntries = [];
      for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {
        var entry = entries_1[_i];
        var remove = condition(entry);
        if (remove) {
          removals.push(entry);
        } else {
          updatedEntries.push(entry);
        }
      }
      _this._setValue(key, updatedEntries);
    });
    return removals;
  };
  Lookup2.prototype.hasKey = function(serviceIdentifier) {
    if (serviceIdentifier === null || serviceIdentifier === void 0) {
      throw new Error(NULL_ARGUMENT);
    }
    return this._map.has(serviceIdentifier);
  };
  Lookup2.prototype.clone = function() {
    var copy2 = new Lookup2();
    this._map.forEach(function(value, key) {
      value.forEach(function(b) {
        return copy2.add(key, isClonable(b) ? b.clone() : b);
      });
    });
    return copy2;
  };
  Lookup2.prototype.traverse = function(func) {
    this._map.forEach(function(value, key) {
      func(key, value);
    });
  };
  Lookup2.prototype._setValue = function(serviceIdentifier, value) {
    if (value.length > 0) {
      this._map.set(serviceIdentifier, value);
    } else {
      this._map.delete(serviceIdentifier);
    }
  };
  return Lookup2;
}();

// node_modules/inversify/es/container/module_activation_store.js
var ModuleActivationStore = function() {
  function ModuleActivationStore2() {
    this._map = /* @__PURE__ */ new Map();
  }
  ModuleActivationStore2.prototype.remove = function(moduleId) {
    if (this._map.has(moduleId)) {
      var handlers = this._map.get(moduleId);
      this._map.delete(moduleId);
      return handlers;
    }
    return this._getEmptyHandlersStore();
  };
  ModuleActivationStore2.prototype.addDeactivation = function(moduleId, serviceIdentifier, onDeactivation) {
    this._getModuleActivationHandlers(moduleId).onDeactivations.add(serviceIdentifier, onDeactivation);
  };
  ModuleActivationStore2.prototype.addActivation = function(moduleId, serviceIdentifier, onActivation) {
    this._getModuleActivationHandlers(moduleId).onActivations.add(serviceIdentifier, onActivation);
  };
  ModuleActivationStore2.prototype.clone = function() {
    var clone = new ModuleActivationStore2();
    this._map.forEach(function(handlersStore, moduleId) {
      clone._map.set(moduleId, {
        onActivations: handlersStore.onActivations.clone(),
        onDeactivations: handlersStore.onDeactivations.clone()
      });
    });
    return clone;
  };
  ModuleActivationStore2.prototype._getModuleActivationHandlers = function(moduleId) {
    var moduleActivationHandlers = this._map.get(moduleId);
    if (moduleActivationHandlers === void 0) {
      moduleActivationHandlers = this._getEmptyHandlersStore();
      this._map.set(moduleId, moduleActivationHandlers);
    }
    return moduleActivationHandlers;
  };
  ModuleActivationStore2.prototype._getEmptyHandlersStore = function() {
    var handlersStore = {
      onActivations: new Lookup(),
      onDeactivations: new Lookup()
    };
    return handlersStore;
  };
  return ModuleActivationStore2;
}();

// node_modules/inversify/es/container/container.js
var __assign2 = function() {
  __assign2 = Object.assign || function(t3) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p))
          t3[p] = s[p];
    }
    return t3;
  };
  return __assign2.apply(this, arguments);
};
var __awaiter4 = function(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve2) {
      resolve2(value);
    });
  }
  return new (P || (P = Promise))(function(resolve2, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator4 = function(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t3[0] & 1)
      throw t3[1];
    return t3[1];
  }, trys: [], ops: [] }, f, y, t3, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f)
      throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (f = 1, y && (t3 = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t3 = y["return"]) && t3.call(y), 0) : y.next) && !(t3 = t3.call(y, op[1])).done)
          return t3;
        if (y = 0, t3)
          op = [op[0] & 2, t3.value];
        switch (op[0]) {
          case 0:
          case 1:
            t3 = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t3 = _.trys, t3 = t3.length > 0 && t3[t3.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t3 || op[1] > t3[0] && op[1] < t3[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t3[1]) {
              _.label = t3[1];
              t3 = op;
              break;
            }
            if (t3 && _.label < t3[2]) {
              _.label = t3[2];
              _.ops.push(op);
              break;
            }
            if (t3[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t3 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
};
var __spreadArray3 = function(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i);
        ar[i] = from[i];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
};
var Container = function() {
  function Container3(containerOptions) {
    var options = containerOptions || {};
    if (typeof options !== "object") {
      throw new Error("" + CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);
    }
    if (options.defaultScope === void 0) {
      options.defaultScope = BindingScopeEnum.Transient;
    } else if (options.defaultScope !== BindingScopeEnum.Singleton && options.defaultScope !== BindingScopeEnum.Transient && options.defaultScope !== BindingScopeEnum.Request) {
      throw new Error("" + CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);
    }
    if (options.autoBindInjectable === void 0) {
      options.autoBindInjectable = false;
    } else if (typeof options.autoBindInjectable !== "boolean") {
      throw new Error("" + CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);
    }
    if (options.skipBaseClassChecks === void 0) {
      options.skipBaseClassChecks = false;
    } else if (typeof options.skipBaseClassChecks !== "boolean") {
      throw new Error("" + CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);
    }
    this.options = {
      autoBindInjectable: options.autoBindInjectable,
      defaultScope: options.defaultScope,
      skipBaseClassChecks: options.skipBaseClassChecks
    };
    this.id = id();
    this._bindingDictionary = new Lookup();
    this._snapshots = [];
    this._middleware = null;
    this._activations = new Lookup();
    this._deactivations = new Lookup();
    this.parent = null;
    this._metadataReader = new MetadataReader();
    this._moduleActivationStore = new ModuleActivationStore();
  }
  Container3.merge = function(container1, container2) {
    var containers = [];
    for (var _i = 2; _i < arguments.length; _i++) {
      containers[_i - 2] = arguments[_i];
    }
    var container = new Container3();
    var targetContainers = __spreadArray3([container1, container2], containers, true).map(function(targetContainer) {
      return getBindingDictionary(targetContainer);
    });
    var bindingDictionary = getBindingDictionary(container);
    function copyDictionary(origin, destination) {
      origin.traverse(function(_key, value) {
        value.forEach(function(binding) {
          destination.add(binding.serviceIdentifier, binding.clone());
        });
      });
    }
    targetContainers.forEach(function(targetBindingDictionary) {
      copyDictionary(targetBindingDictionary, bindingDictionary);
    });
    return container;
  };
  Container3.prototype.load = function() {
    var modules = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      modules[_i] = arguments[_i];
    }
    var getHelpers = this._getContainerModuleHelpersFactory();
    for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {
      var currentModule = modules_1[_a];
      var containerModuleHelpers = getHelpers(currentModule.id);
      currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction, containerModuleHelpers.unbindAsyncFunction, containerModuleHelpers.onActivationFunction, containerModuleHelpers.onDeactivationFunction);
    }
  };
  Container3.prototype.loadAsync = function() {
    var modules = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      modules[_i] = arguments[_i];
    }
    return __awaiter4(this, void 0, void 0, function() {
      var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;
      return __generator4(this, function(_b) {
        switch (_b.label) {
          case 0:
            getHelpers = this._getContainerModuleHelpersFactory();
            _a = 0, modules_2 = modules;
            _b.label = 1;
          case 1:
            if (!(_a < modules_2.length))
              return [3, 4];
            currentModule = modules_2[_a];
            containerModuleHelpers = getHelpers(currentModule.id);
            return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction, containerModuleHelpers.unbindAsyncFunction, containerModuleHelpers.onActivationFunction, containerModuleHelpers.onDeactivationFunction)];
          case 2:
            _b.sent();
            _b.label = 3;
          case 3:
            _a++;
            return [3, 1];
          case 4:
            return [2];
        }
      });
    });
  };
  Container3.prototype.unload = function() {
    var _this = this;
    var modules = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      modules[_i] = arguments[_i];
    }
    modules.forEach(function(module2) {
      var deactivations = _this._removeModuleBindings(module2.id);
      _this._deactivateSingletons(deactivations);
      _this._removeModuleHandlers(module2.id);
    });
  };
  Container3.prototype.unloadAsync = function() {
    var modules = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      modules[_i] = arguments[_i];
    }
    return __awaiter4(this, void 0, void 0, function() {
      var _a, modules_3, module_1, deactivations;
      return __generator4(this, function(_b) {
        switch (_b.label) {
          case 0:
            _a = 0, modules_3 = modules;
            _b.label = 1;
          case 1:
            if (!(_a < modules_3.length))
              return [3, 4];
            module_1 = modules_3[_a];
            deactivations = this._removeModuleBindings(module_1.id);
            return [4, this._deactivateSingletonsAsync(deactivations)];
          case 2:
            _b.sent();
            this._removeModuleHandlers(module_1.id);
            _b.label = 3;
          case 3:
            _a++;
            return [3, 1];
          case 4:
            return [2];
        }
      });
    });
  };
  Container3.prototype.bind = function(serviceIdentifier) {
    var scope = this.options.defaultScope || BindingScopeEnum.Transient;
    var binding = new Binding(serviceIdentifier, scope);
    this._bindingDictionary.add(serviceIdentifier, binding);
    return new BindingToSyntax(binding);
  };
  Container3.prototype.rebind = function(serviceIdentifier) {
    this.unbind(serviceIdentifier);
    return this.bind(serviceIdentifier);
  };
  Container3.prototype.rebindAsync = function(serviceIdentifier) {
    return __awaiter4(this, void 0, void 0, function() {
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            return [4, this.unbindAsync(serviceIdentifier)];
          case 1:
            _a.sent();
            return [2, this.bind(serviceIdentifier)];
        }
      });
    });
  };
  Container3.prototype.unbind = function(serviceIdentifier) {
    if (this._bindingDictionary.hasKey(serviceIdentifier)) {
      var bindings = this._bindingDictionary.get(serviceIdentifier);
      this._deactivateSingletons(bindings);
    }
    this._removeServiceFromDictionary(serviceIdentifier);
  };
  Container3.prototype.unbindAsync = function(serviceIdentifier) {
    return __awaiter4(this, void 0, void 0, function() {
      var bindings;
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            if (!this._bindingDictionary.hasKey(serviceIdentifier))
              return [3, 2];
            bindings = this._bindingDictionary.get(serviceIdentifier);
            return [4, this._deactivateSingletonsAsync(bindings)];
          case 1:
            _a.sent();
            _a.label = 2;
          case 2:
            this._removeServiceFromDictionary(serviceIdentifier);
            return [2];
        }
      });
    });
  };
  Container3.prototype.unbindAll = function() {
    var _this = this;
    this._bindingDictionary.traverse(function(_key, value) {
      _this._deactivateSingletons(value);
    });
    this._bindingDictionary = new Lookup();
  };
  Container3.prototype.unbindAllAsync = function() {
    return __awaiter4(this, void 0, void 0, function() {
      var promises;
      var _this = this;
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            promises = [];
            this._bindingDictionary.traverse(function(_key, value) {
              promises.push(_this._deactivateSingletonsAsync(value));
            });
            return [4, Promise.all(promises)];
          case 1:
            _a.sent();
            this._bindingDictionary = new Lookup();
            return [2];
        }
      });
    });
  };
  Container3.prototype.onActivation = function(serviceIdentifier, onActivation) {
    this._activations.add(serviceIdentifier, onActivation);
  };
  Container3.prototype.onDeactivation = function(serviceIdentifier, onDeactivation) {
    this._deactivations.add(serviceIdentifier, onDeactivation);
  };
  Container3.prototype.isBound = function(serviceIdentifier) {
    var bound = this._bindingDictionary.hasKey(serviceIdentifier);
    if (!bound && this.parent) {
      bound = this.parent.isBound(serviceIdentifier);
    }
    return bound;
  };
  Container3.prototype.isCurrentBound = function(serviceIdentifier) {
    return this._bindingDictionary.hasKey(serviceIdentifier);
  };
  Container3.prototype.isBoundNamed = function(serviceIdentifier, named2) {
    return this.isBoundTagged(serviceIdentifier, NAMED_TAG, named2);
  };
  Container3.prototype.isBoundTagged = function(serviceIdentifier, key, value) {
    var bound = false;
    if (this._bindingDictionary.hasKey(serviceIdentifier)) {
      var bindings = this._bindingDictionary.get(serviceIdentifier);
      var request_1 = createMockRequest(this, serviceIdentifier, key, value);
      bound = bindings.some(function(b) {
        return b.constraint(request_1);
      });
    }
    if (!bound && this.parent) {
      bound = this.parent.isBoundTagged(serviceIdentifier, key, value);
    }
    return bound;
  };
  Container3.prototype.snapshot = function() {
    this._snapshots.push(ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware, this._activations.clone(), this._deactivations.clone(), this._moduleActivationStore.clone()));
  };
  Container3.prototype.restore = function() {
    var snapshot = this._snapshots.pop();
    if (snapshot === void 0) {
      throw new Error(NO_MORE_SNAPSHOTS_AVAILABLE);
    }
    this._bindingDictionary = snapshot.bindings;
    this._activations = snapshot.activations;
    this._deactivations = snapshot.deactivations;
    this._middleware = snapshot.middleware;
    this._moduleActivationStore = snapshot.moduleActivationStore;
  };
  Container3.prototype.createChild = function(containerOptions) {
    var child = new Container3(containerOptions || this.options);
    child.parent = this;
    return child;
  };
  Container3.prototype.applyMiddleware = function() {
    var middlewares = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      middlewares[_i] = arguments[_i];
    }
    var initial = this._middleware ? this._middleware : this._planAndResolve();
    this._middleware = middlewares.reduce(function(prev, curr) {
      return curr(prev);
    }, initial);
  };
  Container3.prototype.applyCustomMetadataReader = function(metadataReader) {
    this._metadataReader = metadataReader;
  };
  Container3.prototype.get = function(serviceIdentifier) {
    var getArgs = this._getNotAllArgs(serviceIdentifier, false);
    return this._getButThrowIfAsync(getArgs);
  };
  Container3.prototype.getAsync = function(serviceIdentifier) {
    return __awaiter4(this, void 0, void 0, function() {
      var getArgs;
      return __generator4(this, function(_a) {
        getArgs = this._getNotAllArgs(serviceIdentifier, false);
        return [2, this._get(getArgs)];
      });
    });
  };
  Container3.prototype.getTagged = function(serviceIdentifier, key, value) {
    var getArgs = this._getNotAllArgs(serviceIdentifier, false, key, value);
    return this._getButThrowIfAsync(getArgs);
  };
  Container3.prototype.getTaggedAsync = function(serviceIdentifier, key, value) {
    return __awaiter4(this, void 0, void 0, function() {
      var getArgs;
      return __generator4(this, function(_a) {
        getArgs = this._getNotAllArgs(serviceIdentifier, false, key, value);
        return [2, this._get(getArgs)];
      });
    });
  };
  Container3.prototype.getNamed = function(serviceIdentifier, named2) {
    return this.getTagged(serviceIdentifier, NAMED_TAG, named2);
  };
  Container3.prototype.getNamedAsync = function(serviceIdentifier, named2) {
    return this.getTaggedAsync(serviceIdentifier, NAMED_TAG, named2);
  };
  Container3.prototype.getAll = function(serviceIdentifier) {
    var getArgs = this._getAllArgs(serviceIdentifier);
    return this._getButThrowIfAsync(getArgs);
  };
  Container3.prototype.getAllAsync = function(serviceIdentifier) {
    var getArgs = this._getAllArgs(serviceIdentifier);
    return this._getAll(getArgs);
  };
  Container3.prototype.getAllTagged = function(serviceIdentifier, key, value) {
    var getArgs = this._getNotAllArgs(serviceIdentifier, true, key, value);
    return this._getButThrowIfAsync(getArgs);
  };
  Container3.prototype.getAllTaggedAsync = function(serviceIdentifier, key, value) {
    var getArgs = this._getNotAllArgs(serviceIdentifier, true, key, value);
    return this._getAll(getArgs);
  };
  Container3.prototype.getAllNamed = function(serviceIdentifier, named2) {
    return this.getAllTagged(serviceIdentifier, NAMED_TAG, named2);
  };
  Container3.prototype.getAllNamedAsync = function(serviceIdentifier, named2) {
    return this.getAllTaggedAsync(serviceIdentifier, NAMED_TAG, named2);
  };
  Container3.prototype.resolve = function(constructorFunction) {
    var isBound = this.isBound(constructorFunction);
    if (!isBound) {
      this.bind(constructorFunction).toSelf();
    }
    var resolved2 = this.get(constructorFunction);
    if (!isBound) {
      this.unbind(constructorFunction);
    }
    return resolved2;
  };
  Container3.prototype._preDestroy = function(constructor, instance2) {
    var _a, _b;
    if (Reflect.hasMetadata(PRE_DESTROY, constructor)) {
      var data = Reflect.getMetadata(PRE_DESTROY, constructor);
      return (_b = (_a = instance2)[data.value]) === null || _b === void 0 ? void 0 : _b.call(_a);
    }
  };
  Container3.prototype._removeModuleHandlers = function(moduleId) {
    var moduleActivationsHandlers = this._moduleActivationStore.remove(moduleId);
    this._activations.removeIntersection(moduleActivationsHandlers.onActivations);
    this._deactivations.removeIntersection(moduleActivationsHandlers.onDeactivations);
  };
  Container3.prototype._removeModuleBindings = function(moduleId) {
    return this._bindingDictionary.removeByCondition(function(binding) {
      return binding.moduleId === moduleId;
    });
  };
  Container3.prototype._deactivate = function(binding, instance2) {
    var _this = this;
    var constructor = Object.getPrototypeOf(instance2).constructor;
    try {
      if (this._deactivations.hasKey(binding.serviceIdentifier)) {
        var result = this._deactivateContainer(instance2, this._deactivations.get(binding.serviceIdentifier).values());
        if (isPromise(result)) {
          return this._handleDeactivationError(result.then(function() {
            return _this._propagateContainerDeactivationThenBindingAndPreDestroyAsync(binding, instance2, constructor);
          }), constructor);
        }
      }
      var propagateDeactivationResult = this._propagateContainerDeactivationThenBindingAndPreDestroy(binding, instance2, constructor);
      if (isPromise(propagateDeactivationResult)) {
        return this._handleDeactivationError(propagateDeactivationResult, constructor);
      }
    } catch (ex) {
      if (ex instanceof Error) {
        throw new Error(ON_DEACTIVATION_ERROR(constructor.name, ex.message));
      }
    }
  };
  Container3.prototype._handleDeactivationError = function(asyncResult, constructor) {
    return __awaiter4(this, void 0, void 0, function() {
      var ex_1;
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            _a.trys.push([0, 2, , 3]);
            return [4, asyncResult];
          case 1:
            _a.sent();
            return [3, 3];
          case 2:
            ex_1 = _a.sent();
            if (ex_1 instanceof Error) {
              throw new Error(ON_DEACTIVATION_ERROR(constructor.name, ex_1.message));
            }
            return [3, 3];
          case 3:
            return [2];
        }
      });
    });
  };
  Container3.prototype._deactivateContainer = function(instance2, deactivationsIterator) {
    var _this = this;
    var deactivation = deactivationsIterator.next();
    while (deactivation.value) {
      var result = deactivation.value(instance2);
      if (isPromise(result)) {
        return result.then(function() {
          return _this._deactivateContainerAsync(instance2, deactivationsIterator);
        });
      }
      deactivation = deactivationsIterator.next();
    }
  };
  Container3.prototype._deactivateContainerAsync = function(instance2, deactivationsIterator) {
    return __awaiter4(this, void 0, void 0, function() {
      var deactivation;
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            deactivation = deactivationsIterator.next();
            _a.label = 1;
          case 1:
            if (!deactivation.value)
              return [3, 3];
            return [4, deactivation.value(instance2)];
          case 2:
            _a.sent();
            deactivation = deactivationsIterator.next();
            return [3, 1];
          case 3:
            return [2];
        }
      });
    });
  };
  Container3.prototype._getContainerModuleHelpersFactory = function() {
    var _this = this;
    var setModuleId = function(bindingToSyntax, moduleId) {
      bindingToSyntax._binding.moduleId = moduleId;
    };
    var getBindFunction = function(moduleId) {
      return function(serviceIdentifier) {
        var bindingToSyntax = _this.bind(serviceIdentifier);
        setModuleId(bindingToSyntax, moduleId);
        return bindingToSyntax;
      };
    };
    var getUnbindFunction = function() {
      return function(serviceIdentifier) {
        return _this.unbind(serviceIdentifier);
      };
    };
    var getUnbindAsyncFunction = function() {
      return function(serviceIdentifier) {
        return _this.unbindAsync(serviceIdentifier);
      };
    };
    var getIsboundFunction = function() {
      return function(serviceIdentifier) {
        return _this.isBound(serviceIdentifier);
      };
    };
    var getRebindFunction = function(moduleId) {
      return function(serviceIdentifier) {
        var bindingToSyntax = _this.rebind(serviceIdentifier);
        setModuleId(bindingToSyntax, moduleId);
        return bindingToSyntax;
      };
    };
    var getOnActivationFunction = function(moduleId) {
      return function(serviceIdentifier, onActivation) {
        _this._moduleActivationStore.addActivation(moduleId, serviceIdentifier, onActivation);
        _this.onActivation(serviceIdentifier, onActivation);
      };
    };
    var getOnDeactivationFunction = function(moduleId) {
      return function(serviceIdentifier, onDeactivation) {
        _this._moduleActivationStore.addDeactivation(moduleId, serviceIdentifier, onDeactivation);
        _this.onDeactivation(serviceIdentifier, onDeactivation);
      };
    };
    return function(mId) {
      return {
        bindFunction: getBindFunction(mId),
        isboundFunction: getIsboundFunction(),
        onActivationFunction: getOnActivationFunction(mId),
        onDeactivationFunction: getOnDeactivationFunction(mId),
        rebindFunction: getRebindFunction(mId),
        unbindFunction: getUnbindFunction(),
        unbindAsyncFunction: getUnbindAsyncFunction()
      };
    };
  };
  Container3.prototype._getAll = function(getArgs) {
    return Promise.all(this._get(getArgs));
  };
  Container3.prototype._get = function(getArgs) {
    var planAndResolveArgs = __assign2(__assign2({}, getArgs), { contextInterceptor: function(context) {
      return context;
    }, targetType: TargetTypeEnum.Variable });
    if (this._middleware) {
      var middlewareResult = this._middleware(planAndResolveArgs);
      if (middlewareResult === void 0 || middlewareResult === null) {
        throw new Error(INVALID_MIDDLEWARE_RETURN);
      }
      return middlewareResult;
    }
    return this._planAndResolve()(planAndResolveArgs);
  };
  Container3.prototype._getButThrowIfAsync = function(getArgs) {
    var result = this._get(getArgs);
    if (isPromiseOrContainsPromise(result)) {
      throw new Error(LAZY_IN_SYNC(getArgs.serviceIdentifier));
    }
    return result;
  };
  Container3.prototype._getAllArgs = function(serviceIdentifier) {
    var getAllArgs = {
      avoidConstraints: true,
      isMultiInject: true,
      serviceIdentifier
    };
    return getAllArgs;
  };
  Container3.prototype._getNotAllArgs = function(serviceIdentifier, isMultiInject, key, value) {
    var getNotAllArgs = {
      avoidConstraints: false,
      isMultiInject,
      serviceIdentifier,
      key,
      value
    };
    return getNotAllArgs;
  };
  Container3.prototype._planAndResolve = function() {
    var _this = this;
    return function(args) {
      var context = plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);
      context = args.contextInterceptor(context);
      var result = resolve(context);
      return result;
    };
  };
  Container3.prototype._deactivateIfSingleton = function(binding) {
    var _this = this;
    if (!binding.activated) {
      return;
    }
    if (isPromise(binding.cache)) {
      return binding.cache.then(function(resolved2) {
        return _this._deactivate(binding, resolved2);
      });
    }
    return this._deactivate(binding, binding.cache);
  };
  Container3.prototype._deactivateSingletons = function(bindings) {
    for (var _i = 0, bindings_1 = bindings; _i < bindings_1.length; _i++) {
      var binding = bindings_1[_i];
      var result = this._deactivateIfSingleton(binding);
      if (isPromise(result)) {
        throw new Error(ASYNC_UNBIND_REQUIRED);
      }
    }
  };
  Container3.prototype._deactivateSingletonsAsync = function(bindings) {
    return __awaiter4(this, void 0, void 0, function() {
      var _this = this;
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            return [4, Promise.all(bindings.map(function(b) {
              return _this._deactivateIfSingleton(b);
            }))];
          case 1:
            _a.sent();
            return [2];
        }
      });
    });
  };
  Container3.prototype._propagateContainerDeactivationThenBindingAndPreDestroy = function(binding, instance2, constructor) {
    if (this.parent) {
      return this._deactivate.bind(this.parent)(binding, instance2);
    } else {
      return this._bindingDeactivationAndPreDestroy(binding, instance2, constructor);
    }
  };
  Container3.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync = function(binding, instance2, constructor) {
    return __awaiter4(this, void 0, void 0, function() {
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            if (!this.parent)
              return [3, 2];
            return [4, this._deactivate.bind(this.parent)(binding, instance2)];
          case 1:
            _a.sent();
            return [3, 4];
          case 2:
            return [4, this._bindingDeactivationAndPreDestroyAsync(binding, instance2, constructor)];
          case 3:
            _a.sent();
            _a.label = 4;
          case 4:
            return [2];
        }
      });
    });
  };
  Container3.prototype._removeServiceFromDictionary = function(serviceIdentifier) {
    try {
      this._bindingDictionary.remove(serviceIdentifier);
    } catch (e) {
      throw new Error(CANNOT_UNBIND + " " + getServiceIdentifierAsString(serviceIdentifier));
    }
  };
  Container3.prototype._bindingDeactivationAndPreDestroy = function(binding, instance2, constructor) {
    var _this = this;
    if (typeof binding.onDeactivation === "function") {
      var result = binding.onDeactivation(instance2);
      if (isPromise(result)) {
        return result.then(function() {
          return _this._preDestroy(constructor, instance2);
        });
      }
    }
    return this._preDestroy(constructor, instance2);
  };
  Container3.prototype._bindingDeactivationAndPreDestroyAsync = function(binding, instance2, constructor) {
    return __awaiter4(this, void 0, void 0, function() {
      return __generator4(this, function(_a) {
        switch (_a.label) {
          case 0:
            if (!(typeof binding.onDeactivation === "function"))
              return [3, 2];
            return [4, binding.onDeactivation(instance2)];
          case 1:
            _a.sent();
            _a.label = 2;
          case 2:
            return [4, this._preDestroy(constructor, instance2)];
          case 3:
            _a.sent();
            return [2];
        }
      });
    });
  };
  return Container3;
}();

// node_modules/inversify/es/container/container_module.js
var ContainerModule = function() {
  function ContainerModule2(registry) {
    this.id = id();
    this.registry = registry;
  }
  return ContainerModule2;
}();
var AsyncContainerModule = function() {
  function AsyncContainerModule2(registry) {
    this.id = id();
    this.registry = registry;
  }
  return AsyncContainerModule2;
}();

// node_modules/inversify/es/utils/js.js
function getFirstArrayDuplicate(array) {
  var seenValues = /* @__PURE__ */ new Set();
  for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {
    var entry = array_1[_i];
    if (seenValues.has(entry)) {
      return entry;
    } else {
      seenValues.add(entry);
    }
  }
  return void 0;
}

// node_modules/inversify/es/annotation/decorator_utils.js
function targetIsConstructorFunction(target) {
  return target.prototype !== void 0;
}
function _throwIfMethodParameter(parameterName) {
  if (parameterName !== void 0) {
    throw new Error(INVALID_DECORATOR_OPERATION);
  }
}
function tagParameter(annotationTarget, parameterName, parameterIndex, metadata) {
  _throwIfMethodParameter(parameterName);
  _tagParameterOrProperty(TAGGED, annotationTarget, parameterIndex.toString(), metadata);
}
function tagProperty(annotationTarget, propertyName, metadata) {
  if (targetIsConstructorFunction(annotationTarget)) {
    throw new Error(INVALID_DECORATOR_OPERATION);
  }
  _tagParameterOrProperty(TAGGED_PROP, annotationTarget.constructor, propertyName, metadata);
}
function _ensureNoMetadataKeyDuplicates(metadata) {
  var metadatas = [];
  if (Array.isArray(metadata)) {
    metadatas = metadata;
    var duplicate = getFirstArrayDuplicate(metadatas.map(function(md) {
      return md.key;
    }));
    if (duplicate !== void 0) {
      throw new Error(DUPLICATED_METADATA + " " + duplicate.toString());
    }
  } else {
    metadatas = [metadata];
  }
  return metadatas;
}
function _tagParameterOrProperty(metadataKey, annotationTarget, key, metadata) {
  var metadatas = _ensureNoMetadataKeyDuplicates(metadata);
  var paramsOrPropertiesMetadata = {};
  if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {
    paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);
  }
  var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];
  if (paramOrPropertyMetadata === void 0) {
    paramOrPropertyMetadata = [];
  } else {
    var _loop_1 = function(m2) {
      if (metadatas.some(function(md) {
        return md.key === m2.key;
      })) {
        throw new Error(DUPLICATED_METADATA + " " + m2.key.toString());
      }
    };
    for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {
      var m = paramOrPropertyMetadata_1[_i];
      _loop_1(m);
    }
  }
  paramOrPropertyMetadata.push.apply(paramOrPropertyMetadata, metadatas);
  paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;
  Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);
}
function createTaggedDecorator(metadata) {
  return function(target, targetKey, indexOrPropertyDescriptor) {
    if (typeof indexOrPropertyDescriptor === "number") {
      tagParameter(target, targetKey, indexOrPropertyDescriptor, metadata);
    } else {
      tagProperty(target, targetKey, metadata);
    }
  };
}

// node_modules/inversify/es/annotation/injectable.js
function injectable() {
  return function(target) {
    if (Reflect.hasOwnMetadata(PARAM_TYPES, target)) {
      throw new Error(DUPLICATED_INJECTABLE_DECORATOR);
    }
    var types = Reflect.getMetadata(DESIGN_PARAM_TYPES, target) || [];
    Reflect.defineMetadata(PARAM_TYPES, types, target);
    return target;
  };
}

// node_modules/inversify/es/annotation/named.js
function named(name) {
  return createTaggedDecorator(new Metadata(NAMED_TAG, name));
}

// node_modules/inversify/es/annotation/inject_base.js
function injectBase(metadataKey) {
  return function(serviceIdentifier) {
    return function(target, targetKey, indexOrPropertyDescriptor) {
      if (serviceIdentifier === void 0) {
        var className = typeof target === "function" ? target.name : target.constructor.name;
        throw new Error(UNDEFINED_INJECT_ANNOTATION(className));
      }
      return createTaggedDecorator(new Metadata(metadataKey, serviceIdentifier))(target, targetKey, indexOrPropertyDescriptor);
    };
  };
}

// node_modules/inversify/es/annotation/inject.js
var inject = injectBase(INJECT_TAG);

// node_modules/inversify/es/annotation/multi_inject.js
var multiInject = injectBase(MULTI_INJECT_TAG);

// node_modules/inversify/es/interfaces/interfaces.js
var interfaces;
/* @__PURE__ */ (function(interfaces4) {
  ;
})(interfaces || (interfaces = {}));

// config/inversify.types.ts
var SI = {
  "factory:replacer": "",
  "event:dispatcher": "",
  "alias:modifier": "",
  "alias:modifier:strategy": "",
  "alias:modifier:validator": "",
  cache: "",
  "component:black_white_list": "",
  "component:extractor": "",
  "component:extractor:strategy": "",
  "creator:creator": "",
  "creator:fallback": "",
  "creator:template": "",
  delimiter: "",
  delayer: "",
  "facade:obsidian": "",
  "factory:alias:modifier:strategy": "",
  "factory:alias:modifier:validator": "",
  "factory:feature": "",
  "factory:metadata:cache": "",
  "factory:obsidian:active:file": "",
  "factory:obsidian:modal": "",
  "factory:obsidian:file": "",
  "factory:obsidian:file_modifiable": "",
  "factory:obsidian:meta": "",
  "factory:placeholder": "",
  "factory:placeholder:resolver": "",
  "factory:creator:template": "",
  "factory:template:resolver": "",
  "factory:feature:explorer:sort": "",
  "newable:obsidian:chooser": "",
  feature: "",
  "feature:composer": "",
  "feature:service": "",
  "feature:alias:config": "",
  "feature:notelink:approve": "",
  "feature:config": "",
  "feature:explorer:file_mutator:factory": "",
  "feature:explorer:sort": "",
  filter: "",
  "getter:delimiter": "",
  listener: "",
  logger: "",
  "feature:helper": "",
  "logger:composer": "",
  "manager:composer": "",
  "obsidian:app": "",
  "obsidian:plugin": "",
  placeholder: "",
  resolver: "",
  "resolver:service": "",
  "factory:resolver:template": "",
  "factory:resolver:resolver": "",
  "service:note:link": "",
  "service:fake_title_element": "",
  "service:search:dom:wrapper": "",
  "settings:feature:builder": "",
  "settings:builder": "",
  "factory:settings:feature:builder": "",
  "factory:settings:builder": "",
  "settings:storage": "",
  "template:pattern": "",
  api: "",
  defer: "",
  "factory:api": "",
  "processor:factory": "",
  processor: "",
  "processor:args": "",
  "processor:argument.transformer": ""
};
for (const key of Object.keys(SI)) {
  SI[key] = Symbol.for(key);
}
var inversify_types_default = SI;

// src/i18n/Locale.ts
var import_obsidian = require("obsidian");

// src/Enum.ts
var Feature = /* @__PURE__ */ ((Feature4) => {
  Feature4["Explorer"] = "explorer";
  Feature4["Graph"] = "graph";
  Feature4["Header"] = "header";
  Feature4["Bookmarks"] = "bookmarks";
  Feature4["Search"] = "search" /* S */;
  Feature4["Tab"] = "tab";
  Feature4["Alias"] = "alias";
  Feature4["Suggest"] = "suggest";
  Feature4["InlineTitle"] = "inlineTitle";
  Feature4["Canvas"] = "canvas";
  Feature4["Backlink"] = "backlink" /* BL */;
  Feature4["NoteLink"] = "noteLink";
  Feature4["WindowFrame"] = "windowFrame";
  return Feature4;
})(Feature || {});
var Managers = [
  "explorer" /* Explorer */,
  "graph" /* Graph */,
  "header" /* Header */,
  "tab" /* Tab */,
  "inlineTitle" /* InlineTitle */,
  "canvas" /* Canvas */
];
var GITHUB_DOCS = "https://github.com/snezhig/obsidian-front-matter-title/blob/master/docs/";

// src/i18n/en/index.ts
var en = {
  validator: "Validator",
  strategy: "Strategy",
  cancel: "Cancel",
  apply: "Apply",
  feature: {
    ["alias" /* Alias */]: {
      name: "Alias",
      desc: "Modify alias in metadata cache. The real alias will not be affected",
      validator: {
        auto: {
          name: "Frontmatter Auto",
          desc: "If frontmatter does not exist, it will be created in cache. Side-effects may occur."
        },
        required: {
          name: "Frontmatter Required",
          desc: "Only files with frontmatter will be processed."
        }
      },
      strategy: {
        ensure: {
          name: "Ensure",
          desc: "Set title as an alias only if the one does not exist"
        },
        adjust: {
          name: "Adjust",
          desc: "Add title to alias and without affect on existing alias"
        },
        replace: {
          name: "Replace",
          desc: "Replace current alias with title"
        }
      }
    },
    ["explorer" /* Explorer */]: {
      name: "Explorer",
      desc: "Replace shown titles in the file explorer",
      sort: {
        name: "Sort",
        desc: "Sort files in explorer by titles from Explorer feature"
      }
    },
    ["graph" /* Graph */]: {
      name: "Graph",
      desc: "Replace shown titles in the graph/local-graph"
    },
    ["header" /* Header */]: {
      name: "Header",
      desc: "Replace titles in header of leaves and update them"
    },
    ["bookmarks" /* Bookmarks */]: {
      name: "Bookmarks",
      desc: "Replace shown titles in built-in bookmarks plugin"
    },
    ["search" /* Search */]: {
      name: "Search",
      desc: "Replace shown titles in search leaf"
    },
    ["suggest" /* Suggest */]: {
      name: "Suggest",
      desc: "Replace shown titles in suggest modals"
    },
    ["tab" /* Tab */]: {
      name: "Tabs",
      desc: "Replace shown titles in tabs"
    },
    ["inlineTitle" /* InlineTitle */]: {
      name: "Inline",
      desc: "Replace shown titles in Inline Title"
    },
    ["canvas" /* Canvas */]: {
      name: "Canvas",
      desc: "Replace shown titles in Canvas"
    },
    ["backlink" /* Backlink */]: {
      name: "Backlink",
      desc: "Replace shown titles in Backlink(Linked mentions)"
    },
    ["noteLink" /* NoteLink */]: {
      name: "Note Link",
      desc: "Replace internal links in files",
      strategy: {
        name: "Strategy",
        desc: "Define the strategy what the feature will do with links",
        options: {
          all: "Replace all links",
          onlyEmpty: "Replace only links without alias"
        }
      },
      approval: {
        name: "Approval",
        desc: "Should plugin ask you to approve changes or not",
        options: {
          showModal: "Show approve modal",
          auto: "Use auto approve"
        }
      }
    },
    ["windowFrame" /* WindowFrame */]: {
      name: "Window Frame Title",
      desc: "Replace shown title in window frame"
    }
  },
  manage: "Manage",
  template: {
    features: {
      name: "Feature's templates",
      desc: "Manage templates for this feature individually"
    },
    main: "Main",
    fallback: "Fallback",
    placeholder: "Type a template",
    common: {
      main: {
        name: "Common main template",
        desc: `Set a yaml path, which value will be used as a file title. Value must be string or numeric. Also you can use template-like path using "{{ }}".
				Also you can use #heading to use first Heading from a file or _basename and another reserved words. 
				See Readme to find out more`
      },
      fallback: {
        name: "Common fallback template",
        desc: "This template will be used as a fallback option if the main template is not resolved"
      }
    },
    used: `Common template will be used. It's value is "{{value}}"`,
    specific: "Current template will be used for this feature"
  },
  settings: "Settings for plugin",
  rule: {
    name: "Rules",
    path: {
      name: "File path rule",
      black: {
        name: "Black list mode",
        desc: "Files that are located by paths will be ignored by plugin. Each path must be written with new line."
      },
      white: {
        name: "White list mode",
        desc: "Files that are located by paths will be processed by plugin. Each path must be written with new line."
      }
    },
    delimiter: {
      name: "List values",
      desc: "Set the rule about how to process list values",
      first: "Use first value",
      join: "Join all by delimiter",
      placeholder: {
        first: "First value will be used",
        join: "Type a delimiter"
      }
    }
  },
  features: "Features",
  util: "Util",
  coffee: "If you like this plugin and you would like to help support continued development, you can use the buttons below:",
  debug_info: {
    title: "Debug info",
    desc: "Show debug info and caught errors in console"
  },
  boot_delay: {
    title: "Boot delay",
    desc: "Plugin will be loaded with specified delay in ms"
  },
  boot_background: {
    title: "Boot in background",
    desc: "Plugin will be loaded in background to not blocking application"
  },
  disabled: "Disabled",
  processor: {
    name: "Processor",
    desc: "Modifies resolved title",
    replace: {
      name: "Replace",
      desc: "What will be executed",
      pattern: {
        name: "Pattern",
        desc: "Will be used as a first argument of RegExp first, and then as a first argument of replace()"
      },
      flags: {
        name: "Flags",
        desc: "Will be used as a second argument of new RegExp"
      },
      replacement: {
        name: "Replacement",
        desc: "Will be used as a second argument of replace()"
      }
    },
    function: {
      name: "Function",
      desc: "How it will work:",
      valueDesc: "Your value of text area"
    },
    functionV2: {
      name: "Function V2",
      desc: "How it will work:",
      valueDesc: "Your value of text area"
    }
  },
  command: {
    features: {
      reload: "Reload features",
      disable: "Disable features"
    }
  }
};
var en_default = en;

// src/i18n/ru/index.ts
var ru = {};
var ru_default = ru;

// node_modules/i18next/dist/esm/i18next.js
var consoleLogger = {
  type: "logger",
  log(args) {
    this.output("log", args);
  },
  warn(args) {
    this.output("warn", args);
  },
  error(args) {
    this.output("error", args);
  },
  output(type, args) {
    if (console && console[type])
      console[type].apply(console, args);
  }
};
var Logger = class _Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.prefix = options.prefix || "i18next:";
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, "log", "", true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, "warn", "", true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, "error", "");
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, "warn", "WARNING DEPRECATED: ", true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug)
      return null;
    if (typeof args[0] === "string")
      args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new _Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new _Logger(this.logger, options);
  }
};
var baseLogger = new Logger();
var EventEmitter = class {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(" ").forEach((event) => {
      if (!this.observers[event])
        this.observers[event] = /* @__PURE__ */ new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event])
      return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach((_ref) => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers["*"]) {
      const cloned = Array.from(this.observers["*"].entries());
      cloned.forEach((_ref2) => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
};
function defer() {
  let res;
  let rej;
  const promise = new Promise((resolve2, reject) => {
    res = resolve2;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null)
    return "";
  return "" + object;
}
function copy(a, s, t3) {
  a.forEach((m) => {
    if (s[m])
      t3[m] = s[m];
  });
}
var lastOfPathSeparatorRegExp = /###/g;
function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf("###") > -1 ? key.replace(lastOfPathSeparatorRegExp, ".") : key;
  }
  function canNotTraverseDeeper() {
    return !object || typeof object === "string";
  }
  const stack = typeof path !== "string" ? path : path.split(".");
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper())
      return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty)
      object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper())
    return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
}
function setPath(object, path, newValue) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== void 0 || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === void 0 && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== "undefined") {
      last.obj = void 0;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
}
function pushPath(object, path, newValue, concat) {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
}
function getPath(object, path) {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj)
    return void 0;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  const value = getPath(data, key);
  if (value !== void 0) {
    return value;
  }
  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  for (const prop in source) {
    if (prop !== "__proto__" && prop !== "constructor") {
      if (prop in target) {
        if (typeof target[prop] === "string" || target[prop] instanceof String || typeof source[prop] === "string" || source[prop] instanceof String) {
          if (overwrite)
            target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
}
function regexEscape(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
}
var _entityMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;"
};
function escape(data) {
  if (typeof data === "string") {
    return data.replace(/[&<>"'\/]/g, (s) => _entityMap[s]);
  }
  return data;
}
var RegExpCache = class {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = /* @__PURE__ */ new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== void 0) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
};
var chars = [" ", ",", "?", "!", ";"];
var looksLikeObjectPathRegExpCache = new RegExpCache(20);
function looksLikeObjectPath(key, nsSeparator, keySeparator) {
  nsSeparator = nsSeparator || "";
  keySeparator = keySeparator || "";
  const possibleChars = chars.filter((c) => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0)
    return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map((c) => c === "?" ? "\\?" : c).join("|")})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
}
function deepFind(obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ".";
  if (!obj)
    return void 0;
  if (obj[path])
    return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length; ) {
    if (!current || typeof current !== "object") {
      return void 0;
    }
    let next;
    let nextPath = "";
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== void 0) {
        if (["string", "number", "boolean"].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
}
function getCleanedCode(code) {
  if (code && code.indexOf("_") > 0)
    return code.replace("_", "-");
  return code;
}
var ResourceStore = class extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
      ns: ["translation"],
      defaultNS: "translation"
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === void 0) {
      this.options.keySeparator = ".";
    }
    if (this.options.ignoreJSONStructure === void 0) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    const keySeparator = options.keySeparator !== void 0 ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== void 0 ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf(".") > -1) {
      path = lng.split(".");
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (typeof key === "string" && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf(".") > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join(".");
    }
    if (result || !ignoreJSONStructure || typeof key !== "string")
      return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== void 0 ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key)
      path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf(".") > -1) {
      path = lng.split(".");
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent)
      this.emit("added", lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (typeof resources[m] === "string" || Array.isArray(resources[m]))
        this.addResource(lng, ns, m, resources[m], {
          silent: true
        });
    }
    if (!options.silent)
      this.emit("added", lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf(".") > -1) {
      path = lng.split(".");
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy)
      resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent)
      this.emit("added", lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit("removed", lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== void 0;
  }
  getResourceBundle(lng, ns) {
    if (!ns)
      ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === "v1")
      return {
        ...{},
        ...this.getResource(lng, ns)
      };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find((v) => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
};
var postProcessor = {
  processors: {},
  addPostProcessor(module2) {
    this.processors[module2.name] = module2;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach((processor) => {
      if (this.processors[processor])
        value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};
var checkedLoadedFor = {};
var Translator = class _Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    super();
    copy(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], services, this);
    this.options = options;
    if (this.options.keySeparator === void 0) {
      this.options.keySeparator = ".";
    }
    this.logger = baseLogger.create("translator");
  }
  changeLanguage(lng) {
    if (lng)
      this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
      interpolation: {}
    };
    if (key === void 0 || key === null) {
      return false;
    }
    const resolved2 = this.resolve(key, options);
    return resolved2 && resolved2.res !== void 0;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== void 0 ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === void 0)
      nsSeparator = ":";
    const keySeparator = options.keySeparator !== void 0 ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1)
        namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    if (typeof namespaces === "string")
      namespaces = [namespaces];
    return {
      key,
      namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== "object" && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === "object")
      options = {
        ...options
      };
    if (!options)
      options = {};
    if (keys === void 0 || keys === null)
      return "";
    if (!Array.isArray(keys))
      keys = [String(keys)];
    const returnDetails = options.returnDetails !== void 0 ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== void 0 ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === "cimode") {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved2 = this.resolve(keys, options);
    let res = resolved2 && resolved2.res;
    const resUsedKey = resolved2 && resolved2.usedKey || key;
    const resExactUsedKey = resolved2 && resolved2.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ["[object Number]", "[object Function]", "[object RegExp]"];
    const joinArrays = options.joinArrays !== void 0 ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = typeof res !== "string" && typeof res !== "boolean" && typeof res !== "number";
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === "string" && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn("accessing an object - but returnObjects options is not enabled!");
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved2.res = r;
          resolved2.usedParams = this.getUsedParamsDetails(options);
          return resolved2;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy2 = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy2[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy2[m] === deepKey)
              copy2[m] = res[m];
          }
        }
        res = copy2;
      }
    } else if (handleAsObjectInI18nFormat && typeof joinArrays === "string" && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res)
        res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== void 0 && typeof options.count !== "string";
      const hasDefaultValue = _Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : "";
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : "";
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? void 0 : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? "updateKey" : "missingKey", lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res)
            this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === "fallback" && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === "all") {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit("missingKey", l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach((language) => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach((suffix) => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved2, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey)
        res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== "v1") {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : void 0);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved2.res = res;
      resolved2.usedParams = this.getUsedParamsDetails(options);
      return resolved2;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved2, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved2.usedLng, resolved2.usedNS, resolved2.usedKey, {
        resolved: resolved2
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation)
        this.interpolator.init({
          ...options,
          ...{
            interpolation: {
              ...this.options.interpolation,
              ...options.interpolation
            }
          }
        });
      const skipOnVariables = typeof res === "string" && (options && options.interpolation && options.interpolation.skipOnVariables !== void 0 ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && typeof options.replace !== "string" ? options.replace : options;
      if (this.options.interpolation.defaultVariables)
        data = {
          ...this.options.interpolation.defaultVariables,
          ...data
        };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved2.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft)
          options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== "v1" && resolved2 && resolved2.res)
        options.lng = this.language || resolved2.usedLng;
      if (options.nest !== false)
        res = this.interpolator.nest(res, function() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          if (lastKey && lastKey[0] === args[0] && !options.context) {
            _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
            return null;
          }
          return _this.translate(...args, key);
        }, options);
      if (options.interpolation)
        this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = typeof postProcess === "string" ? [postProcess] : postProcess;
    if (res !== void 0 && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved2,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (typeof keys === "string")
      keys = [keys];
    keys.forEach((k) => {
      if (this.isValidLookup(found))
        return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS)
        namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== void 0 && typeof options.count !== "string";
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== void 0 && (typeof options.context === "string" || typeof options.context === "number") && options.context !== "";
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach((ns) => {
        if (this.isValidLookup(found))
          return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(", ")}" won't get resolved as namespace "${usedNS}" was not yet loaded`, "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
        }
        codes.forEach((code) => {
          if (this.isValidLookup(found))
            return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling)
              pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== void 0 && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === "");
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource)
      return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    const optionsKeys = ["defaultValue", "ordinal", "context", "replace", "lng", "lngs", "fallbackLng", "ns", "keySeparator", "nsSeparator", "returnObjects", "returnDetails", "joinArrays", "postProcess", "interpolation"];
    const useOptionsReplaceForData = options.replace && typeof options.replace !== "string";
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== "undefined") {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = "defaultValue";
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && void 0 !== options[option]) {
        return true;
      }
    }
    return false;
  }
};
function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}
var LanguageUtil = class {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create("languageUtils");
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf("-") < 0)
      return null;
    const p = code.split("-");
    if (p.length === 2)
      return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === "x")
      return null;
    return this.formatLanguageCode(p.join("-"));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf("-") < 0)
      return code;
    const p = code.split("-");
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (typeof code === "string" && code.indexOf("-") > -1) {
      const specialCases = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"];
      let p = code.split("-");
      if (this.options.lowerCaseLng) {
        p = p.map((part) => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1)
          p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2)
          p[1] = p[1].toUpperCase();
        if (p[0] !== "sgn" && p[2].length === 2)
          p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1)
          p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1)
          p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join("-");
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === "languageOnly" || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes)
      return null;
    let found;
    codes.forEach((code) => {
      if (found)
        return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng))
        found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach((code) => {
        if (found)
          return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly))
          return found = lngOnly;
        found = this.options.supportedLngs.find((supportedLng) => {
          if (supportedLng === lngOnly)
            return supportedLng;
          if (supportedLng.indexOf("-") < 0 && lngOnly.indexOf("-") < 0)
            return;
          if (supportedLng.indexOf("-") > 0 && lngOnly.indexOf("-") < 0 && supportedLng.substring(0, supportedLng.indexOf("-")) === lngOnly)
            return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1)
            return supportedLng;
        });
      });
    }
    if (!found)
      found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks)
      return [];
    if (typeof fallbacks === "function")
      fallbacks = fallbacks(code);
    if (typeof fallbacks === "string")
      fallbacks = [fallbacks];
    if (Array.isArray(fallbacks))
      return fallbacks;
    if (!code)
      return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found)
      found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found)
      found = fallbacks[this.formatLanguageCode(code)];
    if (!found)
      found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found)
      found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = (c) => {
      if (!c)
        return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (typeof code === "string" && (code.indexOf("-") > -1 || code.indexOf("_") > -1)) {
      if (this.options.load !== "languageOnly")
        addCode(this.formatLanguageCode(code));
      if (this.options.load !== "languageOnly" && this.options.load !== "currentOnly")
        addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== "currentOnly")
        addCode(this.getLanguagePartFromCode(code));
    } else if (typeof code === "string") {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach((fc) => {
      if (codes.indexOf(fc) < 0)
        addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
};
var sets = [{
  lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kk", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
  nr: [1],
  fc: 3
}, {
  lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ["ar"],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ["cs", "sk"],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ["csb", "pl"],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ["cy"],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ["fr"],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ["ga"],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ["gd"],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ["is"],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ["jv"],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ["kw"],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ["lt"],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ["lv"],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ["mk"],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ["mnk"],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ["mt"],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ["or"],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ["ro"],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ["sl"],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ["he", "iw"],
  nr: [1, 2, 20, 21],
  fc: 22
}];
var _rulesPluralsTypes = {
  1: function(n) {
    return Number(n > 1);
  },
  2: function(n) {
    return Number(n != 1);
  },
  3: function(n) {
    return 0;
  },
  4: function(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function(n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function(n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function(n) {
    return Number(n >= 2);
  },
  10: function(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function(n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function(n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function(n) {
    return Number(n !== 0);
  },
  14: function(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function(n) {
    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);
  },
  18: function(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function(n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};
var nonIntlVersions = ["v1", "v2", "v3"];
var intlVersions = ["v4"];
var suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
function createRules() {
  const rules = {};
  sets.forEach((set) => {
    set.lngs.forEach((l) => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}
var PluralResolver = class {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create("pluralResolver");
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === "undefined" || !Intl.PluralRules)) {
      this.options.compatibilityJSON = "v3";
      this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.");
    }
    this.rules = createRules();
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      try {
        return new Intl.PluralRules(getCleanedCode(code === "dev" ? "en" : code), {
          type: options.ordinal ? "ordinal" : "cardinal"
        });
      } catch (err) {
        return;
      }
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    return this.getSuffixes(code, options).map((suffix) => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map((pluralCategory) => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ""}${pluralCategory}`);
    }
    return rule.numbers.map((number) => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ""}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return "";
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = "plural";
      } else if (suffix === 1) {
        suffix = "";
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === "v1") {
      if (suffix === 1)
        return "";
      if (typeof suffix === "number")
        return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === "v2") {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
};
function deepFindWithDefaults(data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : ".";
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && typeof key === "string") {
    path = deepFind(data, key, keySeparator);
    if (path === void 0)
      path = deepFind(defaultData, key, keySeparator);
  }
  return path;
}
var Interpolator = class {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.logger = baseLogger.create("interpolator");
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || ((value) => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    if (!options.interpolation)
      options.interpolation = {
        escapeValue: true
      };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== void 0 ? escape$1 : escape;
    this.escapeValue = escapeValue !== void 0 ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== void 0 ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || "{{";
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || "}}";
    this.formatSeparator = formatSeparator || ",";
    this.unescapePrefix = unescapeSuffix ? "" : unescapePrefix || "-";
    this.unescapeSuffix = this.unescapePrefix ? "" : unescapeSuffix || "";
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape("$t(");
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(")");
    this.nestingOptionsSeparator = nestingOptionsSeparator || ",";
    this.maxReplaces = maxReplaces || 1e3;
    this.alwaysFormat = alwaysFormat !== void 0 ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options)
      this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, "g");
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    function regexSafe(val) {
      return val.replace(/\$/g, "$$$$");
    }
    const handleFormat = (key) => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, void 0, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== void 0 ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: (val) => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: (val) => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach((todo) => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === void 0) {
          if (typeof missingInterpolationHandler === "function") {
            const temp = missingInterpolationHandler(str, match, options);
            value = typeof temp === "string" ? temp : "";
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = "";
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = "";
          }
        } else if (typeof value !== "string" && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    function handleHasOptions(key, inheritedOptions) {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0)
        return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions)
          clonedOptions = {
            ...inheritedOptions,
            ...clonedOptions
          };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1)
        delete clonedOptions.defaultValue;
      return key;
    }
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== "string" ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map((elem) => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && typeof value !== "string")
        return value;
      if (typeof value !== "string")
        value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = "";
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
};
function parseFormatStr(formatStr) {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf("(") > -1) {
    const p = formatStr.split("(");
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === "currency" && optStr.indexOf(":") < 0) {
      if (!formatOptions.currency)
        formatOptions.currency = optStr.trim();
    } else if (formatName === "relativetime" && optStr.indexOf(":") < 0) {
      if (!formatOptions.range)
        formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(";");
      opts.forEach((opt) => {
        if (opt) {
          const [key, ...rest] = opt.split(":");
          const val = rest.join(":").trim().replace(/^'+|'+$/g, "");
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey])
            formatOptions[trimmedKey] = val;
          if (val === "false")
            formatOptions[trimmedKey] = false;
          if (val === "true")
            formatOptions[trimmedKey] = true;
          if (!isNaN(val))
            formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
}
function createCachedFormatter(fn) {
  const cache = {};
  return function invokeFormatter(val, lng, options) {
    const key = lng + JSON.stringify(options);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
}
var Formatter = class {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.logger = baseLogger.create("formatter");
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return (val) => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: "currency"
        });
        return (val) => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return (val) => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return (val) => formatter.format(val, opt.range || "day");
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return (val) => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
      interpolation: {}
    };
    const iOpts = options.interpolation;
    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ",";
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
};
function removePending(q, name) {
  if (q.pending[name] !== void 0) {
    delete q.pending[name];
    q.pendingCount--;
  }
}
var Connector = class extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create("backendConnector");
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach((lng) => {
      let hasAllNamespaces = true;
      namespaces.forEach((ns) => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0)
          ;
        else if (this.state[name] === 1) {
          if (pending[name] === void 0)
            pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === void 0)
            pending[name] = true;
          if (toLoad[name] === void 0)
            toLoad[name] = true;
          if (toLoadNamespaces[ns] === void 0)
            toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces)
        toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split("|");
    const lng = s[0];
    const ns = s[1];
    if (err)
      this.emit("failedLoading", lng, ns, err);
    if (data) {
      this.store.addResourceBundle(lng, ns, data, void 0, void 0, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    const loaded = {};
    this.queue.forEach((q) => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err)
        q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach((l) => {
          if (!loaded[l])
            loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach((n) => {
              if (loaded[l][n] === void 0)
                loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit("loaded", loaded);
    this.queue = this.queue.filter((q) => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : void 0;
    if (!lng.length)
      return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === "function") {
          r.then((data) => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : void 0;
    if (!this.backend) {
      this.logger.warn("No backend was added via i18next.use. Will not load resources.");
      return callback && callback();
    }
    if (typeof languages === "string")
      languages = this.languageUtils.toResolveHierarchy(languages);
    if (typeof namespaces === "string")
      namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length)
        callback();
      return null;
    }
    toLoad.toLoad.forEach((name) => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    const s = name.split("|");
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, "read", void 0, void 0, (err, data) => {
      if (err)
        this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data)
        this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : () => {
    };
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
      return;
    }
    if (key === void 0 || key === null || key === "")
      return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === "function") {
            r.then((data) => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0])
      return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
};
function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ["translation"],
    defaultNS: ["translation"],
    fallbackLng: ["dev"],
    fallbackNS: false,
    supportedLngs: false,
    nonExplicitSupportedLngs: false,
    load: "all",
    preload: false,
    simplifyPluralSuffix: true,
    keySeparator: ".",
    nsSeparator: ":",
    pluralSeparator: "_",
    contextSeparator: "_",
    partialBundledLanguages: false,
    saveMissing: false,
    updateMissing: false,
    saveMissingTo: "fallback",
    saveMissingPlurals: true,
    missingKeyHandler: false,
    missingInterpolationHandler: false,
    postProcess: false,
    postProcessPassResolved: false,
    returnNull: false,
    returnEmptyString: true,
    returnObjects: false,
    joinArrays: false,
    returnedObjectHandler: false,
    parseMissingKeyHandler: false,
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      let ret = {};
      if (typeof args[1] === "object")
        ret = args[1];
      if (typeof args[1] === "string")
        ret.defaultValue = args[1];
      if (typeof args[2] === "string")
        ret.tDescription = args[2];
      if (typeof args[2] === "object" || typeof args[3] === "object") {
        const options = args[3] || args[2];
        Object.keys(options).forEach((key) => {
          ret[key] = options[key];
        });
      }
      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: (value) => value,
      prefix: "{{",
      suffix: "}}",
      formatSeparator: ",",
      unescapePrefix: "-",
      nestingPrefix: "$t(",
      nestingSuffix: ")",
      nestingOptionsSeparator: ",",
      maxReplaces: 1e3,
      skipOnVariables: true
    }
  };
}
function transformOptions(options) {
  if (typeof options.ns === "string")
    options.ns = [options.ns];
  if (typeof options.fallbackLng === "string")
    options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === "string")
    options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf("cimode") < 0) {
    options.supportedLngs = options.supportedLngs.concat(["cimode"]);
  }
  return options;
}
function noop() {
}
function bindMemberFunctions(inst) {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach((mem) => {
    if (typeof inst[mem] === "function") {
      inst[mem] = inst[mem].bind(inst);
    }
  });
}
var I18n = class _I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : void 0;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : void 0;
    this.isInitializing = true;
    if (typeof options === "function") {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (typeof options.ns === "string") {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf("translation") < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== "v1") {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== void 0) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== void 0) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    function createClassOnDemand(ClassOrObject) {
      if (!ClassOrObject)
        return null;
      if (typeof ClassOrObject === "function")
        return new ClassOrObject();
      return ClassOrObject;
    }
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== "undefined") {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on("*", function(event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init)
          s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init)
          s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on("*", function(event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach((m) => {
        if (m.init)
          m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback)
      callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== "dev")
        this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn("init: no languageDetector is used and no lng is defined");
    }
    const storeApi = ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"];
    storeApi.forEach((fcName) => {
      this[fcName] = function() {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"];
    storeApiChained.forEach((fcName) => {
      this[fcName] = function() {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t3) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce)
          this.logger.warn("init: i18next is already initialized. You should call init just once!");
        this.isInitialized = true;
        if (!this.options.isClone)
          this.logger.log("initialized", this.options);
        this.emit("initialized", this.options);
        deferred.resolve(t3);
        callback(err, t3);
      };
      if (this.languages && this.options.compatibilityAPI !== "v1" && !this.isInitialized)
        return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = typeof language === "string" ? language : this.language;
    if (typeof language === "function")
      usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === "cimode" && (!this.options.preload || this.options.preload.length === 0))
        return usedCallback();
      const toLoad = [];
      const append = (lng) => {
        if (!lng)
          return;
        if (lng === "cimode")
          return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach((l) => {
          if (l === "cimode")
            return;
          if (toLoad.indexOf(l) < 0)
            toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach((l) => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach((l) => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, (e) => {
        if (!e && !this.resolvedLanguage && this.language)
          this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (!lngs)
      lngs = this.languages;
    if (!ns)
      ns = this.options.ns;
    if (!callback)
      callback = noop;
    this.services.backendConnector.reload(lngs, ns, (err) => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module2) {
    if (!module2)
      throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
    if (!module2.type)
      throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
    if (module2.type === "backend") {
      this.modules.backend = module2;
    }
    if (module2.type === "logger" || module2.log && module2.warn && module2.error) {
      this.modules.logger = module2;
    }
    if (module2.type === "languageDetector") {
      this.modules.languageDetector = module2;
    }
    if (module2.type === "i18nFormat") {
      this.modules.i18nFormat = module2;
    }
    if (module2.type === "postProcessor") {
      postProcessor.addPostProcessor(module2);
    }
    if (module2.type === "formatter") {
      this.modules.formatter = module2;
    }
    if (module2.type === "3rdParty") {
      this.modules.external.push(module2);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages)
      return;
    if (["cimode", "dev"].indexOf(l) > -1)
      return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (["cimode", "dev"].indexOf(lngInLngs) > -1)
        continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit("languageChanging", lng);
    const setLngProps = (l) => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = void 0;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = void 0;
        this.emit("languageChanged", l);
        this.logger.log("languageChanged", l);
      } else {
        this.isLanguageChangingTo = void 0;
      }
      deferred.resolve(function() {
        return _this2.t(...arguments);
      });
      if (callback)
        callback(err, function() {
          return _this2.t(...arguments);
        });
    };
    const setLng = (lngs) => {
      if (!lng && !lngs && this.services.languageDetector)
        lngs = [];
      const l = typeof lngs === "string" ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language)
          this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage)
          this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, (err) => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function(key, opts) {
      let options;
      if (typeof opts !== "object") {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== "")
        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || ".";
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map((k) => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (typeof lng === "string") {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === "cimode")
      return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== void 0)
        return preResult;
    }
    if (this.hasResourceBundle(lng, ns))
      return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages)
      return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns)))
      return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback)
        callback();
      return Promise.resolve();
    }
    if (typeof ns === "string")
      ns = [ns];
    ns.forEach((n) => {
      if (this.options.ns.indexOf(n) < 0)
        this.options.ns.push(n);
    });
    this.loadResources((err) => {
      deferred.resolve();
      if (callback)
        callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (typeof lngs === "string")
      lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter((lng) => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback)
        callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources((err) => {
      deferred.resolve();
      if (callback)
        callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng)
      lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng)
      return "rtl";
    const rtlLngs = ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam", "ckb"];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf("-arab") > 1 ? "rtl" : "ltr";
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : void 0;
    return new _I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore)
      delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new _I18n(mergedOptions);
    if (options.debug !== void 0 || options.prefix !== void 0) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ["store", "services", "language"];
    membersToCopy.forEach((m) => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on("*", function(event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
};
var instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;
var createInstance = instance.createInstance;
var dir = instance.dir;
var init = instance.init;
var loadResources = instance.loadResources;
var reloadResources = instance.reloadResources;
var use = instance.use;
var changeLanguage = instance.changeLanguage;
var getFixedT = instance.getFixedT;
var t = instance.t;
var exists = instance.exists;
var setDefaultNamespace = instance.setDefaultNamespace;
var hasLoadedNamespace = instance.hasLoadedNamespace;
var loadNamespaces = instance.loadNamespaces;
var loadLanguages = instance.loadLanguages;

// src/i18n/zh/index.ts
var zh = {
  validator: "\u9A8C\u8BC1\u65B9\u5F0F",
  strategy: "\u7B56\u7565",
  cancel: "\u53D6\u6D88",
  apply: "\u5E94\u7528",
  feature: {
    ["alias" /* Alias */]: {
      name: "\u522B\u540DAlias",
      desc: "\u4FEE\u6539\u5143\u6570\u636E\uFF08frontmatter\uFF09\u7F13\u5B58\u4E2D\u7684\u522B\u540D\uFF0C\u4E0D\u5F71\u54CD\u5B9E\u9645\u522B\u540D",
      validator: {
        auto: {
          name: "\u81EA\u52A8Frontmatter",
          desc: "\u5982\u679C frontmatter \u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u5728\u7F13\u5B58\u4E2D\u521B\u5EFA\u3002\u53EF\u80FD\u4F1A\u53D1\u751F\u526F\u4F5C\u7528\u3002"
        },
        required: {
          name: "\u6709Frontmatter\u624D\u751F\u6548",
          desc: "\u53EA\u5904\u7406\u6709 frontmatter \u7684\u6587\u4EF6\u3002"
        }
      },
      strategy: {
        ensure: {
          name: "\u589E\u5F3A",
          desc: "\u4EC5\u5F53\u6807\u9898\u4E0D\u5728\u522B\u540D\u4E2D\u65F6\uFF0C\u624D\u5C06\u6807\u9898\u8BBE\u7F6E\u4E3A\u522B\u540D"
        },
        adjust: {
          name: "\u8C03\u6574",
          desc: "\u5C06\u6807\u9898\u6DFB\u52A0\u5230\u522B\u540D\u4E2D\uFF0C\u4F46\u4E0D\u5F71\u54CD\u73B0\u6709\u522B\u540D"
        },
        replace: {
          name: "\u66FF\u6362",
          desc: "\u7528\u6807\u9898\u66FF\u6362\u5F53\u524D\u522B\u540D"
        }
      }
    },
    ["explorer" /* Explorer */]: {
      name: "\u6587\u4EF6\u8D44\u6E90\u7BA1\u7406\u5668",
      desc: "\u66FF\u6362\u6587\u4EF6\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["graph" /* Graph */]: {
      name: "\u56FE\u8C31",
      desc: "\u66FF\u6362\u56FE\u8C31/\u672C\u5730\u56FE\u8C31\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["header" /* Header */]: {
      name: "\u9875\u9876\u6807\u9898",
      desc: "\u66FF\u6362Tab\u6807\u7B7E\u9875\u9876\u90E8\u7684\u6807\u9898\u5E76\u66F4\u65B0\u5B83\u4EEC"
    },
    ["bookmarks" /* Bookmarks */]: {
      name: "\u4E66\u7B7E",
      desc: "\u66FF\u6362\u5185\u7F6E\u4E66\u7B7E\u63D2\u4EF6\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["search" /* Search */]: {
      name: "\u641C\u7D22",
      desc: "\u66FF\u6362\u641C\u7D22\u9875\u9762\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["suggest" /* Suggest */]: {
      name: "\u5EFA\u8BAE",
      desc: "\u66FF\u6362\u5EFA\u8BAE\u7A97\u53E3\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["tab" /* Tab */]: {
      name: "\u6807\u7B7E\u9875",
      desc: "\u66FF\u6362Tab\u6807\u7B7E\u9875\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["inlineTitle" /* InlineTitle */]: {
      name: "\u9875\u5185\u6807\u9898",
      desc: "\u66FF\u6362\u9875\u9762\u5185\u663E\u793A\u7684\u6807\u9898"
    },
    ["canvas" /* Canvas */]: {
      name: "\u767D\u677F",
      desc: "\u66FF\u6362\u767D\u677F\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["backlink" /* Backlink */]: {
      name: "\u53CD\u5411\u94FE\u63A5",
      desc: "\u66FF\u6362\u53CD\u5411\u94FE\u63A5(\u94FE\u63A5\u63D0\u53CA)\u4E2D\u663E\u793A\u7684\u6807\u9898"
    },
    ["noteLink" /* NoteLink */]: {
      name: "\u7B14\u8BB0\u94FE\u63A5",
      desc: "\u66FF\u6362\u7B14\u8BB0\u4E2D\u7684\u5185\u90E8\u94FE\u63A5",
      strategy: {
        options: {
          all: "\u66FF\u6362\u5168\u90E8\u94FE\u63A5",
          onlyEmpty: "\u53EA\u66FF\u6362\u6CA1\u6709\u522B\u540D\u7684\u94FE\u63A5"
        }
      },
      approval: {
        options: {
          showModal: "\u663E\u793A\u786E\u8BA4\u7A97\u53E3",
          auto: "\u4F7F\u7528\u81EA\u52A8\u786E\u8BA4"
        }
      }
    }
  },
  manage: "\u7BA1\u7406",
  template: {
    features: {
      name: "\u7279\u6027\u6A21\u677F",
      desc: "\u6839\u636E\u5404\u7279\u6027\u529F\u80FD\u72EC\u7ACB\u7BA1\u7406\u6A21\u677F"
    },
    main: "\u4E3B\u6A21\u677F",
    fallback: "\u5907\u7528",
    placeholder: "\u8F93\u5165\u6A21\u677F",
    common: {
      main: {
        name: "\u901A\u7528\u4E3B\u6A21\u677F",
        desc: `\u8BBE\u7F6E yaml \u8DEF\u5F84\uFF0C\u8BE5\u503C\u5C06\u7528\u4E8E\u6587\u4EF6\u6807\u9898\u3002\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u6216\u6570\u503C\u3002\u8FD8\u53EF\u4EE5\u4F7F\u7528\u7C7B\u4F3C\u6A21\u677F\u8DEF\u5F84 "{{ }}"\u3002
                \u8FD8\u53EF\u4EE5\u4F7F\u7528 #\u6807\u9898 \u6765\u4F7F\u7528\u4E00\u7EA7\u6807\u9898\uFF0C\u6216 _ basename \u548C\u5176\u4ED6\u4FDD\u7559\u5B57\u3002
                \u67E5\u9605 Readme \u4E86\u89E3\u66F4\u591A`
      },
      fallback: {
        name: "\u901A\u7528\u5907\u7528\u6A21\u677F",
        desc: "\u4F5C\u4E3A\u5907\u7528\u9009\u9879\u7684\u6A21\u677F\uFF0C\u5F53\u901A\u7528\u4E3B\u6A21\u677F\u65E0\u6CD5\u89E3\u6790\u51FA\u6765\u65F6\u4F7F\u7528"
      }
    },
    used: "\u901A\u7528\u6A21\u677F\u5C06\u4F1A\u4F7F\u7528. \u503C\u4E3A {{value}}",
    specific: "\u8FD9\u4E2A\u7279\u6027\u529F\u80FD\u5C06\u4F7F\u7528\u5F53\u524D\u6A21\u677F"
  },
  settings: "\u63D2\u4EF6\u8BBE\u7F6E",
  rule: {
    name: "\u89C4\u5219",
    path: {
      name: "\u6587\u4EF6\u8DEF\u5F84\u89C4\u5219",
      black: {
        name: "\u9ED1\u540D\u5355\u6A21\u5F0F",
        desc: "\u63D2\u4EF6\u5C06\u5FFD\u7565\u8DEF\u5F84\u4E2D\u7684\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u8DEF\u5F84\u5FC5\u987B\u4F7F\u7528\u5728\u65B0\u884C\u4E2D\u5199\u5165."
      },
      white: {
        name: "\u767D\u540D\u5355\u6A21\u5F0F",
        desc: "\u63D2\u4EF6\u5C06\u5904\u7406\u8DEF\u5F84\u4E2D\u7684\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u8DEF\u5F84\u5FC5\u987B\u4F7F\u7528\u5728\u65B0\u884C\u4E2D\u5199\u5165."
      }
    },
    delimiter: {
      name: "\u5217\u8868\u503C",
      desc: "\u8BBE\u7F6E\u5904\u7406\u5217\u8868\u503C\u7684\u89C4\u5219",
      first: "\u4F7F\u7528\u7B2C\u4E00\u4E2A\u503C",
      join: "\u7528\u5206\u9694\u7B26\u62FC\u63A5\u5168\u90E8",
      placeholder: {
        first: "\u4F1A\u91C7\u7528\u7B2C\u4E00\u4E2A\u503C",
        join: "\u8F93\u5165\u5206\u9694\u7B26"
      }
    }
  },
  features: "\u7279\u6027\u529F\u80FD",
  util: "\u5DE5\u5177",
  coffee: "\u5982\u679C\u60A8\u559C\u6B22\u6B64\u63D2\u4EF6\u5E76\u5E0C\u671B\u5E2E\u52A9/\u652F\u6301\u4F5C\u8005\u6301\u7EED\u5F00\u53D1\uFF0C\u8BF7\u70B9\u51FB\u4EE5\u4E0B\u6309\u94AE:",
  debug_info: {
    title: "\u8C03\u8BD5\u4FE1\u606F",
    desc: "\u5728\u7EC8\u7AEF\u4E2D\u663E\u793A\u8C03\u8BD5\u4FE1\u606F\u548C\u6355\u6349\u5230\u7684\u9519\u8BEF\u4FE1\u606F"
  },
  boot_delay: {
    title: "\u5EF6\u8FDF\u542F\u52A8\u52A0\u8F7D",
    desc: "\u63D2\u4EF6\u5C06\u5728\u6307\u5B9A\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09\u540E\u52A0\u8F7D"
  },
  disabled: "\u7981\u7528",
  processor: {
    name: "\u5904\u7406\u5668",
    desc: "\u4FEE\u6539\u89E3\u6790\u7684\u6807\u9898",
    replace: {
      name: "\u66FF\u6362",
      desc: "\u5C06\u6267\u884C",
      pattern: {
        name: "\u6B63\u5219Pattern",
        desc: "\u5C06\u9996\u5148\u7528\u4F5C RegExp \u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u7136\u540E\u7528\u4F5C replace()\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570"
      },
      flags: {
        name: "\u4FEE\u9970\u7B26Flags",
        desc: "\u5C06\u7528\u4F5C\u65B0RegExp \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570"
      },
      replacement: {
        name: "\u66FF\u6362\u503CReplacement",
        desc: "\u5C06\u7528\u4F5C replace() \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570"
      }
    },
    function: {
      name: "\u51FD\u6570",
      desc: "\u5C06\u600E\u6837\u8D77\u4F5C\u7528:",
      valueDesc: "\u4F60\u5728\u6587\u672C\u533A\u8F93\u5165\u7684\u503C"
    }
  },
  command: {
    features: {
      reload: "\u91CD\u65B0\u52A0\u8F7D\u7279\u6027\u529F\u80FD",
      disable: "\u7981\u7528\u7279\u6027\u529F\u80FD"
    }
  }
};
var zh_default = zh;

// src/i18n/zh-tw/index.ts
var zh_tw = {
  validator: "\u9A57\u8B49\u65B9\u5F0F",
  strategy: "\u7B56\u7565",
  cancel: "\u53D6\u6D88",
  apply: "\u61C9\u7528",
  feature: {
    ["alias" /* Alias */]: {
      name: "\u5225\u540DAlias",
      desc: "\u4FEE\u6539\u5143\u6578\u64DA\uFF08frontmatter\uFF09\u7DE9\u5B58\u4E2D\u7684\u5225\u540D\uFF0C\u4E0D\u5F71\u97FF\u5BE6\u969B\u5225\u540D",
      validator: {
        auto: {
          name: "\u81EA\u52D5Frontmatter",
          desc: "\u5982\u679C frontmatter \u4E0D\u5B58\u5728\uFF0C\u5247\u6703\u5728\u7DE9\u5B58\u4E2D\u5275\u5EFA\u3002\u53EF\u80FD\u6703\u767C\u751F\u526F\u4F5C\u7528\u3002"
        },
        required: {
          name: "\u6709Frontmatter\u624D\u751F\u6548",
          desc: "\u53EA\u8655\u7406\u6709 frontmatter \u7684\u6A94\u3002"
        }
      },
      strategy: {
        ensure: {
          name: "\u589E\u5F37",
          desc: "\u50C5\u7576\u6A19\u984C\u4E0D\u5728\u5225\u540D\u4E2D\u6642\uFF0C\u624D\u5C07\u6A19\u984C\u8A2D\u7F6E\u70BA\u5225\u540D"
        },
        adjust: {
          name: "\u8ABF\u6574",
          desc: "\u5C07\u6A19\u984C\u6DFB\u52A0\u5230\u5225\u540D\u4E2D\uFF0C\u4F46\u4E0D\u5F71\u97FF\u73FE\u6709\u5225\u540D"
        },
        replace: {
          name: "\u66FF\u63DB",
          desc: "\u7528\u6A19\u984C\u66FF\u63DB\u7576\u524D\u5225\u540D"
        }
      }
    },
    ["explorer" /* Explorer */]: {
      name: "\u6A94\u8CC7\u6E90\u7BA1\u7406\u5668",
      desc: "\u66FF\u63DB\u6A94\u8CC7\u6E90\u7BA1\u7406\u5668\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["graph" /* Graph */]: {
      name: "\u5716\u8B5C",
      desc: "\u66FF\u63DB\u5716\u8B5C/\u672C\u5730\u5716\u8B5C\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["header" /* Header */]: {
      name: "\u9801\u9802\u6A19\u984C",
      desc: "\u66FF\u63DBTab\u6A19\u7C64\u9801\u9802\u90E8\u7684\u6A19\u984C\u4E26\u66F4\u65B0\u5B83\u5011"
    },
    ["bookmarks" /* Bookmarks */]: {
      name: "\u66F8\u7C3D",
      desc: "\u66FF\u63DB\u5167\u7F6E\u66F8\u7C3D\u63D2\u4EF6\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["search" /* Search */]: {
      name: "\u641C\u7D22",
      desc: "\u66FF\u63DB\u641C\u7D22\u9801\u9762\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["suggest" /* Suggest */]: {
      name: "\u5EFA\u8B70",
      desc: "\u66FF\u63DB\u5EFA\u8B70\u7A97\u53E3\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["tab" /* Tab */]: {
      name: "\u6A19\u7C64\u9801",
      desc: "\u66FF\u63DBTab\u6A19\u7C64\u9801\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["inlineTitle" /* InlineTitle */]: {
      name: "\u9801\u5167\u6A19\u984C",
      desc: "\u66FF\u63DB\u9801\u9762\u5167\u986F\u793A\u7684\u6A19\u984C"
    },
    ["canvas" /* Canvas */]: {
      name: "\u767D\u677F",
      desc: "\u66FF\u63DB\u767D\u677F\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["backlink" /* Backlink */]: {
      name: "\u53CD\u5411\u93C8\u63A5",
      desc: "\u66FF\u63DB\u53CD\u5411\u93C8\u63A5(\u93C8\u63A5\u63D0\u53CA)\u4E2D\u986F\u793A\u7684\u6A19\u984C"
    },
    ["noteLink" /* NoteLink */]: {
      name: "\u7B46\u8A18\u93C8\u63A5",
      desc: "\u66FF\u63DB\u7B46\u8A18\u4E2D\u7684\u5167\u90E8\u93C8\u63A5",
      strategy: {
        options: {
          all: "\u66FF\u63DB\u5168\u90E8\u93C8\u63A5",
          onlyEmpty: "\u53EA\u66FF\u63DB\u6C92\u6709\u5225\u540D\u7684\u93C8\u63A5"
        }
      },
      approval: {
        options: {
          showModal: "\u986F\u793A\u78BA\u8A8D\u7A97\u53E3",
          auto: "\u4F7F\u7528\u81EA\u52D5\u78BA\u8A8D"
        }
      }
    }
  },
  manage: "\u7BA1\u7406",
  template: {
    features: {
      name: "\u7279\u6027\u7BC4\u672C",
      desc: "\u6839\u64DA\u5404\u7279\u6027\u529F\u80FD\u7368\u7ACB\u7BA1\u7406\u7BC4\u672C"
    },
    main: "\u4E3B\u7BC4\u672C",
    fallback: "\u5099\u7528",
    placeholder: "\u8F38\u5165\u7BC4\u672C",
    common: {
      main: {
        name: "\u901A\u7528\u4E3B\u7BC4\u672C",
        desc: `\u8A2D\u7F6E yaml \u8DEF\u5F91\uFF0C\u8A72\u503C\u5C07\u7528\u65BC\u6A94\u6A19\u984C\u3002\u503C\u5FC5\u9808\u662F\u5B57\u4E32\u6216\u6578\u503C\u3002\u9084\u53EF\u4EE5\u4F7F\u7528\u985E\u4F3C\u7BC4\u672C\u8DEF\u5F91 "{{ }}"\u3002
                \u9084\u53EF\u4EE5\u4F7F\u7528 #\u6A19\u984C \u4F86\u4F7F\u7528\u4E00\u7D1A\u6A19\u984C\uFF0C\u6216 _ basename \u548C\u5176\u4ED6\u4FDD\u7559\u5B57\u3002
                \u67E5\u95B1 Readme \u77AD\u89E3\u66F4\u591A`
      },
      fallback: {
        name: "\u901A\u7528\u5099\u7528\u7BC4\u672C",
        desc: "\u4F5C\u70BA\u5099\u7528\u9078\u9805\u7684\u7BC4\u672C\uFF0C\u7576\u901A\u7528\u4E3B\u7BC4\u672C\u7121\u6CD5\u89E3\u6790\u51FA\u4F86\u6642\u4F7F\u7528"
      }
    },
    used: "\u901A\u7528\u7BC4\u672C\u5C07\u6703\u4F7F\u7528. \u503C\u70BA {{value}}",
    specific: "\u9019\u500B\u7279\u6027\u529F\u80FD\u5C07\u4F7F\u7528\u7576\u524D\u7BC4\u672C"
  },
  settings: "\u63D2\u4EF6\u8A2D\u7F6E",
  rule: {
    name: "\u898F\u5247",
    path: {
      name: "\u6A94\u8DEF\u5F91\u898F\u5247",
      black: {
        name: "\u9ED1\u540D\u55AE\u6A21\u5F0F",
        desc: "\u63D2\u4EF6\u5C07\u5FFD\u7565\u8DEF\u5F91\u4E2D\u7684\u6A94\uFF0C\u6BCF\u500B\u8DEF\u5F91\u5FC5\u9808\u4F7F\u7528\u5728\u65B0\u884C\u4E2D\u5BEB\u5165."
      },
      white: {
        name: "\u767D\u540D\u55AE\u6A21\u5F0F",
        desc: "\u63D2\u4EF6\u5C07\u8655\u7406\u8DEF\u5F91\u4E2D\u7684\u6A94\uFF0C\u6BCF\u500B\u8DEF\u5F91\u5FC5\u9808\u4F7F\u7528\u5728\u65B0\u884C\u4E2D\u5BEB\u5165."
      }
    },
    delimiter: {
      name: "\u5217\u8868\u503C",
      desc: "\u8A2D\u7F6E\u8655\u7406\u5217\u8868\u503C\u7684\u898F\u5247",
      first: "\u4F7F\u7528\u7B2C\u4E00\u500B\u503C",
      join: "\u7528\u5206\u9694\u7B26\u865F\u62FC\u63A5\u5168\u90E8",
      placeholder: {
        first: "\u6703\u63A1\u7528\u7B2C\u4E00\u500B\u503C",
        join: "\u8F38\u5165\u5206\u9694\u7B26\u865F"
      }
    }
  },
  features: "\u7279\u6027\u529F\u80FD",
  util: "\u5DE5\u5177",
  coffee: "\u5982\u679C\u60A8\u559C\u6B61\u6B64\u63D2\u4EF6\u4E26\u5E0C\u671B\u5E6B\u52A9/\u652F\u6301\u4F5C\u8005\u6301\u7E8C\u958B\u767C\uFF0C\u8ACB\u9EDE\u64CA\u4EE5\u4E0B\u6309\u9215:",
  debug_info: {
    title: "\u8ABF\u8A66\u8CC7\u8A0A",
    desc: "\u5728\u7D42\u7AEF\u4E2D\u986F\u793A\u8ABF\u8A66\u8CC7\u8A0A\u548C\u6355\u6349\u5230\u7684\u932F\u8AA4\u8CC7\u8A0A"
  },
  boot_delay: {
    title: "\u5EF6\u9072\u555F\u52D5\u52A0\u8F09",
    desc: "\u63D2\u4EF6\u5C07\u5728\u6307\u5B9A\u6642\u9593\uFF08\u6BEB\u79D2\uFF09\u5F8C\u52A0\u8F09"
  },
  disabled: "\u7981\u7528",
  processor: {
    name: "\u8655\u7406\u5668",
    desc: "\u4FEE\u6539\u89E3\u6790\u7684\u6A19\u984C",
    replace: {
      name: "\u66FF\u63DB",
      desc: "\u5C07\u57F7\u884C",
      pattern: {
        name: "\u6B63\u5247Pattern",
        desc: "\u5C07\u9996\u5148\u7528\u4F5C RegExp \u7684\u7B2C\u4E00\u500B\u53C3\u6578\uFF0C\u7136\u5F8C\u7528\u4F5C replace()\u7684\u7B2C\u4E00\u500B\u53C3\u6578"
      },
      flags: {
        name: "\u4FEE\u98FE\u7B26Flags",
        desc: "\u5C07\u7528\u4F5C\u65B0RegExp \u7684\u7B2C\u4E8C\u500B\u53C3\u6578"
      },
      replacement: {
        name: "\u66FF\u63DB\u503CReplacement",
        desc: "\u5C07\u7528\u4F5C replace() \u7684\u7B2C\u4E8C\u500B\u53C3\u6578"
      }
    },
    function: {
      name: "\u51FD\u6578",
      desc: "\u5C07\u600E\u6A23\u8D77\u4F5C\u7528:",
      valueDesc: "\u4F60\u5728\u6587\u672C\u5340\u8F38\u5165\u7684\u503C"
    }
  },
  command: {
    features: {
      reload: "\u91CD\u65B0\u52A0\u8F09\u7279\u6027\u529F\u80FD",
      disable: "\u7981\u7528\u7279\u6027\u529F\u80FD"
    }
  }
};
var zh_tw_default = zh_tw;

// src/i18n/ko/index.ts
var ko = {};
var ko_default = ko;

// src/i18n/it/index.ts
var it = {};
var it_default = it;

// src/i18n/id/index.ts
var id2 = {};
var id_default = id2;

// src/i18n/ro/index.ts
var ro = {};
var ro_default = ro;

// src/i18n/pl/index.ts
var pl = {};
var pl_default = pl;

// src/i18n/cs/index.ts
var cs = {};
var cs_default = cs;

// src/i18n/de/index.ts
var de = {};
var de_default = de;

// src/i18n/es/index.ts
var es = {};
var es_default = es;

// src/i18n/fr/index.ts
var fr = {};
var fr_default = fr;

// src/i18n/no/index.ts
var no = {};
var no_default = no;

// src/i18n/pr-br/index.ts
var pr_br = {};
var pr_br_default = pr_br;

// src/i18n/pt/index.ts
var pt = {};
var pt_default = pt;

// src/i18n/ja/index.ts
var ja = {};
var ja_default = ja;

// src/i18n/da/index.ts
var da = {};
var da_default = da;

// src/i18n/uk/index.ts
var uk = {};
var uk_default = uk;

// src/i18n/sq/index.ts
var sq = {};
var sq_default = sq;

// src/i18n/th/index.ts
var th = {};
var th_default = th;

// src/i18n/fa/index.ts
var fa = {};
var fa_default = fa;

// src/i18n/tr/index.ts
var tr = {};
var tr_default = tr;

// src/i18n/nl/index.ts
var nl = {};
var nl_default = nl;

// src/i18n/am/index.ts
var am = {};
var am_default = am;

// src/i18n/ms/index.ts
var ms = {};
var ms_default = ms;

// src/i18n/Locale.ts
var defaultLocale = "en";
var locale = import_obsidian.moment.locale();
instance.init({
  lng: locale,
  fallbackLng: defaultLocale,
  resources: {
    en: { translation: en_default },
    ru: { translation: ru_default },
    zh: { translation: zh_default },
    "zh-TW": { translation: zh_tw_default },
    ko: { translation: ko_default },
    it: { translation: it_default },
    id: { translation: id_default },
    ro: { translation: ro_default },
    "pt-BR": { translation: pr_br_default },
    cs: { translation: cs_default },
    de: { translation: de_default },
    es: { translation: es_default },
    fr: { translation: fr_default },
    no: { translation: no_default },
    pl: { translation: pl_default },
    pt: { translation: pt_default },
    ja: { translation: ja_default },
    da: { translation: da_default },
    uk: { translation: uk_default },
    sq: { translation: sq_default },
    th: { translation: th_default },
    fa: { translation: fa_default },
    tr: { translation: tr_default },
    nl: { translation: nl_default },
    am: { translation: am_default },
    ms: { translation: ms_default }
  },
  nsSeparator: "|"
});
var resolved = instance.resolvedLanguage;
if (resolved !== locale) {
  if (instance.languages.includes(locale)) {
    console.warn(`Locale ${locale} empty. Resolved ${resolved}`);
  } else {
    console.warn(`Locale ${locale} does not exist. Resolved ${resolved}`);
  }
}
var t2 = (path, params) => {
  return instance.t(path, params);
};

// src/Settings/SettingsTab.ts
var SettingsTab = class {
  constructor(app, plugin, storage, dispatcher, factory) {
    this.storage = storage;
    this.dispatcher = dispatcher;
    this.factory = factory;
    const self2 = this;
    this.tab = new class extends import_obsidian2.PluginSettingTab {
      constructor() {
        super(...arguments);
        this.display = () => self2.display();
        this.hide = () => self2.hide();
      }
    }(app, plugin);
    this.updatePrevious();
    dispatcher.dispatch("settings.loaded", new Event({ settings: this.storage.collect() }));
  }
  get containerEl() {
    return this.getTab().containerEl;
  }
  get orderedKeys() {
    return ["templates", "processor", "rules", "features", "debug", "boot"];
  }
  getTab() {
    return this.tab;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t2("settings") });
    const builders = this.factory("main");
    for (const k of this.orderedKeys) {
      for (const builder of builders) {
        if (builder.support(k)) {
          builder.build({
            name: k,
            item: this.storage.get(k),
            container: this.containerEl
          });
        }
      }
    }
    this.buildDonation();
  }
  hide() {
    this.dispatch();
  }
  buildDonation() {
    const div = this.containerEl.createEl("div");
    div.style.width = "75%";
    div.style.textAlign = "center";
    div.style.margin = "0 auto";
    const text = document.createElement("p");
    text.textContent = t2("coffee");
    div.appendChild(text);
    const anchor = document.createElement("a");
    anchor.setAttribute("href", "https://www.buymeacoffee.com/snezhig");
    anchor.appendChild(new DOMParser().parseFromString(coffee, "text/xml").documentElement);
    div.appendChild(anchor);
  }
  updatePrevious() {
    this.previous = JSON.parse(JSON.stringify(this.storage.collect()));
  }
  dispatch() {
    this.dispatcher.dispatch("settings:tab:close", null);
    const changed = ObjectHelper.compare(this.previous, this.storage.collect());
    if (Object.keys(changed).length === 0) {
      return;
    }
    this.dispatcher.dispatch(
      "settings:changed",
      new Event({
        old: this.previous,
        actual: this.storage.collect(),
        changed: ObjectHelper.compare(this.previous, this.storage.collect())
      })
    );
    this.updatePrevious();
  }
};
SettingsTab = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["obsidian:app"])),
  __decorateParam(1, inject(inversify_types_default["obsidian:plugin"])),
  __decorateParam(2, inject(inversify_types_default["settings:storage"])),
  __decorateParam(3, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(4, inject(inversify_types_default["factory:settings:builder"]))
], SettingsTab);
var coffee = '<svg width="150" height="42" viewBox="0 0 545 153" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M0 24.48C0 10.9601 10.9601 0 24.48 0H520.2C533.72 0 544.68 10.9601 544.68 24.48V128.52C544.68 142.04 533.72 153 520.2 153H24.48C10.9601 153 0 142.04 0 128.52V24.48Z" fill="#FFDD00"/>\n<path d="M109.522 50.3178L109.455 50.2783L109.299 50.2308C109.362 50.2836 109.44 50.3142 109.522 50.3178Z" fill="#0D0C22"/>\n<path d="M110.507 57.3134L110.432 57.3344L110.507 57.3134Z" fill="#0D0C22"/>\n<path d="M109.549 50.3062C109.54 50.3051 109.532 50.3031 109.524 50.3003C109.523 50.3058 109.523 50.3113 109.524 50.3168C109.533 50.3156 109.541 50.3119 109.549 50.3062Z" fill="#0D0C22"/>\n<path d="M109.523 50.3205H109.536V50.3127L109.523 50.3205Z" fill="#0D0C22"/>\n<path d="M110.447 57.3006L110.56 57.2361L110.602 57.2123L110.64 57.1715C110.569 57.2025 110.503 57.2462 110.447 57.3006Z" fill="#0D0C22"/>\n<path d="M109.715 50.4713L109.604 50.3659L109.529 50.3251C109.57 50.3963 109.636 50.4488 109.715 50.4713Z" fill="#0D0C22"/>\n<path d="M81.8801 118.353C81.7916 118.391 81.7142 118.451 81.6548 118.527L81.7246 118.482C81.772 118.439 81.8392 118.387 81.8801 118.353Z" fill="#0D0C22"/>\n<path d="M98.0456 115.173C98.0456 115.073 97.9968 115.091 98.0087 115.447C98.0087 115.418 98.0206 115.389 98.0258 115.361C98.0324 115.298 98.0377 115.236 98.0456 115.173Z" fill="#0D0C22"/>\n<path d="M96.3761 118.353C96.2877 118.391 96.2103 118.451 96.1509 118.527L96.2207 118.482C96.2681 118.439 96.3353 118.387 96.3761 118.353Z" fill="#0D0C22"/>\n<path d="M70.4886 119.11C70.4215 119.052 70.3393 119.013 70.2515 118.999C70.3226 119.034 70.3937 119.068 70.4412 119.094L70.4886 119.11Z" fill="#0D0C22"/>\n<path d="M67.9304 116.657C67.92 116.553 67.8881 116.453 67.8369 116.362C67.8732 116.456 67.9035 116.553 67.9278 116.652L67.9304 116.657Z" fill="#0D0C22"/>\n<path d="M85.1368 72.7737C81.6195 74.2794 77.628 75.9866 72.4549 75.9866C70.2908 75.9823 68.1373 75.6854 66.0527 75.104L69.6306 111.838C69.7572 113.373 70.4567 114.805 71.59 115.848C72.7233 116.892 74.2076 117.471 75.7482 117.47C75.7482 117.47 80.8212 117.734 82.514 117.734C84.3358 117.734 89.7988 117.47 89.7988 117.47C91.3391 117.47 92.8231 116.891 93.9562 115.848C95.0892 114.804 95.7885 113.373 95.9151 111.838L99.7472 71.2456C98.0347 70.6607 96.3064 70.2721 94.358 70.2721C90.9883 70.2708 88.2733 71.4313 85.1368 72.7737Z" fill="white"/>\n<path d="M54.9844 57.1021L55.045 57.1587L55.0845 57.1824C55.0541 57.1522 55.0205 57.1252 54.9844 57.1021Z" fill="#0D0C22"/>\n<path d="M116.299 53.7119L115.761 50.9943C115.277 48.5559 114.18 46.2519 111.677 45.3706C110.875 45.0887 109.964 44.9675 109.349 44.384C108.734 43.8004 108.552 42.8941 108.41 42.0536C108.147 40.511 107.899 38.9671 107.629 37.4272C107.396 36.1033 107.211 34.616 106.604 33.4015C105.814 31.7706 104.174 30.8169 102.543 30.1859C101.707 29.8739 100.854 29.61 99.9884 29.3955C95.9139 28.3205 91.63 27.9253 87.4382 27.7001C82.407 27.4225 77.3623 27.5061 72.343 27.9504C68.6071 28.2902 64.6723 28.7013 61.1221 29.9935C59.8245 30.4665 58.4875 31.0342 57.5008 32.0367C56.2902 33.2684 55.895 35.1733 56.7789 36.7092C57.4073 37.8 58.4717 38.5706 59.6006 39.0804C61.0711 39.7373 62.6068 40.2371 64.1822 40.5716C68.5689 41.5412 73.1124 41.9219 77.5939 42.0839C82.561 42.2844 87.5362 42.1219 92.4796 41.5978C93.7021 41.4635 94.9224 41.3023 96.1405 41.1144C97.575 40.8944 98.4958 39.0185 98.073 37.7117C97.5671 36.1494 96.2077 35.5434 94.6703 35.7792C94.4438 35.8148 94.2185 35.8477 93.9919 35.8807L93.8286 35.9044C93.3078 35.9702 92.787 36.0317 92.2662 36.0888C91.1904 36.2047 90.112 36.2996 89.0309 36.3733C86.6097 36.5419 84.1818 36.6197 81.7553 36.6236C79.371 36.6236 76.9853 36.5564 74.6062 36.3997C73.5207 36.3285 72.4379 36.2381 71.3577 36.1283C70.8663 36.0769 70.3763 36.0229 69.8862 35.9623L69.4199 35.903L69.3185 35.8886L68.835 35.8187C67.847 35.6699 66.859 35.4986 65.8816 35.2918C65.783 35.2699 65.6947 35.2151 65.6315 35.1363C65.5683 35.0575 65.5338 34.9594 65.5338 34.8584C65.5338 34.7574 65.5683 34.6594 65.6315 34.5806C65.6947 34.5018 65.783 34.4469 65.8816 34.425H65.9C66.7471 34.2445 67.6007 34.0904 68.4569 33.956C68.7424 33.9113 69.0287 33.8673 69.3158 33.8243H69.3237C69.8599 33.7887 70.3987 33.6926 70.9322 33.6293C75.574 33.1465 80.2434 32.9819 84.9077 33.1367C87.1721 33.2025 89.4353 33.3356 91.6892 33.5648C92.174 33.6149 92.6562 33.6676 93.1383 33.7268C93.3227 33.7492 93.5085 33.7756 93.6942 33.798L94.0683 33.852C95.1591 34.0144 96.2441 34.2116 97.3234 34.4435C98.9227 34.7912 100.976 34.9045 101.688 36.6566C101.914 37.2125 102.017 37.8303 102.142 38.4139L102.302 39.1581C102.306 39.1715 102.309 39.1852 102.311 39.199C102.688 40.9554 103.065 42.7118 103.442 44.4683C103.47 44.598 103.471 44.7321 103.444 44.8621C103.418 44.9921 103.365 45.1153 103.289 45.2239C103.213 45.3326 103.115 45.4244 103.002 45.4936C102.889 45.5628 102.762 45.6079 102.631 45.6262H102.62L102.39 45.6578L102.162 45.6881C101.44 45.7821 100.717 45.8699 99.9936 45.9516C98.5683 46.114 97.1408 46.2546 95.711 46.3731C92.87 46.6094 90.0233 46.7644 87.1708 46.8381C85.7174 46.8768 84.2644 46.8948 82.8118 46.8921C77.0301 46.8876 71.2534 46.5516 65.5101 45.8857C64.8883 45.8119 64.2666 45.7329 63.6448 45.6525C64.1269 45.7145 63.2944 45.6051 63.1258 45.5814C62.7306 45.5261 62.3354 45.4686 61.9402 45.4088C60.6136 45.2099 59.295 44.9649 57.9711 44.7502C56.3705 44.4867 54.8398 44.6185 53.3921 45.4088C52.2037 46.0591 51.2419 47.0564 50.6349 48.2674C50.0105 49.5584 49.8248 50.964 49.5455 52.3511C49.2662 53.7383 48.8315 55.2308 48.9962 56.6548C49.3505 59.7281 51.4991 62.2258 54.5895 62.7843C57.4968 63.3112 60.42 63.7381 63.351 64.1016C74.8648 65.5118 86.4968 65.6805 98.0466 64.6049C98.9872 64.517 99.9265 64.4213 100.864 64.3177C101.157 64.2855 101.454 64.3192 101.732 64.4165C102.01 64.5137 102.263 64.6719 102.472 64.8795C102.681 65.0872 102.842 65.339 102.941 65.6165C103.04 65.894 103.076 66.1902 103.046 66.4834L102.753 69.3261C102.164 75.0705 101.575 80.8145 100.986 86.558C100.371 92.5896 99.7521 98.6208 99.1295 104.651C98.9538 106.35 98.7782 108.048 98.6025 109.746C98.4339 111.417 98.4102 113.142 98.0927 114.794C97.5922 117.391 95.8335 118.987 93.2674 119.57C90.9164 120.105 88.5148 120.386 86.1038 120.408C83.431 120.422 80.7594 120.304 78.0866 120.318C75.2333 120.334 71.7384 120.071 69.5358 117.947C67.6007 116.082 67.3333 113.161 67.0698 110.636C66.7185 107.293 66.3703 103.95 66.0252 100.607L64.0887 82.0212L62.8359 69.9953C62.8149 69.7964 62.7938 69.6001 62.774 69.3999C62.6239 67.9654 61.6082 66.5611 60.0077 66.6335C58.6376 66.6941 57.0806 67.8586 57.2413 69.3999L58.17 78.3155L60.0906 96.7581C60.6378 101.997 61.1836 107.236 61.7281 112.476C61.8335 113.48 61.9323 114.487 62.0429 115.49C62.6449 120.976 66.834 123.932 72.0216 124.764C75.0515 125.252 78.1551 125.352 81.2297 125.402C85.1711 125.465 89.1521 125.617 93.029 124.903C98.7738 123.849 103.084 120.013 103.699 114.062C103.875 112.345 104.051 110.626 104.226 108.908C104.81 103.224 105.393 97.5397 105.976 91.855L107.88 73.2807L108.754 64.7682C108.797 64.3461 108.976 63.9492 109.262 63.6363C109.549 63.3234 109.929 63.111 110.345 63.0307C111.988 62.7105 113.558 62.1639 114.727 60.9137C116.587 58.9232 116.957 56.3281 116.299 53.7119ZM54.5052 55.5483C54.5302 55.5364 54.4841 55.7511 54.4644 55.8513C54.4604 55.6998 54.4683 55.5654 54.5052 55.5483ZM54.6646 56.7813C54.6778 56.7721 54.7173 56.8248 54.7581 56.888C54.6962 56.83 54.6567 56.7866 54.6633 56.7813H54.6646ZM54.8214 56.9881C54.878 57.0843 54.9083 57.1449 54.8214 56.9881V56.9881ZM55.1362 57.2437H55.1441C55.1441 57.2529 55.1586 57.2621 55.1639 57.2713C55.1551 57.2612 55.1454 57.2519 55.1349 57.2437H55.1362ZM110.269 56.8616C109.679 57.4228 108.789 57.6837 107.911 57.8141C98.0572 59.2763 88.06 60.0166 78.0984 59.6899C70.9691 59.4462 63.9148 58.6545 56.8566 57.6573C56.165 57.5598 55.4155 57.4334 54.9399 56.9236C54.0441 55.9619 54.4841 54.0254 54.7173 52.8636C54.9307 51.7992 55.3391 50.3804 56.605 50.2289C58.581 49.9971 60.8758 50.8309 62.8307 51.1273C65.1843 51.4865 67.5467 51.7741 69.9179 51.9902C80.0375 52.9123 90.3271 52.7687 100.402 51.4198C102.238 51.173 104.068 50.8863 105.891 50.5596C107.516 50.2684 109.316 49.7218 110.298 51.404C110.971 52.55 111.06 54.0834 110.956 55.3783C110.924 55.9425 110.678 56.4732 110.267 56.8616H110.269Z" fill="#0D0C22"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M170.036 84.2397C169.461 85.3378 168.67 86.2942 167.663 87.1057C166.656 87.9178 165.482 88.579 164.139 89.0881C162.797 89.5984 161.446 89.9408 160.088 90.1153C158.729 90.2905 157.41 90.2753 156.133 90.0674C154.854 89.8608 153.766 89.439 152.872 88.8014L153.88 78.3397C154.806 78.0216 155.972 77.6949 157.379 77.3604C158.785 77.0264 160.231 76.787 161.718 76.644C163.205 76.5004 164.61 76.5173 165.937 76.6919C167.263 76.867 168.31 77.2888 169.077 77.9579C169.493 78.3397 169.845 78.7537 170.132 79.1997C170.42 79.6458 170.595 80.1076 170.66 80.5852C170.819 81.9227 170.612 83.1409 170.036 84.2397ZM155.413 61.9545C156.084 61.5406 156.892 61.1739 157.834 60.8551C158.777 60.5376 159.744 60.3139 160.735 60.1867C161.725 60.06 162.692 60.043 163.636 60.1388C164.578 60.2345 165.41 60.497 166.129 60.9267C166.848 61.357 167.383 61.9782 167.735 62.7897C168.086 63.6024 168.182 64.6296 168.022 65.8714C167.895 66.8587 167.502 67.695 166.848 68.3793C166.193 69.0647 165.393 69.6374 164.451 70.0993C163.508 70.5617 162.509 70.9277 161.455 71.1974C160.399 71.4689 159.384 71.6683 158.41 71.795C157.435 71.9229 156.588 72.0029 155.869 72.0338C155.15 72.0659 154.678 72.0816 154.454 72.0816L155.413 61.9545ZM175.214 77.4798C174.703 76.3658 174.016 75.3864 173.153 74.5416C172.29 73.698 171.266 73.0853 170.084 72.7029C170.595 72.2889 171.099 71.6362 171.595 70.7441C172.09 69.8532 172.513 68.8811 172.865 67.8302C173.216 66.7787 173.457 65.7205 173.584 64.6533C173.711 63.5866 173.663 62.6709 173.441 61.906C172.896 59.9958 172.042 58.4988 170.875 57.4158C169.708 56.3334 168.35 55.5849 166.8 55.1704C165.249 54.7577 163.54 54.6692 161.67 54.908C159.8 55.1467 157.89 55.6164 155.941 56.317C155.941 56.1582 155.957 55.991 155.989 55.8158C156.02 55.6413 156.036 55.4576 156.036 55.2661C156.036 54.7886 155.797 54.3752 155.317 54.0243C154.838 53.674 154.287 53.4674 153.664 53.4031C153.04 53.3401 152.433 53.4746 151.841 53.8092C151.25 54.1437 150.842 54.7577 150.619 55.6479C150.363 58.5146 150.107 61.4927 149.852 64.5812C149.596 67.6708 149.324 70.792 149.037 73.9453C148.749 77.0979 148.461 80.227 148.174 83.3318C147.886 86.4372 147.598 89.4226 147.311 92.2886C147.407 93.1486 147.646 93.8177 148.03 94.2953C148.413 94.7734 148.861 95.0601 149.372 95.1553C149.883 95.251 150.419 95.1625 150.978 94.8922C151.537 94.6225 152.025 94.1516 152.441 93.4832C153.719 94.1838 155.158 94.6377 156.756 94.845C158.354 95.0516 159.975 95.0516 161.623 94.845C163.268 94.6377 164.89 94.248 166.488 93.6741C168.086 93.1013 169.541 92.3844 170.851 91.525C172.162 90.665 173.264 89.685 174.16 88.5869C175.054 87.4875 175.646 86.3014 175.933 85.0281C176.221 83.7221 176.301 82.4167 176.173 81.1106C176.045 79.8052 175.725 78.5955 175.214 77.4798Z" fill="#0D0C23"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M221.989 102.702C221.814 103.753 221.565 104.86 221.246 106.023C220.926 107.184 220.551 108.244 220.12 109.2C219.688 110.155 219.209 110.926 218.682 111.516C218.154 112.105 217.586 112.352 216.979 112.257C216.5 112.192 216.196 111.89 216.069 111.349C215.94 110.807 215.94 110.138 216.069 109.343C216.196 108.546 216.443 107.646 216.811 106.643C217.179 105.64 217.627 104.644 218.154 103.658C218.682 102.67 219.281 101.723 219.952 100.815C220.623 99.9082 221.326 99.1512 222.061 98.5464C222.221 98.7373 222.293 99.2149 222.277 99.9797C222.26 100.744 222.165 101.652 221.989 102.702ZM238.243 81.9697C237.811 81.4921 237.284 81.2218 236.66 81.1576C236.037 81.0939 235.405 81.4442 234.767 82.2085C234.351 82.9727 233.823 83.7054 233.184 84.406C232.545 85.1072 231.882 85.7436 231.195 86.3169C230.507 86.8896 229.852 87.3841 229.229 87.7975C228.606 88.212 228.118 88.5144 227.767 88.7053C227.639 87.6866 227.566 86.5878 227.551 85.409C227.534 84.2308 227.559 83.0369 227.623 81.8266C227.718 80.1067 227.918 78.3715 228.222 76.6194C228.526 74.868 228.965 73.148 229.541 71.4595C229.541 70.5686 229.332 69.8438 228.917 69.2862C228.501 68.7293 227.998 68.3784 227.407 68.2353C226.815 68.0923 226.209 68.1717 225.585 68.4741C224.962 68.7771 224.427 69.3268 223.979 70.122C223.596 71.1735 223.156 72.3516 222.661 73.6571C222.165 74.9631 221.606 76.2928 220.983 77.6461C220.359 79.0006 219.664 80.3139 218.897 81.5873C218.13 82.8618 217.291 83.9927 216.38 84.9793C215.469 85.9666 214.478 86.7393 213.408 87.2963C212.336 87.8538 211.179 88.1005 209.932 88.0369C209.356 87.8775 208.94 87.4478 208.685 86.7466C208.429 86.0466 208.277 85.1702 208.23 84.1193C208.182 83.0684 208.23 81.9139 208.373 80.6557C208.517 79.3982 208.709 78.1479 208.949 76.9061C209.188 75.6637 209.452 74.4855 209.739 73.371C210.027 72.2565 210.298 71.3165 210.554 70.5523C210.938 69.6292 210.938 68.8559 210.554 68.2353C210.171 67.6141 209.644 67.2008 208.973 66.9929C208.302 66.7863 207.598 66.7947 206.863 67.0172C206.128 67.2402 205.6 67.7335 205.281 68.4977C204.737 69.8044 204.241 71.2686 203.794 72.8928C203.347 74.5171 202.987 76.1976 202.716 77.9328C202.444 79.6691 202.291 81.3891 202.26 83.0927C202.258 83.2036 202.263 83.309 202.263 83.4193C201.566 85.2708 200.902 86.6702 200.271 87.6066C199.456 88.8174 198.536 89.3429 197.514 89.1829C197.065 88.992 196.771 88.5465 196.627 87.8453C196.482 87.1453 196.435 86.2854 196.482 85.2654C196.531 84.2472 196.651 83.0927 196.842 81.8024C197.035 80.5127 197.273 79.1752 197.561 77.7897C197.849 76.4037 198.153 75.0116 198.472 73.6098C198.792 72.2086 199.079 70.8868 199.336 69.6444C199.304 68.5299 198.976 67.6784 198.352 67.0887C197.73 66.5002 196.858 66.2693 195.74 66.396C194.973 66.7147 194.405 67.1293 194.038 67.6384C193.67 68.1474 193.374 68.8008 193.151 69.5965C193.022 70.0111 192.831 70.8389 192.575 72.0813C192.319 73.3225 191.992 74.7486 191.592 76.3564C191.193 77.9655 190.721 79.6449 190.178 81.3963C189.635 83.1478 189.027 84.7333 188.357 86.1496C187.685 87.5666 186.95 88.7053 186.151 89.5653C185.352 90.4247 184.489 90.7756 183.562 90.6162C183.05 90.5205 182.723 89.995 182.579 89.0399C182.435 88.0841 182.412 86.9066 182.507 85.5048C182.603 84.1036 182.795 82.5666 183.082 80.8951C183.37 79.223 183.665 77.6388 183.969 76.1413C184.273 74.6449 184.553 73.3225 184.809 72.1765C185.064 71.0298 185.24 70.2656 185.336 69.8838C185.336 68.9602 185.127 68.2202 184.713 67.662C184.297 67.1056 183.794 66.7547 183.202 66.6111C182.61 66.4681 182.003 66.5475 181.381 66.8499C180.757 67.1529 180.222 67.7026 179.774 68.4977C179.614 69.3577 179.406 70.3535 179.151 71.4838C178.895 72.614 178.648 73.7765 178.408 74.971C178.168 76.1655 177.944 77.3358 177.737 78.4824C177.529 79.6291 177.377 80.6321 177.281 81.4921C177.217 82.1606 177.145 82.9812 177.066 83.9521C176.985 84.9242 176.945 85.9508 176.945 87.0332C176.945 88.1169 177.025 89.1914 177.186 90.258C177.345 91.3253 177.633 92.3047 178.048 93.1956C178.463 94.0877 179.047 94.8198 179.799 95.3931C180.549 95.9664 181.5 96.2846 182.651 96.3489C183.833 96.4119 184.864 96.3252 185.744 96.0858C186.622 95.847 187.421 95.4725 188.141 94.9628C188.86 94.4543 189.515 93.8489 190.107 93.1477C190.697 92.4477 191.281 91.6835 191.856 90.855C192.4 92.0659 193.103 93.0047 193.966 93.6737C194.829 94.3422 195.74 94.741 196.699 94.8677C197.657 94.9943 198.633 94.8604 199.624 94.4616C200.614 94.064 201.509 93.3871 202.308 92.4313C202.835 91.8453 203.331 91.1792 203.797 90.4429C203.995 90.7877 204.205 91.1204 204.442 91.4277C205.225 92.4477 206.288 93.1477 207.631 93.5301C209.069 93.9125 210.474 93.9768 211.849 93.7216C213.223 93.4671 214.534 93.0047 215.78 92.3362C217.027 91.6671 218.185 90.8635 219.257 89.9235C220.327 88.9841 221.262 88.0053 222.061 86.9854C222.029 87.7181 222.013 88.4114 222.013 89.0635C222.013 89.7168 221.997 90.4247 221.966 91.1895C220.367 92.3047 218.857 93.6422 217.435 95.2022C216.012 96.7622 214.765 98.4264 213.695 100.194C212.624 101.961 211.785 103.753 211.179 105.568C210.571 107.384 210.275 109.08 210.291 110.657C210.307 112.233 210.682 113.61 211.418 114.788C212.152 115.967 213.351 116.81 215.013 117.32C216.74 117.862 218.257 117.877 219.569 117.368C220.879 116.858 222.021 116.014 222.996 114.836C223.971 113.658 224.77 112.233 225.394 110.561C226.017 108.889 226.512 107.145 226.88 105.33C227.247 103.515 227.479 101.73 227.575 99.9797C227.671 98.2276 227.671 96.6664 227.575 95.2974C230.324 94.1513 232.577 92.7022 234.335 90.9501C236.093 89.1999 237.547 87.352 238.698 85.409C239.049 84.9314 239.169 84.3581 239.058 83.6896C238.945 83.0206 238.674 82.4472 238.243 81.9697Z" fill="#0D0C23"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M298.724 78.9135C298.82 78.1814 298.964 77.4087 299.155 76.5966C299.347 75.7845 299.587 74.996 299.875 74.2318C300.162 73.4676 300.498 72.807 300.882 72.2494C301.265 71.6924 301.673 71.2943 302.104 71.0549C302.536 70.8167 302.974 70.8403 303.423 71.1264C303.902 71.4137 304.197 72.0185 304.31 72.9415C304.421 73.8663 304.31 74.853 303.974 75.9039C303.638 76.9554 303.039 77.942 302.176 78.8657C301.313 79.7899 300.146 80.3941 298.676 80.6808C298.612 80.236 298.628 79.6463 298.724 78.9135ZM315.336 80.8717C314.809 80.7135 314.306 80.6972 313.826 80.8244C313.347 80.9517 313.043 81.2862 312.916 81.8281C312.659 82.8468 312.251 83.8898 311.692 84.9565C311.133 86.0238 310.446 87.0346 309.632 87.9904C308.817 88.9455 307.897 89.7898 306.875 90.5219C305.851 91.2546 304.781 91.78 303.662 92.0982C302.543 92.4491 301.616 92.4885 300.882 92.2176C300.146 91.9479 299.563 91.4855 299.132 90.8328C298.7 90.1801 298.388 89.3916 298.197 88.468C298.005 87.5443 297.893 86.5892 297.861 85.6013C299.683 85.7292 301.305 85.4032 302.728 84.622C304.149 83.8426 305.356 82.8068 306.347 81.5171C307.337 80.2275 308.089 78.7784 308.6 77.1699C309.111 75.5621 309.399 73.9615 309.463 72.3688C309.495 70.8718 309.272 69.6064 308.792 68.5713C308.313 67.5367 307.665 66.7313 306.85 66.1586C306.036 65.5853 305.1 65.2507 304.046 65.1556C302.992 65.0598 301.92 65.2034 300.833 65.5853C299.522 66.0313 298.412 66.7555 297.501 67.7592C296.59 68.7622 295.831 69.9252 295.224 71.2464C294.617 72.5682 294.137 73.993 293.786 75.5215C293.434 77.0505 293.178 78.5554 293.019 80.0366C292.875 81.3656 292.798 82.6365 292.771 83.8632C292.702 84.0189 292.636 84.1686 292.563 84.3353C292.067 85.4668 291.491 86.5734 290.837 87.6558C290.182 88.7389 289.454 89.6467 288.656 90.3788C287.857 91.1116 287.026 91.3661 286.163 91.1431C285.651 91.0164 285.372 90.4261 285.324 89.3758C285.276 88.3243 285.331 87.0189 285.491 85.4583C285.651 83.8983 285.835 82.2093 286.043 80.3941C286.25 78.579 286.354 76.8439 286.354 75.1875C286.354 73.7542 286.082 72.3773 285.539 71.0549C284.995 69.7343 284.252 68.6349 283.31 67.7592C282.367 66.8828 281.272 66.3016 280.026 66.0156C278.779 65.7283 277.437 65.9198 275.999 66.5883C274.56 67.2574 273.417 68.1967 272.571 69.407C271.723 70.6179 270.948 71.8912 270.245 73.2288C269.989 72.2094 269.614 71.2628 269.118 70.3864C268.623 69.5107 268.016 68.7464 267.297 68.0931C266.577 67.441 265.769 66.9313 264.876 66.5646C263.981 66.1992 263.037 66.0156 262.046 66.0156C261.088 66.0156 260.201 66.1992 259.386 66.5646C258.571 66.9313 257.828 67.4004 257.156 67.9737C256.485 68.5476 255.878 69.1919 255.334 69.9088C254.791 70.6252 254.311 71.3343 253.896 72.0343C253.831 71.2064 253.76 70.4822 253.681 69.8603C253.6 69.2398 253.456 68.7143 253.249 68.2846C253.041 67.8543 252.746 67.5283 252.362 67.3052C251.978 67.0828 251.435 66.9707 250.732 66.9707C250.38 66.9707 250.028 67.0422 249.677 67.1852C249.325 67.3289 249.013 67.5283 248.742 67.7828C248.47 68.0386 248.263 68.3482 248.119 68.7143C247.975 69.0804 247.936 69.5028 247.999 69.9803C248.031 70.3312 248.119 70.7525 248.263 71.2464C248.406 71.7403 248.542 72.3858 248.67 73.1809C248.798 73.9773 248.902 74.9409 248.982 76.0712C249.062 77.2021 249.085 78.5875 249.054 80.2275C249.021 81.8681 248.902 83.7862 248.694 85.9837C248.486 88.1813 248.158 90.7291 247.711 93.6267C247.647 94.2957 247.903 94.8376 248.479 95.2515C249.054 95.6648 249.709 95.9036 250.444 95.9678C251.179 96.0315 251.875 95.9036 252.53 95.586C253.185 95.2666 253.561 94.7097 253.656 93.9139C253.752 92.417 253.936 90.8249 254.208 89.1364C254.479 87.4492 254.815 85.7771 255.215 84.1207C255.614 82.465 256.069 80.8887 256.581 79.3911C257.092 77.8942 257.66 76.573 258.283 75.4263C258.907 74.2797 259.554 73.3645 260.225 72.6797C260.896 71.9949 261.599 71.6524 262.335 71.6524C263.229 71.6524 263.924 72.0579 264.42 72.87C264.915 73.6827 265.266 74.7263 265.475 75.999C265.682 77.2736 265.778 78.6675 265.763 80.1796C265.746 81.6923 265.682 83.1492 265.571 84.5504C265.459 85.9522 265.331 87.2019 265.187 88.3007C265.043 89.3995 264.939 90.1564 264.876 90.5697C264.876 91.3025 265.155 91.8831 265.714 92.3134C266.273 92.743 266.896 92.9982 267.584 93.0776C268.272 93.1576 268.918 93.0297 269.526 92.6952C270.133 92.3606 270.485 91.7964 270.581 90.9994C270.9 88.7067 271.34 86.4062 271.899 84.0971C272.458 81.7881 273.098 79.7184 273.817 77.8869C274.536 76.0554 275.335 74.5585 276.214 73.3961C277.093 72.2343 278.028 71.6524 279.019 71.6524C279.53 71.6524 279.922 72.0033 280.193 72.7033C280.465 73.4039 280.601 74.3591 280.601 75.5694C280.601 76.4615 280.529 77.3772 280.386 78.3166C280.241 79.256 280.074 80.2275 279.882 81.2305C279.69 82.2341 279.522 83.2608 279.378 84.3117C279.235 85.3632 279.163 86.4613 279.163 87.608C279.163 88.4043 279.243 89.3279 279.403 90.3788C279.562 91.4291 279.865 92.4255 280.313 93.3642C280.761 94.3042 281.376 95.1 282.16 95.7527C282.943 96.4054 283.941 96.7321 285.155 96.7321C286.978 96.7321 288.591 96.3418 289.998 95.5618C291.404 94.7818 292.611 93.763 293.618 92.5049C293.67 92.4388 293.718 92.3685 293.769 92.3031C293.846 92.4891 293.914 92.6861 294.001 92.863C294.688 94.2642 295.623 95.3466 296.806 96.1115C297.988 96.8757 299.379 97.2975 300.978 97.3775C302.575 97.4563 304.317 97.1618 306.204 96.4933C307.609 95.9836 308.832 95.3466 309.871 94.5824C310.909 93.8182 311.844 92.8867 312.675 91.7879C313.507 90.6891 314.265 89.4231 314.953 87.9904C315.641 86.5565 316.335 84.9171 317.038 83.0692C317.166 82.5608 317.046 82.1068 316.679 81.7081C316.311 81.3105 315.864 81.0317 315.336 80.8717Z" fill="#0D0C23"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M341.393 75.5432C341.233 76.4832 341.018 77.5189 340.746 78.6486C340.474 79.7795 340.131 80.9498 339.715 82.1601C339.3 83.3703 338.788 84.4612 338.181 85.4321C337.574 86.4042 336.878 87.1757 336.096 87.7491C335.312 88.3224 334.41 88.5612 333.387 88.4654C332.875 88.4024 332.483 88.0521 332.212 87.4145C331.94 86.7782 331.797 85.9655 331.78 84.9782C331.764 83.9915 331.852 82.9085 332.044 81.7298C332.236 80.5522 332.531 79.3971 332.932 78.2662C333.331 77.1365 333.818 76.0929 334.393 75.1371C334.969 74.182 335.632 73.4414 336.383 72.916C337.134 72.3905 337.958 72.1445 338.852 72.1754C339.747 72.2075 340.706 72.6529 341.729 73.5129C341.664 73.9275 341.553 74.6044 341.393 75.5432ZM358.437 79.1977C357.941 78.9431 357.43 78.888 356.903 79.031C356.376 79.174 356 79.6601 355.777 80.488C355.649 81.3801 355.361 82.4304 354.914 83.6406C354.466 84.8509 353.914 85.9982 353.26 87.08C352.604 88.163 351.853 89.063 351.006 89.7793C350.159 90.4963 349.256 90.823 348.298 90.7581C347.498 90.6951 346.938 90.289 346.62 89.5406C346.299 88.7921 346.132 87.8533 346.116 86.7218C346.099 85.5921 346.212 84.3182 346.451 82.9007C346.691 81.4837 346.979 80.0746 347.314 78.6722C347.65 77.2716 347.994 75.9256 348.346 74.6359C348.697 73.3463 348.984 72.2554 349.209 71.3639C349.464 70.5675 349.384 69.8912 348.969 69.333C348.553 68.7766 348.034 68.3778 347.411 68.1391C346.787 67.9003 346.155 67.8366 345.516 67.9481C344.877 68.0597 344.462 68.4021 344.27 68.9748C342.384 67.3506 340.57 66.4748 338.829 66.3476C337.086 66.2203 335.48 66.6027 334.01 67.4942C332.539 68.3857 331.237 69.6754 330.103 71.3639C328.968 73.0523 328.049 74.8911 327.345 76.8814C326.642 78.8716 326.203 80.9025 326.027 82.9722C325.851 85.0424 325.987 86.9297 326.435 88.6333C326.883 90.3369 327.673 91.7308 328.808 92.8126C329.942 93.8956 331.485 94.4375 333.435 94.4375C334.298 94.4375 335.129 94.2623 335.928 93.912C336.726 93.5611 337.462 93.1472 338.133 92.6696C338.804 92.192 339.395 91.6902 339.908 91.1648C340.418 90.6393 340.818 90.2018 341.106 89.8509C341.329 90.9975 341.697 91.9696 342.209 92.7654C342.719 93.5611 343.303 94.215 343.958 94.7235C344.613 95.2326 345.301 95.6071 346.02 95.8465C346.739 96.0853 347.435 96.2047 348.105 96.2047C349.608 96.2047 351.013 95.695 352.325 94.6756C353.635 93.6575 354.81 92.4066 355.849 90.926C356.887 89.4448 357.743 87.8848 358.413 86.2442C359.085 84.6043 359.532 83.1473 359.756 81.8728C359.98 81.3952 359.939 80.894 359.636 80.3686C359.332 79.8431 358.933 79.4534 358.437 79.1977Z" fill="#0D0C23"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M444.738 105.571C444.467 106.653 444.043 107.57 443.467 108.318C442.892 109.066 442.173 109.456 441.31 109.489C440.767 109.52 440.351 109.233 440.063 108.629C439.776 108.023 439.576 107.243 439.464 106.288C439.352 105.332 439.304 104.265 439.32 103.087C439.336 101.909 439.384 100.746 439.464 99.5996C439.543 98.4536 439.64 97.3857 439.752 96.3991C439.863 95.4112 439.951 94.6482 440.015 94.1064C441.102 94.2336 442.006 94.7027 442.724 95.5154C443.443 96.3275 443.995 97.2906 444.378 98.4057C444.762 99.5202 444.985 100.723 445.05 102.012C445.113 103.302 445.009 104.488 444.738 105.571ZM427.382 105.571C427.111 106.653 426.687 107.57 426.112 108.318C425.537 109.066 424.817 109.456 423.954 109.489C423.411 109.52 422.996 109.233 422.708 108.629C422.42 108.023 422.22 107.243 422.109 106.288C421.996 105.332 421.948 104.265 421.965 103.087C421.98 101.909 422.028 100.746 422.109 99.5996C422.188 98.4536 422.284 97.3857 422.396 96.3991C422.508 95.4112 422.595 94.6482 422.66 94.1064C423.746 94.2336 424.65 94.7027 425.368 95.5154C426.088 96.3275 426.639 97.2906 427.023 98.4057C427.407 99.5202 427.63 100.723 427.694 102.012C427.757 103.302 427.653 104.488 427.382 105.571ZM409.572 78.4375C409.539 79.2011 409.467 79.8781 409.355 80.4672C409.243 81.0575 409.092 81.4308 408.9 81.5902C408.548 81.3987 408.116 80.906 407.605 80.109C407.094 79.3133 406.695 78.4127 406.406 77.4096C406.119 76.4066 406.03 75.42 406.143 74.4479C406.254 73.477 406.758 72.7212 407.653 72.1788C408.004 71.9879 408.308 72.0594 408.564 72.394C408.82 72.7285 409.027 73.2139 409.188 73.8509C409.347 74.4885 409.458 75.2206 409.523 76.0485C409.587 76.8769 409.603 77.6727 409.572 78.4375ZM405.328 87.9677C404.832 88.4925 404.28 88.9464 403.674 89.3289C403.066 89.7113 402.443 89.9979 401.804 90.1889C401.164 90.3804 400.589 90.4276 400.078 90.3319C398.64 90.0458 397.537 89.424 396.77 88.4689C396.003 87.5137 395.515 86.3913 395.308 85.1017C395.1 83.8114 395.123 82.4338 395.38 80.969C395.635 79.5042 396.066 78.143 396.674 76.8848C397.281 75.6266 398.017 74.5436 398.879 73.6364C399.742 72.7285 400.685 72.1637 401.708 71.94C401.324 73.5642 401.197 75.2448 401.324 76.98C401.452 78.7157 401.868 80.3478 402.571 81.8762C403.018 82.8011 403.554 83.6441 404.177 84.4083C404.801 85.1732 405.56 85.8259 406.455 86.3671C406.199 86.9089 405.823 87.4422 405.328 87.9677ZM458.378 78.9151C458.474 78.183 458.617 77.4096 458.81 76.5975C459.001 75.786 459.241 74.9976 459.528 74.2333C459.816 73.4685 460.152 72.8079 460.536 72.2509C460.92 71.694 461.326 71.2952 461.758 71.0564C462.19 70.8176 462.629 70.8413 463.076 71.1279C463.556 71.4152 463.851 72.02 463.963 72.943C464.075 73.8673 463.963 74.8539 463.628 75.9054C463.292 76.9563 462.693 77.9436 461.83 78.8666C460.968 79.7914 459.8 80.3957 458.33 80.6823C458.266 80.2369 458.282 79.6478 458.378 78.9151ZM477.7 78.9151C477.796 78.183 477.939 77.4096 478.131 76.5975C478.323 75.786 478.563 74.9976 478.851 74.2333C479.138 73.4685 479.473 72.8079 479.857 72.2509C480.241 71.694 480.649 71.2952 481.08 71.0564C481.512 70.8176 481.951 70.8413 482.398 71.1279C482.878 71.4152 483.173 72.02 483.285 72.943C483.397 73.8673 483.285 74.8539 482.95 75.9054C482.614 76.9563 482.015 77.9436 481.152 78.8666C480.289 79.7914 479.122 80.3957 477.652 80.6823C477.588 80.2369 477.604 79.6478 477.7 78.9151ZM495.655 81.7096C495.287 81.312 494.84 81.0332 494.313 80.8732C493.785 80.7144 493.282 80.6987 492.802 80.826C492.323 80.9532 492.018 81.2878 491.891 81.829C491.635 82.8484 491.228 83.8914 490.669 84.9574C490.109 86.0253 489.422 87.0362 488.607 87.9913C487.792 88.9464 486.873 89.7913 485.851 90.5234C484.827 91.2561 483.757 91.7816 482.639 92.0991C481.519 92.4506 480.592 92.49 479.857 92.2191C479.122 91.9488 478.539 91.487 478.107 90.8343C477.676 90.181 477.365 89.3931 477.172 88.4689C476.981 87.5459 476.868 86.5907 476.837 85.6029C478.659 85.7307 480.281 85.4047 481.703 84.6235C483.125 83.8435 484.332 82.8077 485.324 81.5181C486.314 80.229 487.065 78.7799 487.576 77.1715C488.087 75.563 488.375 73.963 488.44 72.3703C488.471 70.8734 488.247 69.6073 487.768 68.5722C487.289 67.5377 486.642 66.7328 485.827 66.1601C485.011 65.5862 484.077 65.2522 483.021 65.1565C481.967 65.0607 480.896 65.205 479.809 65.5862C478.498 66.0328 477.388 66.7571 476.478 67.7601C475.567 68.7637 474.807 69.9267 474.2 71.2473C473.592 72.5697 473.113 73.9939 472.761 75.523C472.409 77.0515 472.154 78.5569 471.995 80.0375C471.839 81.4744 471.755 82.8496 471.736 84.1659C471.615 84.4283 471.486 84.692 471.347 84.9574C470.787 86.0253 470.1 87.0362 469.285 87.9913C468.471 88.9464 467.551 89.7913 466.529 90.5234C465.506 91.2561 464.435 91.7816 463.317 92.0991C462.197 92.4506 461.271 92.49 460.536 92.2191C459.8 91.9488 459.217 91.487 458.786 90.8343C458.355 90.181 458.043 89.3931 457.851 88.4689C457.659 87.5459 457.547 86.5907 457.515 85.6029C459.337 85.7307 460.959 85.4047 462.382 84.6235C463.803 83.8435 465.01 82.8077 466.001 81.5181C466.992 80.229 467.743 78.7799 468.254 77.1715C468.765 75.563 469.054 73.963 469.117 72.3703C469.149 70.8734 468.926 69.6073 468.447 68.5722C467.967 67.5377 467.319 66.7328 466.504 66.1601C465.689 65.5862 464.755 65.2522 463.7 65.1565C462.645 65.0607 461.574 65.205 460.488 65.5862C459.176 66.0328 458.066 66.7571 457.156 67.7601C456.245 68.7637 455.485 69.9267 454.878 71.2473C454.271 72.5697 453.792 73.9939 453.44 75.523C453.088 77.0515 452.832 78.5569 452.673 80.0375C452.582 80.8726 452.522 81.6823 452.477 82.4774C452.168 82.7393 451.867 83.0029 451.546 83.2617C450.444 84.1538 449.284 84.9574 448.07 85.6744C446.855 86.3913 445.592 86.9804 444.283 87.4422C442.971 87.904 441.629 88.1828 440.255 88.278L443.228 56.5578C443.42 55.8887 443.324 55.3003 442.94 54.7906C442.557 54.2809 442.061 53.9306 441.454 53.7397C440.847 53.5482 440.199 53.5645 439.512 53.787C438.824 54.0106 438.258 54.5203 437.81 55.3154C437.586 56.5263 437.354 58.182 437.115 60.2838C436.875 62.3856 436.635 64.6789 436.396 67.1631C436.156 69.6473 435.916 72.2109 435.677 74.8539C435.437 77.4981 435.229 79.966 435.053 82.2587C435.045 82.3605 435.039 82.4526 435.031 82.5532C434.751 82.7896 434.48 83.0277 434.19 83.2617C433.088 84.1538 431.928 84.9574 430.714 85.6744C429.499 86.3913 428.237 86.9804 426.927 87.4422C425.616 87.904 424.273 88.1828 422.899 88.278L425.872 56.5578C426.064 55.8887 425.968 55.3003 425.585 54.7906C425.201 54.2809 424.705 53.9306 424.098 53.7397C423.491 53.5482 422.843 53.5645 422.156 53.787C421.469 54.0106 420.902 54.5203 420.454 55.3154C420.23 56.5263 419.999 58.182 419.76 60.2838C419.519 62.3856 419.28 64.6789 419.04 67.1631C418.8 69.6473 418.561 72.2109 418.321 74.8539C418.082 77.4981 417.873 79.966 417.698 82.2587C417.694 82.3047 417.691 82.3465 417.687 82.3926C417.185 82.6247 416.638 82.8284 416.043 82.9993C415.436 83.175 414.749 83.2786 413.982 83.3102C414.11 82.7362 414.213 82.0993 414.293 81.3987C414.373 80.6987 414.438 79.966 414.486 79.2011C414.534 78.4375 414.549 77.6727 414.534 76.9084C414.517 76.1436 414.477 75.4436 414.414 74.806C414.253 73.4376 413.958 72.1394 413.527 70.9128C413.095 69.6873 412.512 68.6607 411.777 67.8316C411.041 67.0037 410.123 66.4462 409.019 66.1601C407.917 65.8734 406.63 65.9686 405.161 66.4462C402.986 66.1601 401.029 66.3595 399.287 67.0437C397.545 67.7292 396.034 68.7237 394.756 70.0291C393.478 71.3358 392.431 72.8715 391.616 74.6394C390.801 76.4066 390.257 78.2224 389.986 80.0848C389.871 80.8744 389.815 81.6605 389.798 82.4447C389.303 83.4544 388.761 84.3368 388.164 85.0774C387.317 86.1283 386.438 86.9883 385.527 87.6568C384.616 88.3258 383.713 88.8355 382.819 89.1858C381.923 89.5367 381.124 89.7755 380.421 89.9022C379.59 90.0616 378.791 90.0779 378.024 89.9501C377.257 89.8234 376.553 89.4567 375.915 88.8513C375.403 88.4058 375.011 87.6889 374.74 86.7016C374.468 85.7144 374.309 84.5926 374.261 83.3338C374.213 82.0756 374.261 80.7617 374.404 79.3926C374.548 78.0236 374.795 76.7254 375.147 75.4994C375.499 74.2733 375.945 73.1746 376.49 72.2024C377.032 71.2322 377.672 70.5388 378.408 70.1249C378.822 70.1891 379.079 70.4352 379.175 70.8649C379.271 71.2952 379.294 71.8049 379.246 72.394C379.199 72.9836 379.127 73.5885 379.031 74.2091C378.935 74.8303 378.887 75.3485 378.887 75.7618C379.047 76.6218 379.358 77.2909 379.822 77.7684C380.285 78.246 380.805 78.5254 381.38 78.6042C381.955 78.6842 382.522 78.549 383.083 78.1981C383.641 77.8484 384.096 77.2909 384.449 76.526C384.48 76.5581 384.528 76.5739 384.592 76.5739L385.264 70.5073C385.455 69.6788 385.327 68.9467 384.88 68.3098C384.432 67.6728 383.841 67.3062 383.106 67.211C382.179 65.8734 380.924 65.165 379.342 65.085C377.76 65.0056 376.138 65.5231 374.476 66.6377C373.453 67.371 372.55 68.3813 371.767 69.671C370.983 70.9613 370.345 72.394 369.85 73.9703C369.353 75.5466 369.002 77.2115 368.795 78.963C368.587 80.7144 368.547 82.4187 368.674 84.0738C368.802 85.7307 369.098 87.2913 369.562 88.7555C370.025 90.221 370.672 91.447 371.504 92.4337C372.207 93.2937 373.005 93.9233 373.9 94.3215C374.795 94.7197 375.73 94.9658 376.705 95.0615C377.68 95.1567 378.647 95.1167 379.606 94.9421C380.565 94.7676 381.476 94.5209 382.339 94.2015C383.457 93.7882 384.609 93.2621 385.791 92.6252C386.973 91.9888 388.108 91.224 389.195 90.3319C389.767 89.8628 390.317 89.3513 390.849 88.8028C391.091 89.4016 391.362 89.981 391.688 90.5234C392.551 91.9561 393.717 93.1191 395.188 94.0106C396.657 94.9021 398.464 95.3312 400.605 95.3003C402.907 95.2682 405.032 94.6876 406.982 93.5567C408.932 92.427 410.53 90.7616 411.777 88.5646C413.644 88.5646 415.481 88.258 417.287 87.6489C417.272 87.8416 417.256 88.0446 417.242 88.2307C417.115 89.9186 417.05 91.0646 417.05 91.67C417.019 92.7209 416.947 94.0185 416.835 95.5627C416.723 97.1075 416.651 98.7318 416.619 100.435C416.588 102.139 416.651 103.859 416.811 105.595C416.971 107.33 417.306 108.907 417.818 110.325C418.328 111.741 419.055 112.944 419.999 113.932C420.941 114.918 422.18 115.508 423.715 115.699C425.345 115.921 426.751 115.635 427.934 114.839C429.116 114.042 430.075 112.952 430.811 111.567C431.546 110.181 432.064 108.581 432.369 106.766C432.672 104.95 432.76 103.127 432.633 101.295C432.504 99.4639 432.168 97.7366 431.625 96.113C431.082 94.4882 430.33 93.1506 429.372 92.0991C429.948 91.9409 430.634 91.6385 431.434 91.1919C432.232 90.7464 433.055 90.2446 433.903 89.687C434.111 89.5501 434.316 89.4058 434.524 89.2652C434.446 90.3937 434.406 91.1985 434.406 91.67C434.375 92.7209 434.303 94.0185 434.19 95.5627C434.079 97.1075 434.007 98.7318 433.975 100.435C433.943 102.139 434.007 103.859 434.167 105.595C434.326 107.33 434.662 108.907 435.173 110.325C435.684 111.741 436.412 112.944 437.354 113.932C438.297 114.918 439.536 115.508 441.071 115.699C442.7 115.921 444.106 115.635 445.289 114.839C446.472 114.042 447.431 112.952 448.166 111.567C448.901 110.181 449.42 108.581 449.724 106.766C450.028 104.95 450.115 103.127 449.988 101.295C449.86 99.4639 449.524 97.7366 448.982 96.113C448.437 94.4882 447.687 93.1506 446.727 92.0991C447.303 91.9409 447.99 91.6385 448.789 91.1919C449.588 90.7464 450.411 90.2446 451.259 89.687C451.699 89.3974 452.136 89.0986 452.573 88.7913C452.737 90.3488 453.091 91.7149 453.655 92.864C454.343 94.2658 455.277 95.3482 456.46 96.113C457.642 96.8766 459.033 97.299 460.632 97.3784C462.23 97.4572 463.971 97.1633 465.858 96.4942C467.264 95.9851 468.486 95.3482 469.525 94.5839C470.563 93.8191 471.498 92.8876 472.33 91.7894C472.378 91.7258 472.423 91.6567 472.47 91.5925C472.618 92.0385 472.782 92.467 472.977 92.864C473.665 94.2658 474.6 95.3482 475.782 96.113C476.964 96.8766 478.355 97.299 479.953 97.3784C481.551 97.4572 483.293 97.1633 485.179 96.4942C486.586 95.9851 487.808 95.3482 488.847 94.5839C489.885 93.8191 490.82 92.8876 491.652 91.7894C492.483 90.6901 493.241 89.424 493.929 87.9913C494.616 86.558 495.311 84.9186 496.015 83.0708C496.142 82.5617 496.022 82.1078 495.655 81.7096Z" fill="#0D0C23"/>\n</svg>';

// src/Storage/Storage.ts
var Storage = class {
  constructor(data) {
    this.set(data);
  }
  get(k) {
    return this.item.get(k);
  }
  set(value) {
    this.item = new StorageObjectItem(value);
  }
  collect() {
    return this.item.value();
  }
};
var create = (value) => {
  if (typeof value === "object" && !Array.isArray(value) && value !== null) {
    return new StorageObjectItem(value);
  } else {
    return new StoragePrimitiveItem(value);
  }
};
var StorageObjectItem = class {
  constructor(data) {
    this.items = null;
    this.set(data);
  }
  add(key, value) {
    this.items[key] = create(value);
    return this.get(key);
  }
  get(key) {
    return this.items[key];
  }
  set(value) {
    this.items = {};
    for (const [key, v] of ObjectHelper.entries(value)) {
      this.items[key] = create(v);
    }
  }
  value() {
    const data = {};
    for (const [k, v] of ObjectHelper.entries(this.items)) {
      data[k] = v.value();
    }
    return data;
  }
};
var StoragePrimitiveItem = class {
  constructor(data) {
    this.data = data;
  }
  value() {
    return this.data;
  }
  set(value) {
    this.data = value;
  }
};

// src/Creator/Template/Factory.ts
var Factory = class {
  constructor(pattern, factory) {
    this.pattern = pattern;
    this.factory = factory;
  }
  create(template) {
    const type = new RegExp(this.pattern).test(template) ? "composite" : "simple";
    const obj = this.factory(type);
    obj.setTemplate(template);
    return obj;
  }
};
Factory = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["template:pattern"])),
  __decorateParam(1, inject(inversify_types_default["factory:template:resolver"]))
], Factory);

// src/Creator/Template/Simple.ts
var Simple = class {
  constructor(factory) {
    this.factory = factory;
    this.placeholder = null;
  }
  getPlaceholders() {
    if (this.placeholder === null) {
      this.placeholder = this.factory.create(this.template);
    }
    return [this.placeholder];
  }
  getTemplate() {
    return this.template;
  }
  setTemplate(template) {
    this.template = template;
  }
};
Simple = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:placeholder"]))
], Simple);

// src/Creator/Template/Placeholders/AbstractPlaceholder.ts
var AbstractPlaceholder = class {
  getPlaceholder() {
    return this.placeholder;
  }
  setPlaceholder(placeholder) {
    this.placeholder = placeholder;
    return this;
  }
};
AbstractPlaceholder.META = "meta";
AbstractPlaceholder.BRACKETS = "brackets";
AbstractPlaceholder.HEADING = "heading";
AbstractPlaceholder.FILE = "file";
AbstractPlaceholder.LOGIC = "logic";
AbstractPlaceholder = __decorateClass([
  injectable()
], AbstractPlaceholder);

// src/Creator/Template/Placeholders/MetaPlaceholder.ts
var MetaPlaceholder = class extends AbstractPlaceholder {
  constructor(extractor, factory) {
    super();
    this.extractor = extractor;
    this.factory = factory;
  }
  makeValue(path) {
    return this.extractor.extract(this.placeholder, this.factory(path, "frontmatter"));
  }
};
MetaPlaceholder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["component:extractor"])),
  __decorateParam(1, inject(inversify_types_default["factory:obsidian:meta"]))
], MetaPlaceholder);

// src/Components/Extractor/Exceptions/PathNotFoundException.ts
var PathNotFoundException = class extends Error {
};

// src/Components/Extractor/Exceptions/TypeNotSupportedException.ts
var TypeNotSupportedException = class extends Error {
};

// src/Creator/Creator.ts
var Creator = class {
  constructor(factory, logger) {
    this.factory = factory;
    this.logger = logger;
    this.cache = /* @__PURE__ */ new Map();
  }
  create(path, template) {
    var _a, _b;
    for (const placeholder of this.pull(template).getPlaceholders()) {
      let value = "";
      try {
        value = (_a = placeholder.makeValue(path)) != null ? _a : "";
      } catch (e) {
        if (e instanceof PathNotFoundException || e instanceof TypeNotSupportedException) {
          this.logger.log(`Error by path: ${path}. ${e.message}`);
        } else {
          throw e;
        }
      }
      template = template.replace(placeholder.getPlaceholder(), value);
    }
    if ((_b = template == null ? void 0 : template.trim()) == null ? void 0 : _b.length) {
      return template.trim();
    }
    return null;
  }
  pull(template) {
    const key = `template:${template}`;
    if (this.cache.has(key) === false) {
      this.logger.log(`Create template fo ${template}`);
      this.cache.set(key, this.factory.create(template));
    }
    return this.cache.get(key);
  }
};
Creator = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:creator:template"])),
  __decorateParam(1, inject(inversify_types_default.logger)),
  __decorateParam(1, named("creator"))
], Creator);

// src/Creator/Template/Placeholders/Factory.ts
var Factory2 = class {
  constructor(factory) {
    this.factory = factory;
  }
  create(placeholder) {
    let type = AbstractPlaceholder.META;
    if (placeholder.startsWith("{{") && placeholder.endsWith("}}")) {
      type = AbstractPlaceholder.BRACKETS;
    } else if (placeholder.startsWith("_")) {
      type = AbstractPlaceholder.FILE;
    } else if (placeholder === "#heading") {
      type = AbstractPlaceholder.HEADING;
    } else if (placeholder.includes("|")) {
      type = AbstractPlaceholder.LOGIC;
    }
    return this.factory(type, placeholder).setPlaceholder(placeholder);
  }
};
Factory2 = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:placeholder:resolver"]))
], Factory2);

// src/Creator/Template/Composite.ts
var Composite = class {
  constructor(pattern, factory) {
    this.pattern = pattern;
    this.factory = factory;
    this.placeholders = [];
  }
  getPlaceholders() {
    if (this.placeholders.length === 0) {
      const parts = this.template.match(new RegExp(this.pattern, "g"));
      for (const part of parts) {
        const {
          groups: { placeholder }
        } = part.match(this.pattern);
        this.placeholders.push(this.factory.create(placeholder));
      }
    }
    return this.placeholders;
  }
  getTemplate() {
    return this.template;
  }
  setTemplate(template) {
    this.template = template;
  }
};
Composite = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["template:pattern"])),
  __decorateParam(1, inject(inversify_types_default["factory:placeholder"]))
], Composite);

// src/Creator/Template/Placeholders/BracketsPlaceholder.ts
var BracketsPlaceholder = class {
  constructor(factory) {
    this.factory = factory;
    this.leftSpace = "";
    this.rightSpace = "";
  }
  getPlaceholder() {
    return this.placeholder;
  }
  makeValue(path) {
    const value = this.child.makeValue(path);
    return value ? `${this.leftSpace}${value}${this.rightSpace}` : null;
  }
  setPlaceholder(placeholder) {
    this.placeholder = placeholder;
    const {
      groups: { left, key, right }
    } = this.placeholder.match(new RegExp(`^{{((?<left>\\s*)(?<key>.*\\b)(?<right>\\s*))}}`));
    this.leftSpace = left != null ? left : "";
    this.rightSpace = right != null ? right : "";
    this.child = this.factory.create(key);
    return this;
  }
};
BracketsPlaceholder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:placeholder"]))
], BracketsPlaceholder);

// src/Creator/Template/Placeholders/FilePlaceholder.ts
var FilePlaceholder = class extends AbstractPlaceholder {
  constructor(extractor, factory) {
    super();
    this.extractor = extractor;
    this.factory = factory;
  }
  makeValue(path) {
    return this.extractor.extract(this.path, this.factory(path));
  }
  setPlaceholder(placeholder) {
    this.path = placeholder.substring(1);
    return super.setPlaceholder(placeholder);
  }
};
FilePlaceholder = __decorateClass([
  __decorateParam(0, inject(inversify_types_default["component:extractor"])),
  __decorateParam(1, inject(inversify_types_default["factory:obsidian:file"]))
], FilePlaceholder);

// src/Creator/Template/Placeholders/HeadingPlaceholder.ts
var HeadingPlaceholder = class extends AbstractPlaceholder {
  constructor(factory) {
    super();
    this.factory = factory;
  }
  makeValue(path) {
    var _a, _b, _c;
    return (_c = (_b = (_a = this.factory(path, "headings")) == null ? void 0 : _a[0]) == null ? void 0 : _b.heading) != null ? _c : "";
  }
};
HeadingPlaceholder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:obsidian:meta"]))
], HeadingPlaceholder);

// src/Creator/Template/Placeholders/LogicPlaceholder.ts
var LogicPlaceholder = class {
  constructor(factory) {
    this.factory = factory;
    this.DELIMITER = "|";
    this.children = [];
  }
  makeValue(path) {
    for (const child of this.children) {
      const value = child.makeValue(path);
      if (value) {
        return value;
      }
    }
  }
  setPlaceholder(placeholder) {
    this.placeholder = placeholder;
    for (const item of this.placeholder.split(this.DELIMITER)) {
      this.children.push(this.factory.create(item.trim()));
    }
    return this;
  }
  getPlaceholder() {
    return this.placeholder;
  }
};
LogicPlaceholder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:placeholder"]))
], LogicPlaceholder);

// config/services/creator.config.ts
var creator_config_default = new ContainerModule((bind) => {
  bind(inversify_types_default["factory:creator:template"]).to(Factory);
  bind(inversify_types_default["factory:template:resolver"]).toAutoNamedFactory(
    inversify_types_default["creator:template"]
  );
  bind(inversify_types_default["creator:template"]).to(Simple).whenTargetNamed("simple");
  bind(inversify_types_default["creator:template"]).to(Composite).whenTargetNamed("composite");
  bind(inversify_types_default.placeholder).to(MetaPlaceholder).whenTargetNamed(AbstractPlaceholder.META);
  bind(inversify_types_default.placeholder).to(FilePlaceholder).whenTargetNamed(AbstractPlaceholder.FILE);
  bind(inversify_types_default.placeholder).to(BracketsPlaceholder).whenTargetNamed(AbstractPlaceholder.BRACKETS);
  bind(inversify_types_default.placeholder).to(HeadingPlaceholder).whenTargetNamed(AbstractPlaceholder.HEADING);
  bind(inversify_types_default.placeholder).to(LogicPlaceholder).whenTargetNamed(AbstractPlaceholder.LOGIC);
  bind(inversify_types_default["creator:creator"]).to(Creator);
  bind(inversify_types_default["factory:placeholder:resolver"]).toAutoNamedFactory(
    inversify_types_default.placeholder
  );
  bind(inversify_types_default["getter:delimiter"]).toDynamicValue((c) => () => c.container.get(inversify_types_default.delimiter));
  bind(inversify_types_default["factory:placeholder"]).to(Factory2).inSingletonScope();
});

// src/Feature/Explorer/ExplorerManager.ts
var import_obsidian3 = require("obsidian");

// src/Feature/AbstractFeature.ts
var AbstractFeature = class {
  static getId() {
    throw new Error("Static function 'getId()' is not implemented");
  }
};
AbstractFeature = __decorateClass([
  injectable()
], AbstractFeature);

// src/Feature/AbstractManager.ts
var AbstractManager = class extends AbstractFeature {
  disable() {
    this.isEnabled() && this.doDisable();
  }
  enable() {
    !this.isEnabled() && this.doEnable();
  }
  async update(path) {
    if (!this.isEnabled()) {
      return false;
    }
    return this.doUpdate(path);
  }
  async refresh() {
    if (this.isEnabled()) {
      return this.doRefresh();
    }
  }
  setResolver(resolver) {
    this.resolver = resolver;
  }
};
AbstractManager = __decorateClass([
  injectable()
], AbstractManager);

// src/Feature/Explorer/ExplorerViewUndefined.ts
var ExplorerViewUndefined = class extends Error {
};

// src/Feature/Explorer/ExplorerManager.ts
var ExplorerManager = class extends AbstractManager {
  constructor(facade, factory, sortFactory, dispatcher, logger) {
    super();
    this.facade = facade;
    this.factory = factory;
    this.dispatcher = dispatcher;
    this.logger = logger;
    this.explorerView = null;
    this.modified = /* @__PURE__ */ new WeakMap();
    this.state = "disabled" /* Disabled */;
    this.sort = null;
    this.sort = sortFactory();
  }
  static getId() {
    return "explorer" /* Explorer */;
  }
  setState(state) {
    this.state = state;
  }
  isState(state) {
    return this.state === state;
  }
  getId() {
    return "explorer" /* Explorer */;
  }
  isEnabled() {
    return this.state !== "disabled" /* Disabled */;
  }
  doDisable() {
    var _a;
    if (this.explorerView) {
      this.restoreTitles();
      this.explorerView = null;
    }
    (_a = this.sort) == null ? void 0 : _a.stop();
    this.setState("disabled" /* Disabled */);
  }
  tryEnable() {
    var _a;
    (_a = this.sort) == null ? void 0 : _a.start();
    this.setState("enabled" /* Enabled */);
    this.logger.log("Manager enabled");
  }
  subscribe() {
    const ref = this.dispatcher.addListener({
      name: "active:leaf:change",
      cb: () => {
        if (this.isEnabled() && this.getExplorerView()) {
          this.logger.log("Catch explorer view");
          this.tryEnable();
          this.doRefresh().catch(this.logger.log);
          this.dispatcher.removeListener(ref);
        } else if (!this.isEnabled()) {
          this.logger.log("Called when is not enabled");
          this.dispatcher.removeListener(ref);
        }
      }
    });
    this.setState("waitForActiveLeaf" /* WaitForActiveLeaf */);
  }
  doEnable() {
    if (!this.facade.isInternalPluginEnabled("file-explorer" /* FileExplorer */)) {
      this.logger.info(`internal plugin ${"file-explorer" /* FileExplorer */} is not enabled`);
      return;
    }
    if (!this.getExplorerView()) {
      this.logger.log("Could not get view. Subscribe and wait for active leaf");
      this.subscribe();
    } else {
      this.tryEnable();
    }
  }
  async doRefresh() {
    if (this.isState("enabled" /* Enabled */)) {
      return this.updateInternal(Object.values(this.getExplorerFileItems()));
    }
    return {};
  }
  async doUpdate(path) {
    if (this.isState("enabled" /* Enabled */)) {
      const item = this.getExplorerFileItems()[path];
      await this.updateInternal(item ? [item] : []);
      return !!item;
    }
    return false;
  }
  getExplorerView() {
    if (this.explorerView === null) {
      const leaves = this.facade.getLeavesOfType("file-explorer" /* FE */);
      if (leaves.length > 1) {
        throw new Error("There are some explorers' leaves");
      }
      const leaf = leaves == null ? void 0 : leaves[0];
      if (leaf === void 0 || leaf === null) {
        throw new ExplorerViewUndefined("Explorer leaf is undefined");
      }
      if (leaf.isVisible()) {
        this.explorerView = leaf.view;
      }
    }
    return this.explorerView;
  }
  getExplorerFileItems() {
    var _a, _b;
    return (_b = (_a = this.getExplorerView()) == null ? void 0 : _a.fileItems) != null ? _b : {};
  }
  async updateInternal(items) {
    for (const i of items) {
      if (!(i.file instanceof import_obsidian3.TFile)) {
        continue;
      }
      if (!this.modified.has(i)) {
        this.modified.set(i, this.factory(i, this.resolver));
      }
      i.updateTitle();
    }
    return {};
  }
  restoreTitles() {
    Object.values(this.explorerView.fileItems).map(this.restore.bind(this));
  }
  restore(item) {
    if (this.modified.has(item)) {
      this.modified.get(item).destroy();
      item.updateTitle();
      this.modified.delete(item);
      return true;
    }
    return false;
  }
};
ExplorerManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default["feature:explorer:file_mutator:factory"])),
  __decorateParam(2, inject(inversify_types_default["factory:feature:explorer:sort"])),
  __decorateParam(3, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(4, inject(inversify_types_default["logger"])),
  __decorateParam(4, named("explorer" /* Explorer */))
], ExplorerManager);

// src/Feature/FeatureComposer.ts
var FeatureComposer = class {
  constructor(factory, dispatcher, logger) {
    this.factory = factory;
    this.dispatcher = dispatcher;
    this.logger = logger;
    this.features = {};
  }
  get(id3) {
    var _a;
    return (_a = this.features[id3]) != null ? _a : null;
  }
  getIds() {
    return Object.keys(this.features);
  }
  toggle(id3, state) {
    this.logger.log(`Feature - ${id3} toggle to ${state}`);
    const feature = this.features[id3];
    if (!state && !feature || state && (feature == null ? void 0 : feature.isEnabled())) {
      return;
    }
    if (!feature) {
      this.features[id3] = this.factory(id3);
      return this.toggle(id3, state);
    }
    feature[state ? "enable" : "disable"]();
    this.logger.log(`Feature - ${feature.getId()}. State: ${state}`);
    if (!state) {
      delete this.features[id3];
    } else {
      this.dispatcher.dispatch("feature:enable", new Event({ feature }));
    }
  }
  disableAll() {
    for (const feature of Object.values(this.features)) {
      this.logger.log(`Disable feature ${feature.getId()}`);
      feature.disable();
    }
    this.features = {};
  }
};
FeatureComposer = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:feature"])),
  __decorateParam(1, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named("composer:feature"))
], FeatureComposer);

// src/Feature/Explorer/ExplorerSort.ts
var import_obsidian4 = require("obsidian");
var ExplorerSort = class {
  constructor(logger, facade, dispatcher, service, replacerFactory) {
    this.logger = logger;
    this.facade = facade;
    this.dispatcher = dispatcher;
    this.replacerFactory = replacerFactory;
    this.started = false;
    this.refs = [];
    this.resolver = service.createResolver("explorer" /* Explorer */);
    const trigger = (0, import_obsidian4.debounce)(this.onManagerUpdate.bind(this), 1e3);
    this.cb = (e) => {
      if (e.id === "explorer" /* Explorer */ && (e.result === true || e.result === void 0)) {
        trigger();
      }
    };
  }
  start() {
    if (this.isStarted()) {
      return;
    }
    if (!this.view && (this.initView(), !this.view)) {
      throw new ExplorerViewUndefined();
    }
    this.refs.push(this.dispatcher.addListener({ name: "manager:refresh", cb: (e) => this.cb({ id: e.get().id }) }));
    this.refs.push(
      this.dispatcher.addListener({
        name: "manager:update",
        cb: (e) => this.cb(e.get())
      })
    );
    this.started = true;
    this.tryToReplaceOriginalSort();
    this.logger.log("enabled");
  }
  stop() {
    var _a, _b;
    this.started = false;
    this.refs.forEach((e) => this.dispatcher.removeListener(e));
    this.refs = [];
    (_a = this.replacer) == null ? void 0 : _a.disable();
    (_b = this.view) == null ? void 0 : _b.requestSort();
    this.logger.log("disabled");
  }
  isStarted() {
    return this.started;
  }
  onManagerUpdate() {
    this.logger.log("Try to request sort by event");
    if (!this.isStarted()) {
      this.logger.log("Skipped because feature is not enabled");
      return;
    }
    this.view.requestSort();
  }
  initView() {
    var _a, _b;
    this.view = (_b = (_a = this.facade.getViewsOfType("file-explorer" /* FE */)) == null ? void 0 : _a[0]) != null ? _b : null;
  }
  tryToReplaceOriginalSort() {
    if (!this.isStarted()) {
      return;
    }
    if (this.replacer) {
      this.logger.log(`Replacer is exist already. State is ${this.replacer.isEnabled()}`);
      if (!this.replacer.isEnabled()) {
        this.logger.log("Enable replacer");
        this.replacer.enable();
      }
      return;
    }
    this.logger.log("Init replacer");
    this.replacer = this.replacerFactory(
      Object.getPrototypeOf(this.view),
      "getSortedFolderItems",
      this,
      (feature, defaultArgs, vanilla) => {
        var _a;
        return (_a = feature.getSortedFolderItems(defaultArgs == null ? void 0 : defaultArgs[0])) != null ? _a : vanilla.call(this);
      }
    );
    this.replacer.enable();
  }
  isSortSupported(sort) {
    return ["alphabeticalReverse", "alphabetical"].includes(sort);
  }
  isAsc(order) {
    return order === "alphabetical";
  }
  getSortedFolderItems(folder) {
    const sortOrder = this.view.sortOrder;
    if (!this.isSortSupported(sortOrder)) {
      this.logger.log(`Sort is ${sortOrder}. Skipped.`);
      return;
    }
    if (!(folder instanceof import_obsidian4.TFolder)) {
      this.logger.log("File is not TFolder. Why? Skipped.");
      return;
    }
    const children = folder.children.slice();
    const result = [];
    children.sort((a, b) => {
      var _a, _b;
      const i = a instanceof import_obsidian4.TFolder;
      const r = b instanceof import_obsidian4.TFolder;
      let k;
      if (i && !r) {
        k = -1;
      } else if (!i && r) {
        k = 1;
      } else {
        const at = i ? a.name : (_a = this.resolver.resolve(a.path)) != null ? _a : a.name;
        const bt = r ? b.name : (_b = this.resolver.resolve(b.path)) != null ? _b : b.name;
        k = at.localeCompare(bt);
        k = this.isAsc(sortOrder) ? k : -k;
      }
      return k;
    });
    for (const child of children) {
      const f = this.view.fileItems[child.path];
      f && result.push(f);
    }
    return result;
  }
};
ExplorerSort = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default.logger)),
  __decorateParam(0, named("explorer:feature:sort")),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(3, inject(inversify_types_default["feature:service"])),
  __decorateParam(4, inject(inversify_types_default["factory:replacer"]))
], ExplorerSort);

// src/Feature/ManagerComposer.ts
var ManagerComposer = class {
  constructor(features, logger, dispatcher) {
    this.features = features;
    this.logger = logger;
    this.dispatcher = dispatcher;
    this.ids = Managers;
  }
  async update(path, id3 = null) {
    const ids = id3 ? [id3] : this.ids;
    const result = {};
    const promises = [];
    for (const i of ids) {
      const manager = this.features.get(i);
      if (manager) {
        this.logger.log(`Run update for [${path}] on [${manager.getId()}]`);
        promises.push(
          manager.update(path).then((r) => {
            result[i] = r;
            this.dispatcher.dispatch("manager:update", new Event({ id: i, result: r, path }));
          })
        );
      }
    }
    await Promise.all(promises);
    return result;
  }
  async refresh(id3 = null) {
    this.logger.log("refresh");
    const ids = id3 ? [id3] : this.ids;
    const promises = [];
    for (const i of ids) {
      const manager = this.features.get(i);
      if (manager) {
        promises.push(
          manager.refresh().then(() => this.dispatcher.dispatch("manager:refresh", new Event({ id: i })))
        );
      }
    }
    await Promise.all(promises);
  }
};
ManagerComposer = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["feature:composer"])),
  __decorateParam(1, inject(inversify_types_default.logger)),
  __decorateParam(1, named("composer:manager")),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"]))
], ManagerComposer);

// src/Feature/Search/SearchFeature.ts
var SearchManager = class extends AbstractFeature {
  constructor(facade, logger, service, featureService, dispatcher) {
    super();
    this.facade = facade;
    this.logger = logger;
    this.service = service;
    this.dispatcher = dispatcher;
    this.state = 1 /* Disabled */;
    this.dom = null;
    this.resolver = featureService.createResolver(this.getId());
  }
  static getId() {
    return "search" /* Search */;
  }
  disable() {
    this.dom = null;
    this.service.destroyByTag(this.getId());
    this.setState(1 /* Disabled */);
  }
  enable() {
    if (!this.facade.isInternalPluginEnabled("global-search" /* Search */)) {
      this.logger.info(`internal plugin ${"global-search" /* Search */} is not enabled`);
      return;
    }
    if (this.isLeafActive()) {
      this.tryEnable();
    } else {
      this.waitForLeafActivation();
    }
  }
  setState(state) {
    this.logger.info(`Change state from ${this.state} to ${state}`);
    this.state = state;
  }
  tryEnable() {
    const dom = this.getSearchDom();
    if (!dom) {
      throw new Error(`View of ${"search" /* S */} not found`);
    }
    this.service.wrapDom(dom, this.resolver, this.getId());
    this.setState(0 /* Enabled */);
  }
  waitForLeafActivation() {
    const ref = this.dispatcher.addListener({
      name: "active:leaf:change",
      cb: () => {
        this.logger.debug("called active:leaf:change callback");
        if (!this.isEnabled()) {
          this.dispatcher.removeListener(ref);
        } else if (this.isLeafActive()) {
          this.dispatcher.removeListener(ref);
          this.tryEnable();
        }
      }
    });
    this.setState(2 /* WaitForActiveLeaf */);
  }
  getId() {
    return SearchManager.getId();
  }
  isEnabled() {
    return this.state !== 1 /* Disabled */;
  }
  isLeafActive() {
    var _a, _b;
    return (_b = (_a = this.facade.getLeavesOfType("search" /* S */)) == null ? void 0 : _a[0]) == null ? void 0 : _b.isVisible();
  }
  getView() {
    var _a, _b;
    return (_b = (_a = this.facade.getViewsOfType("search" /* S */)) == null ? void 0 : _a[0]) != null ? _b : null;
  }
  getSearchDom() {
    var _a, _b;
    if (!this.dom) {
      this.dom = (_b = (_a = this.getView()) == null ? void 0 : _a.dom) != null ? _b : null;
    }
    return this.dom;
  }
};
SearchManager = __decorateClass([
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default.logger)),
  __decorateParam(1, named("manager:search")),
  __decorateParam(2, inject(inversify_types_default["service:search:dom:wrapper"])),
  __decorateParam(3, inject(inversify_types_default["feature:service"])),
  __decorateParam(4, inject(inversify_types_default["event:dispatcher"]))
], SearchManager);

// src/Utils/FunctionReplacer.ts
var FunctionReplacer = class _FunctionReplacer {
  constructor(target, method, args, implementation) {
    this.target = target;
    this.method = method;
    this.args = args;
    this.implementation = implementation;
    this.vanilla = null;
    this.valid();
  }
  static create(target, method, args, implementation) {
    return new _FunctionReplacer(target, method, args, implementation);
  }
  getTarget() {
    return this.target;
  }
  enable() {
    if (this.vanilla !== null) {
      return false;
    }
    const self2 = this;
    this.vanilla = this.target[this.method];
    this.target[this.method] = function(...args) {
      return self2.implementation.call(this, self2.args, args, self2.vanilla);
    };
    return true;
  }
  disable() {
    if (this.vanilla !== null) {
      this.target[this.method] = this.vanilla;
      this.vanilla = null;
    }
  }
  isEnabled() {
    return this.vanilla !== null;
  }
  valid() {
    if (typeof this.target[this.method] !== "function") {
      throw new Error(`Method ${this.method} is not a function`);
    }
  }
};

// src/Feature/Tab/TabManager.ts
var TabManager = class extends AbstractManager {
  constructor(facade, dispatcher, factory) {
    super();
    this.facade = facade;
    this.dispatcher = dispatcher;
    this.enabled = false;
    this.callback = null;
    this.replacer = null;
    this.callback = () => {
      const file = factory();
      file && this.update(file.path);
    };
  }
  static getId() {
    return "tab" /* Tab */;
  }
  getId() {
    return TabManager.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  async doDisable() {
    var _a;
    this.dispatcher.removeListener(this.ref);
    (_a = this.replacer) == null ? void 0 : _a.disable();
    this.ref = null;
    this.reset();
    this.enabled = false;
  }
  async doEnable() {
    this.enabled = true;
    this.initReplacer();
    this.ref = this.dispatcher.addListener({ name: "layout:change", cb: this.callback });
    return;
  }
  async doRefresh() {
    return this.innerUpdate();
  }
  async doUpdate(path) {
    const result = await this.innerUpdate(path);
    return result[path] === true;
  }
  initReplacer() {
    const leaf = this.facade.getActiveLeaf();
    this.replacer = FunctionReplacer.create(
      Object.getPrototypeOf(leaf),
      "setPinned",
      this,
      function(self2, [pinned], vanilla) {
        var _a;
        const result = vanilla.call(this, pinned);
        if (((_a = this == null ? void 0 : this.view) == null ? void 0 : _a.getViewType()) === "markdown" /* MD */) {
          self2.innerUpdate(this.view.file.path);
        }
        return result;
      }
    );
    this.replacer.enable();
  }
  reset() {
    var _a;
    const leaves = this.facade.getLeavesOfType("markdown");
    for (const leaf of leaves) {
      const file = (_a = leaf.view) == null ? void 0 : _a.file;
      if (file) {
        leaf.tabHeaderInnerTitleEl.setText(file.basename);
      }
    }
  }
  async innerUpdate(path = null) {
    var _a, _b;
    const leaves = this.facade.getLeavesOfType("markdown");
    const result = {};
    for (const leaf of leaves) {
      const filePath = (_b = (_a = leaf.view) == null ? void 0 : _a.getState()) == null ? void 0 : _b.file;
      if (!filePath || path && path !== filePath) {
        continue;
      }
      result[filePath] = false;
      const title = filePath ? this.resolver.resolve(filePath) : null;
      if (title && title !== leaf.tabHeaderInnerTitleEl.getText()) {
        leaf.tabHeaderInnerTitleEl.setText(title);
        result[filePath] = true;
      }
    }
    return result;
  }
};
TabManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(2, inject(inversify_types_default["factory:obsidian:active:file"]))
], TabManager);

// src/Feature/Alias/Alias.ts
var Alias = class {
  constructor(cache) {
    this.cache = cache;
    this.changed = false;
    this.original = void 0;
  }
  getKey() {
    for (const key of Object.keys(this.cache)) {
      if (this.getPossibleKeys().includes(key)) {
        return key;
      }
    }
    return null;
  }
  getValue() {
    var _a;
    const val = (_a = this.cache[this.getKey()]) != null ? _a : null;
    return Array.isArray(val) ? [...val] : val;
  }
  setValue(alias) {
    if (this.original === void 0) {
      const value = this.getValue();
      this.original = {
        value: Array.isArray(value) ? [...value] : value,
        key: this.getKey()
      };
    }
    this.modify(alias);
    this.changed = true;
  }
  isChanged() {
    return this.changed;
  }
  restore() {
    const key = this.getKey();
    if (this.original.key === null && key) {
      delete this.cache[key];
    } else if (this.original.key) {
      this.modify(this.original.value);
    }
    this.changed = false;
  }
  getPossibleKeys() {
    return ["aliases", "alias"];
  }
  modify(alias) {
    var _a;
    const key = (_a = this.getKey()) != null ? _a : this.getPossibleKeys()[0];
    this.cache[key] = alias;
  }
};

// src/Feature/Alias/AliasFeature.ts
var AliasFeature = class extends AbstractFeature {
  constructor(strategyFactory, validatorFactory, logger, factory, dispatcher, config) {
    super();
    this.strategyFactory = strategyFactory;
    this.validatorFactory = validatorFactory;
    this.logger = logger;
    this.factory = factory;
    this.dispatcher = dispatcher;
    this.config = config;
    this.enabled = false;
    this.strategy = null;
    this.validator = null;
    this.items = {};
    this.ref = null;
  }
  static getId() {
    return "alias" /* Alias */;
  }
  disable() {
    this.reset();
    this.dispatcher.removeListener(this.ref);
    this.ref = null;
    this.enabled = false;
  }
  enable() {
    this.ref = this.dispatcher.addListener({
      name: "metadata:cache:changed",
      cb: (e) => this.update(e.get().path, e.get().cache)
    });
    this.setValidator(this.config.getValidator());
    this.setStrategy(this.config.getStrategy());
    this.enabled = true;
    this.refresh().catch(console.error);
  }
  getId() {
    return AliasFeature.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  setValidator(type) {
    this.validator = this.validatorFactory(type);
    this.logger.log(`Set validator [${type}]. Status: ${this.validator !== null}`);
  }
  setStrategy(type) {
    this.strategy = this.strategyFactory(type);
    this.logger.log(`Set strategy [${type}]. Status: ${this.strategy !== null}`);
  }
  process(frontmatter, path) {
    const alias = new Alias(frontmatter);
    this.strategy.process(alias, path);
    const result = alias.isChanged();
    if (result) {
      this.items[path] = alias;
    }
    return result;
  }
  reset() {
    for (const alias of Object.values(this.items)) {
      alias.restore();
    }
    this.items = {};
  }
  async update(path, metadata = null) {
    if (this.validator.validate(metadata)) {
      this.process(metadata.frontmatter, path);
    }
  }
  async refresh() {
    const cache = this.factory();
    const promises = [];
    for (const path of cache.getCachedFiles()) {
      promises.push(this.update(path, cache.getCache(path)));
    }
    await Promise.all(promises);
  }
};
AliasFeature = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:alias:modifier:strategy"])),
  __decorateParam(1, inject(inversify_types_default["factory:alias:modifier:validator"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named("alias:modifier")),
  __decorateParam(3, inject(inversify_types_default["factory:metadata:cache"])),
  __decorateParam(4, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(5, inject(inversify_types_default["feature:alias:config"]))
], AliasFeature);

// src/Feature/Alias/Strategy/AbstractStrategy.ts
var AbstractStrategy = class {
  constructor(service) {
    this.service = service;
    this.resolver = service.createResolver("alias" /* Alias */);
  }
  process(alias, path) {
    const title = this.resolver.resolve(path);
    if (title) {
      this.modify(alias, title);
    }
  }
};
AbstractStrategy = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["feature:service"]))
], AbstractStrategy);

// src/Feature/Alias/Strategy/ReplaceStrategy.ts
var ReplaceStrategy = class extends AbstractStrategy {
  modify(alias, title) {
    alias.setValue(title);
  }
};

// src/Feature/Alias/Strategy/EnsureStrategy.ts
var EnsureStrategy = class extends ReplaceStrategy {
  process(alias, path) {
    if (alias.getValue() === null) {
      super.process(alias, path);
    }
  }
};

// src/Feature/Alias/Strategy/AdjustStrategy.ts
var AdjustStrategy = class extends AbstractStrategy {
  modify(alias, title) {
    var _a;
    let value = (_a = alias.getValue()) != null ? _a : [];
    if (!Array.isArray(value)) {
      value = [value];
    }
    value.push(title);
    alias.setValue(value);
  }
};

// src/Feature/Suggest/SuggestFeature.ts
var SuggestFeature = class extends AbstractFeature {
  constructor(chooser, service) {
    super();
    this.replacer = null;
    this.resolver = service.createResolver(this.getId());
    this.createChooserReplacer(chooser);
  }
  static getId() {
    return "suggest" /* Suggest */;
  }
  isEnabled() {
    return this.state;
  }
  enable() {
    if (this.isEnabled()) {
      return;
    }
    this.replacer.enable();
    this.state = true;
  }
  disable() {
    this.replacer.disable();
    this.state = false;
  }
  getId() {
    return SuggestFeature.getId();
  }
  createChooserReplacer(chooser) {
    if (typeof chooser.prototype.setSuggestions !== "function") {
      return;
    }
    this.replacer = new FunctionReplacer(chooser.prototype, "setSuggestions", this, function(self2, args, vanilla) {
      if (Array.isArray(args == null ? void 0 : args[0])) {
        args[0] = self2.modifySuggestions(args[0]);
      }
      return vanilla.call(this, ...args);
    });
    this.replacer.enable();
  }
  modifySuggestions(items) {
    const aliases = /* @__PURE__ */ new Set();
    for (const item of items) {
      if (!(item == null ? void 0 : item.file)) {
        continue;
      }
      aliases.add(item.alias + item.file.path);
      if (!item || !item.type || item.type !== "file") {
        continue;
      }
      const alias = this.resolver.resolve(item.file.path);
      const value = alias + item.file.path;
      if (alias && !aliases.has(value)) {
        item.alias = alias;
        item.type = "alias";
        aliases.add(value);
      }
    }
    return items;
  }
};
SuggestFeature = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["newable:obsidian:chooser"])),
  __decorateParam(1, inject(inversify_types_default["feature:service"]))
], SuggestFeature);

// src/Feature/Bookmarks/BookmarksManager.ts
var BookmarksManager = class extends AbstractFeature {
  constructor(facade, service, dispatcher, logger) {
    super();
    this.facade = facade;
    this.dispatcher = dispatcher;
    this.logger = logger;
    this.state = "disabled" /* Disabled */;
    this.view = null;
    this.ref = null;
    this.metaRef = null;
    this.activeLeafChangeRef = null;
    this.requestUpdate = () => setTimeout(this.onChanged.bind(this), 100);
    this.resolver = service.createResolver(this.getId());
  }
  setState(state) {
    this.logger.log(`State changed from ${this.state} to ${state}`);
    this.state = state;
  }
  static getId() {
    return "bookmarks" /* Bookmarks */;
  }
  enable() {
    this.tryEnable(true);
  }
  disable() {
    this.logger.log("disable");
    if (this.isEnabled()) {
      this.unsubscribe();
      this.view = null;
      this.setState("disabled" /* Disabled */);
    }
  }
  getId() {
    return BookmarksManager.getId();
  }
  isEnabled() {
    return this.state !== "disabled" /* Disabled */;
  }
  tryEnable(subscribeOnActive = false) {
    var _a;
    const leaf = (_a = this.facade.getLeavesOfType("bookmarks" /* Bookmarks */)) == null ? void 0 : _a[0];
    if (leaf.isVisible()) {
      if (this.state !== "enabled" /* Enabled */ && this.initView() && this.subscribe()) {
        this.setState("enabled" /* Enabled */);
        this.requestUpdate();
      }
      if (this.activeLeafChangeRef) {
        this.dispatcher.removeListener(this.activeLeafChangeRef);
        this.activeLeafChangeRef = null;
      }
    } else if (subscribeOnActive) {
      this.setState("awaiting" /* Awaiting */);
      this.activeLeafChangeRef = this.dispatcher.addListener({
        name: "active:leaf:change",
        cb: () => this.tryEnable()
      });
    }
  }
  initView() {
    var _a, _b;
    const view = (_b = (_a = this.facade.getViewsOfType("bookmarks" /* Bookmarks */)) == null ? void 0 : _a[0]) != null ? _b : null;
    if (view === null) {
      this.logger.log("Could not find a view of bookmarks type");
      return false;
    }
    this.view = view;
    return true;
  }
  subscribe() {
    var _a;
    const plugin = (_a = this.view.plugin) != null ? _a : null;
    if (plugin === null) {
      this.logger.log("Leaf does not have a plugin");
      return false;
    }
    this.ref = plugin.on("changed", () => {
      this.logger.log("Triggered by plugin event");
      this.requestUpdate();
    });
    this.metaRef = this.dispatcher.addListener({
      name: "metadata:cache:changed",
      cb: this.requestUpdate.bind(this)
    });
    return true;
  }
  unsubscribe() {
    if (this.metaRef) {
      this.dispatcher.removeListener(this.metaRef);
    }
    if (this.activeLeafChangeRef) {
      this.dispatcher.removeListener(this.activeLeafChangeRef);
    }
    if (this.state === "enabled" /* Enabled */) {
      this.view.plugin.offref(this.ref);
      this.view.plugin.trigger("changed");
    }
  }
  onChanged(path = null) {
    var _a;
    if (this.state !== "enabled" /* Enabled */) {
      this.logger.log(`Called onChanged when is ${this.state} state`);
      return;
    }
    if (!this.view.plugin) {
      return;
    }
    const items = this.view.plugin.items;
    const itemDoms = this.view.itemDoms;
    const result = {};
    for (const item of items) {
      const titleEl = (_a = itemDoms.get(item)) == null ? void 0 : _a.titleEl;
      result[item.path] = false;
      if (titleEl && item.type === "file" && (item.title === "" || (item == null ? void 0 : item.title) === void 0) && (!path || item.path === path)) {
        this.process(titleEl, item.path).catch(console.error);
        result[item.path] = true;
      }
    }
    return result;
  }
  async process(div, path) {
    var _a;
    const title = (_a = this.resolver.resolve(path)) != null ? _a : div.getText();
    if (div.getText() !== title) {
      div.setText(title);
    }
  }
};
BookmarksManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default["feature:service"])),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(3, inject(inversify_types_default.logger)),
  __decorateParam(3, named("manager:bookmarks"))
], BookmarksManager);

// src/Feature/Graph/GraphManager.ts
var GraphManager = class extends AbstractManager {
  constructor(dispatcher, facade, factory, logger) {
    super();
    this.dispatcher = dispatcher;
    this.facade = facade;
    this.factory = factory;
    this.logger = logger;
    this.enabled = false;
    this.ref = null;
    this.replacement = null;
  }
  static getId() {
    return "graph" /* Graph */;
  }
  getId() {
    return GraphManager.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  doDisable() {
    var _a;
    this.unbind();
    (_a = this.replacement) == null ? void 0 : _a.disable();
    this.enabled = false;
  }
  doEnable() {
    if (!this.initReplacement()) {
      this.bind();
    }
    this.enabled = true;
  }
  doRefresh() {
    var _a;
    for (const view of this.getViews()) {
      (_a = view.renderer) == null ? void 0 : _a.onIframeLoad();
    }
    return Promise.resolve();
  }
  async doUpdate(path) {
    var _a, _b;
    let result = false;
    for (const view of this.getViews()) {
      for (const node of (_b = (_a = view.renderer) == null ? void 0 : _a.nodes) != null ? _b : []) {
        if (node.id === path) {
          result = true;
          view.renderer.onIframeLoad();
          break;
        }
      }
    }
    return result;
  }
  unbind() {
    if (this.ref) {
      this.logger.log("unbind");
      this.dispatcher.removeListener(this.ref);
      this.ref = null;
    }
  }
  bind() {
    this.logger.log("bind");
    this.ref = this.dispatcher.addListener({
      name: "layout:change",
      cb: () => {
        this.initReplacement() && this.unbind();
      }
    });
  }
  initReplacement() {
    const node = this.getFirstNode();
    if (node) {
      this.replacement = this.factory(
        Object.getPrototypeOf(node),
        "getDisplayText",
        this,
        function(self2, defaultArgs, vanilla) {
          const text = self2.resolver.resolve(this.id);
          return text != null ? text : vanilla.call(this, ...defaultArgs);
        }
      );
      this.replacement.enable();
      this.refresh().catch(console.error);
      return true;
    } else if (this.getViews().length) {
      this.runBackgroundInit();
      return true;
    }
    return false;
  }
  runBackgroundInit() {
    setTimeout(async () => {
      this.logger.log("init by backgroundInit");
      this.initReplacement();
    }, 200);
  }
  getFirstNode() {
    var _a, _b, _c;
    for (const view of this.getViews()) {
      const node = (_c = ((_b = (_a = view.renderer) == null ? void 0 : _a.nodes) != null ? _b : []).first()) != null ? _c : null;
      if (node) {
        return node;
      }
    }
    return null;
  }
  getViews() {
    return [...this.facade.getViewsOfType("graph" /* G */), ...this.facade.getViewsOfType("localgraph" /* LG */)];
  }
};
GraphManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(2, inject(inversify_types_default["factory:replacer"])),
  __decorateParam(3, inject(inversify_types_default.logger)),
  __decorateParam(3, named("manager:graph"))
], GraphManager);

// src/Feature/MarkdownHeader/MarkdownHeaderManager.ts
var MarkdownHeaderManager = class extends AbstractManager {
  constructor(dispatcher, facade, logger) {
    super();
    this.dispatcher = dispatcher;
    this.facade = facade;
    this.logger = logger;
    this.ref = null;
    this.enabled = false;
  }
  static getId() {
    return "header" /* Header */;
  }
  getId() {
    return MarkdownHeaderManager.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  doDisable() {
    this.dispatcher.removeListener(this.ref);
    this.facade.getViewsOfType("markdown" /* MD */).forEach(this.revert.bind(this));
    this.enabled = false;
  }
  doEnable() {
    this.ref = this.dispatcher.addListener({
      name: "layout:change",
      cb: () => this.refresh().catch(console.error)
    });
    this.enabled = true;
  }
  async doRefresh() {
    await this.innerUpdate();
    return Promise.resolve({});
  }
  async doUpdate(path) {
    return this.innerUpdate(path);
  }
  async innerUpdate(path = null) {
    const views = this.facade.getViewsOfType("markdown" /* MD */);
    let updated = false;
    for (const view of views) {
      if (view.file && (!path || view.file.path === path)) {
        const title = this.resolver.resolve(view.file.path);
        this.setTitle(view, title);
        updated = true;
      }
    }
    return updated;
  }
  setTitle(view, title) {
    this.logger.log(`Set title "${title != null ? title : " "}" for ${view.file.path}`);
    const container = view.titleContainerEl;
    if (!title) {
      return this.revert(view);
    }
    let el = this.findExistingFakeEl(container);
    if (title && el && el.innerText === title && !el.hidden) {
      return this.logger.log(`Set title "${title}" for ${view.file.path} is skipped`);
    }
    el = el != null ? el : this.createFakeEl(title, view);
    el.innerText = title;
    el.hidden = false;
    view.titleEl.hidden = true;
  }
  revert(view) {
    if (!view.file) {
      return;
    }
    const container = view.titleContainerEl;
    const el = this.findExistingFakeEl(container);
    if (el) {
      container.removeChild(el);
    }
    view.titleEl.hidden = false;
    return;
  }
  findExistingFakeEl(container) {
    for (const i of Array.from(container.children)) {
      if (i.hasAttribute("data-ofmt") && i instanceof HTMLDivElement) {
        return i;
      }
    }
    return null;
  }
  createFakeEl(title, view) {
    const el = document.createElement("div");
    el.className = "view-header-title";
    el.dataset["ofmt"] = "true";
    el.innerText = title;
    el.hidden = true;
    el.onclick = () => {
      el.hidden = true;
      view.titleEl.hidden = false;
      view.titleEl.focus();
      view.titleEl.onblur = () => {
        view.titleEl.hidden = true;
        el.hidden = false;
      };
    };
    view.titleContainerEl.appendChild(el);
    return el;
  }
};
MarkdownHeaderManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named(`manager:${MarkdownHeaderManager.getId()}`))
], MarkdownHeaderManager);

// src/Feature/Alias/Validator.ts
var ValidatorRequired = class {
  validate(metadata) {
    return metadata.frontmatter ? true : false;
  }
};
ValidatorRequired = __decorateClass([
  injectable()
], ValidatorRequired);
var ValidatorAuto = class {
  validate(metadata) {
    if (!metadata.frontmatter) {
      metadata.frontmatter = {
        position: {
          end: {
            col: 0,
            line: 0,
            offset: 0
          },
          start: {
            col: 0,
            line: 0,
            offset: 0
          }
        }
      };
    }
    return true;
  }
};
ValidatorAuto = __decorateClass([
  injectable()
], ValidatorAuto);

// src/Feature/InlineTitle/InlineTitleManager.ts
var InlineTitleManager = class extends AbstractManager {
  constructor(dispatcher, facade, logger, fakeTitleElementService) {
    super();
    this.dispatcher = dispatcher;
    this.facade = facade;
    this.logger = logger;
    this.fakeTitleElementService = fakeTitleElementService;
    this.ref = null;
    this.enabled = false;
  }
  static getId() {
    return "inlineTitle" /* InlineTitle */;
  }
  getId() {
    return InlineTitleManager.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  doDisable() {
    this.dispatcher.removeListener(this.ref);
    this.fakeTitleElementService.removeAll();
    this.enabled = false;
  }
  doEnable() {
    this.ref = this.dispatcher.addListener({
      name: "layout:change",
      cb: () => this.refresh().catch(console.error)
    });
    this.enabled = true;
  }
  async doRefresh() {
    await this.innerUpdate();
    return Promise.resolve({});
  }
  async doUpdate(path) {
    return this.innerUpdate(path);
  }
  async resolve(path) {
    return this.resolver.resolve(path);
  }
  async innerUpdate(path = null) {
    const views = this.facade.getViewsOfType("markdown" /* MD */);
    const promises = [];
    const ids = [];
    for (const view of views) {
      if (view.file && (!path || view.file.path === path)) {
        promises.push(
          this.resolve(view.file.path).then(
            (title) => title ? ids.push(this.setTitle(view, title)) : this.resetTitle(this.getTitleElId(view))
          ).catch(console.error)
        );
      }
    }
    await Promise.all(promises);
    this.fakeTitleElementService.removeExcept(ids);
    return promises.length > 0;
  }
  resetTitle(id3) {
    this.fakeTitleElementService.remove(id3);
  }
  setTitle(view, title) {
    this.logger.log(`Set inline title "${title != null ? title : " "}" for ${view.file.path}`);
    const id3 = this.getTitleElId(view);
    const original = view.inlineTitleEl;
    const { created } = this.fakeTitleElementService.getOrCreate({ original, title, id: id3, events: ["click"] });
    if (created && !original.isActiveElement()) {
      this.fakeTitleElementService.setVisible(id3, true);
    }
    return id3;
  }
  getTitleElId(view) {
    return `${view.getState().mode}-${this.getId()}-${view.leaf.id}`;
  }
};
InlineTitleManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named(`manager:${InlineTitleManager.getId()}`)),
  __decorateParam(3, inject(inversify_types_default["service:fake_title_element"]))
], InlineTitleManager);

// src/Feature/Canvas/CanvasManager.ts
var import_obsidian5 = require("obsidian");
var CanvasManager = class extends AbstractManager {
  constructor(dispatcher, facade, logger, fakeTitleElementService) {
    super();
    this.dispatcher = dispatcher;
    this.facade = facade;
    this.logger = logger;
    this.fakeTitleElementService = fakeTitleElementService;
    this.ref = null;
    this.enabled = false;
    this.queue = /* @__PURE__ */ new Set();
    this.updateByRequestFrame = (0, import_obsidian5.debounce)(
      () => {
        this.logger.log(`updateByRequestFrame`, this.queue);
        Array.from(this.queue.values()).forEach((e) => this.innerUpdate(e) && this.queue.delete(e));
      },
      1e3,
      true
    );
  }
  static getId() {
    return "canvas" /* Canvas */;
  }
  getId() {
    return CanvasManager.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  doDisable() {
    this.dispatcher.removeListener(this.ref);
    this.fakeTitleElementService.removeAll();
    this.enabled = false;
  }
  doEnable() {
    this.ref = this.dispatcher.addListener({
      name: "layout:change",
      cb: () => this.refresh().catch(console.error)
    });
    this.enabled = true;
  }
  async doRefresh() {
    await this.innerUpdate();
    return Promise.resolve({});
  }
  async doUpdate(path) {
    return this.innerUpdate(path);
  }
  async resolve(path) {
    return this.resolver.resolve(path);
  }
  async innerUpdate(path = null) {
    const promises = [];
    this.logger.log(`inner update "${path}"`);
    const canvasViews = this.facade.getViewsOfType("canvas" /* CV */);
    for (const view of canvasViews) {
      if (!view.file) {
        continue;
      }
      const currentPath = view.file.path;
      const canvas = view.canvas;
      for (const node of canvas.nodes.values()) {
        if (!node.filePath || path && path !== node.filePath && path !== currentPath) {
          continue;
        }
        promises.push(
          this.resolve(node.filePath).then((title) => {
            if (title) {
              this.setNodeTitle(node, title);
            } else {
              this.restoreNodeTitle(node);
            }
          })
        );
      }
      if (!canvas.requestFrame._originalFunc) {
        const originalFunc = canvas.requestFrame;
        const manager = this;
        canvas.requestFrame = function(...args) {
          canvas.requestFrame._originalFunc.apply(this, args);
          if (manager.enabled) {
            manager.queue.add(currentPath);
            manager.updateByRequestFrame();
          } else {
            canvas.requestFrame = canvas.requestFrame._originalFunc;
          }
        };
        canvas.requestFrame._originalFunc = originalFunc;
      }
    }
    await Promise.all(promises);
    return promises.length > 0;
  }
  restoreNodeTitle(node) {
    const ids = this.makeFakeElementIds(node.canvas.view.file.path, node.filePath);
    this.fakeTitleElementService.remove(ids.label);
    this.fakeTitleElementService.remove(ids.inline);
  }
  async setNodeTitle(node, title) {
    var _a;
    do {
      await new Promise((resolve2) => setTimeout(resolve2, 200));
    } while (!node.initialized);
    const view = node.canvas.view;
    this.logger.log(`Set canvas title "${title}" for canvas "${view.file.path}" and node "${node.filePath}"`);
    const ids = this.makeFakeElementIds(view.file.path, node.filePath);
    const label = this.fakeTitleElementService.getOrCreate({
      original: node.labelEl,
      title,
      id: ids.label,
      events: ["hover"]
    });
    if (label == null ? void 0 : label.created) {
      this.fakeTitleElementService.setVisible(ids.label, true);
    }
    const inlineTitleEl = (_a = node.contentEl) == null ? void 0 : _a.querySelector(".inline-title");
    const inline = this.fakeTitleElementService.getOrCreate({
      original: inlineTitleEl,
      title,
      id: ids.inline,
      events: ["click"]
    });
    if (inline == null ? void 0 : inline.created) {
      this.fakeTitleElementService.setVisible(ids.inline, true);
    }
    if (node.placeholderEl.getText() !== title) {
      node.placeholderEl.setText(title);
    }
  }
  makeFakeElementIds(canvasPath, nodePath) {
    const prefix = `${canvasPath}-${nodePath}`;
    return {
      label: `${prefix}-label`,
      inline: `${prefix}-inline`
    };
  }
};
CanvasManager = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named(`manager:${CanvasManager.getId()}`)),
  __decorateParam(3, inject(inversify_types_default["service:fake_title_element"]))
], CanvasManager);

// src/Utils/FeatureHelper.ts
var FeatureHelper = class {
  getOrderedFeatures() {
    return [
      "alias" /* Alias */,
      "explorer" /* Explorer */,
      "graph" /* Graph */,
      "header" /* Header */,
      "bookmarks" /* Bookmarks */,
      "search" /* Search */,
      "suggest" /* Suggest */,
      "tab" /* Tab */,
      "inlineTitle" /* InlineTitle */,
      "canvas" /* Canvas */,
      "backlink" /* Backlink */,
      "noteLink" /* NoteLink */,
      "windowFrame" /* WindowFrame */
    ];
  }
  getName(feature) {
    switch (feature) {
      case "alias" /* Alias */:
        return t2("feature.alias.name");
      case "explorer" /* Explorer */:
        return t2("feature.explorer.name");
      case "graph" /* Graph */:
        return t2("feature.graph.name");
      case "header" /* Header */:
        return t2("feature.header.name");
      case "bookmarks" /* Bookmarks */:
        return t2("feature.bookmarks.name");
      case "search" /* Search */:
        return t2("feature.search.name");
      case "suggest" /* Suggest */:
        return t2("feature.suggest.name");
      case "tab" /* Tab */:
        return t2("feature.tab.name");
      case "inlineTitle" /* InlineTitle */:
        return t2("feature.inlineTitle.name");
      case "canvas" /* Canvas */:
        return t2("feature.canvas.name");
      case "backlink" /* Backlink */:
        return t2("feature.backlink.name");
      case "noteLink" /* NoteLink */:
        return t2("feature.noteLink.name");
      case "windowFrame" /* WindowFrame */:
        return t2("feature.windowFrame.name");
    }
  }
  getDescription(feature) {
    switch (feature) {
      case "alias" /* Alias */:
        return t2("feature.alias.desc");
      case "explorer" /* Explorer */:
        return t2("feature.explorer.desc");
      case "graph" /* Graph */:
        return t2("feature.graph.desc");
      case "header" /* Header */:
        return t2("feature.header.desc");
      case "bookmarks" /* Bookmarks */:
        return t2("feature.bookmarks.desc");
      case "search" /* Search */:
        return t2("feature.search.desc");
      case "suggest" /* Suggest */:
        return t2("feature.suggest.desc");
      case "tab" /* Tab */:
        return t2("feature.tab.desc");
      case "inlineTitle" /* InlineTitle */:
        return t2("feature.inlineTitle.desc");
      case "canvas" /* Canvas */:
        return t2("feature.canvas.desc");
      case "backlink" /* Backlink */:
        return t2("feature.backlink.desc");
      case "noteLink" /* NoteLink */:
        return t2("feature.noteLink.desc");
      case "windowFrame" /* WindowFrame */:
        return t2("feature.windowFrame.desc");
    }
  }
  getDocSection(feature) {
    switch (feature) {
      case "noteLink" /* NoteLink */:
        return "Features/NoteLink.md";
      default:
        return null;
    }
  }
};
FeatureHelper = __decorateClass([
  injectable()
], FeatureHelper);

// src/Feature/FeatureService.ts
var FeatureService = class {
  constructor(service) {
    this.service = service;
  }
  createResolver(name) {
    const main = this.service.createNamed(`${name}:main`);
    const fallback = this.service.createNamed(`${name}:fallback`);
    return {
      resolve(path) {
        var _a;
        return (_a = main.resolve(path)) != null ? _a : fallback.resolve(path);
      }
    };
  }
};
FeatureService = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["resolver:service"]))
], FeatureService);

// src/Feature/Backlink/BacklinkFeature.ts
var BacklinkFeature = class extends AbstractFeature {
  constructor(facade, logger, dispatcher, service, mutateService) {
    super();
    this.facade = facade;
    this.logger = logger;
    this.dispatcher = dispatcher;
    this.mutateService = mutateService;
    this.enabled = false;
    this.refs = [];
    this.dProcess = null;
    this.timer = null;
    this.isBacklinkWrapped = false;
    this.resolver = service.createResolver(this.getId());
    this.dProcess = () => {
      if (this.timer) {
        clearTimeout(this.timer);
      }
      this.timer = window.setTimeout(this.process.bind(this), 50);
    };
  }
  static getId() {
    return "backlink" /* Backlink */;
  }
  isEnabled() {
    return this.enabled;
  }
  enable() {
    this.enabled = this.facade.isInternalPluginEnabled("backlink" /* Backlink */);
    this.logger.log(`Manager state is ${this.enabled}`);
    if (!this.enabled) {
      return;
    }
    this.refs = [
      this.dispatcher.addListener({
        name: "metadata:cache:changed",
        cb: this.dProcess.bind(this)
      }),
      this.dispatcher.addListener({
        name: "layout:change",
        cb: this.dProcess.bind(this)
      })
    ];
    this.process();
  }
  disable() {
    this.enabled = false;
    if (this.refs.length) {
      this.refs.forEach((e) => this.dispatcher.removeListener(e));
      this.refs = [];
      this.mutateService.destroyByTag(this.getId());
    }
  }
  getId() {
    return BacklinkFeature.getId();
  }
  process() {
    var _a;
    this.logger.log("process");
    this.processBacklinkLayout();
    for (const view of this.facade.getViewsOfType("markdown" /* MD */)) {
      const dom = (_a = view == null ? void 0 : view.backlinks) == null ? void 0 : _a.backlinkDom;
      if (dom) {
        this.mutateService.wrapDom(dom, this.resolver, this.getId());
      }
    }
  }
  processBacklinkLayout() {
    var _a, _b;
    if (this.isBacklinkWrapped) {
      return;
    }
    const view = (_a = this.facade.getViewsOfType("backlink" /* BL */)[0]) != null ? _a : null;
    if ((_b = view == null ? void 0 : view.backlink) == null ? void 0 : _b.backlinkDom) {
      this.mutateService.wrapDom(view.backlink.backlinkDom, this.resolver, this.getId());
    }
    this.isBacklinkWrapped = true;
  }
};
BacklinkFeature = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default.logger)),
  __decorateParam(1, named("backlink")),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(3, inject(inversify_types_default["feature:service"])),
  __decorateParam(4, inject(inversify_types_default["service:search:dom:wrapper"]))
], BacklinkFeature);

// src/Feature/NoteLink/NoteLinkFeature.ts
var import_obsidian6 = require("obsidian");
var NoteLinkFeature = class extends AbstractFeature {
  constructor(featureService, service, dispatcher, approve, facade, config) {
    super();
    this.service = service;
    this.dispatcher = dispatcher;
    this.approve = approve;
    this.facade = facade;
    this.config = config;
    this.enabled = false;
    this.refs = [];
    this.resolver = featureService.createResolver(this.getId());
  }
  static getId() {
    return "noteLink" /* NoteLink */;
  }
  disable() {
    this.refs.forEach((e) => this.dispatcher.removeListener(e));
    this.refs = [];
    this.enabled = false;
  }
  enable() {
    this.refs.push(
      this.dispatcher.addListener({
        name: "metadata:cache:changed",
        cb: (e) => this.requestApprove(e.get().path)
      })
    );
    this.enabled = true;
  }
  getId() {
    return NoteLinkFeature.getId();
  }
  isEnabled() {
    return this.enabled;
  }
  shouldChangeLink(link, destTitle) {
    if (!destTitle || destTitle === link.alias) {
      return false;
    }
    const hasAlias = /.+\|.+/.test(link.original);
    return this.config.strategy === "all" /* All */ || !hasAlias;
  }
  async requestApprove(path) {
    const links = this.service.getNoteLinks(path);
    const changes = [];
    for (const link of links) {
      const title = this.resolver.resolve(link.dest);
      if (this.shouldChangeLink(link, title)) {
        changes.push({
          original: link.original,
          replace: `[[${link.link}|${title}]]`
        });
      }
    }
    if (changes.length === 0) {
      return;
    }
    const exec = this.config.approval ? await this.approve.request(path, changes) : true;
    if (exec) {
      await this.executeChanges(path, changes);
    }
  }
  async executeChanges(path, changes) {
    const file = this.facade.getTFile(path);
    let content = file instanceof import_obsidian6.TFile ? await this.facade.getFileContent(file) : null;
    if (!content) {
      return;
    }
    for (const { original, replace } of changes) {
      content = content.replace(original, replace);
    }
    await this.facade.modifyFile(file, content).catch(console.error);
  }
};
NoteLinkFeature = __decorateClass([
  __decorateParam(0, inject(inversify_types_default["feature:service"])),
  __decorateParam(1, inject(inversify_types_default["service:note:link"])),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(3, inject(inversify_types_default["feature:notelink:approve"])),
  __decorateParam(4, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(5, inject(inversify_types_default["feature:config"])),
  __decorateParam(5, named("noteLink" /* NoteLink */))
], NoteLinkFeature);

// src/Feature/NoteLink/NoteLinkApprove.ts
var NoteLinkApprove = class {
  constructor(factory) {
    this.factory = factory;
  }
  async request(path, changes) {
    return new Promise((r) => {
      const modal = this.factory();
      let approved = false;
      modal.onClose = () => r(approved);
      const { contentEl } = modal;
      contentEl.setText(`Approve changes for ${path}`);
      contentEl.createEl(
        "ul",
        null,
        (ul) => changes.forEach((e) => ul.createEl("li", { text: `${e.original} => ${e.replace}` }))
      );
      const btnContainer = contentEl.createDiv("modal-button-container");
      btnContainer.createEl("button", { cls: "mod-cta", text: t2("apply") }).addEventListener("click", () => {
        approved = true;
        modal.close();
      });
      btnContainer.createEl("button", { text: t2("cancel") }).addEventListener("click", () => modal.close());
      modal.open();
    });
  }
};
NoteLinkApprove = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:obsidian:modal"]))
], NoteLinkApprove);

// src/Feature/Alias/AliasConfig.ts
var AliasConfig = class {
  constructor(storage) {
    this.storage = storage;
  }
  get config() {
    return this.storage.get("features").get("alias" /* Alias */);
  }
  getStrategy() {
    return this.config.get("strategy").value();
  }
  getValidator() {
    return this.config.get("validator").value();
  }
};
AliasConfig = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["settings:storage"]))
], AliasConfig);

// src/Feature/Explorer/ExplorerFileItemMutator.ts
var ExplorerFileItemMutator = class {
  constructor(item, resolver) {
    this.item = item;
    this.resolver = resolver;
    item.updateTitle = this.updateTitle.bind(this);
    item.startRename = this.startRename.bind(this);
  }
  destroy() {
    this.item.updateTitle = this.getProto().updateTitle;
    this.item.startRename = this.getProto().startRename;
  }
  getProto() {
    return Object.getPrototypeOf(this.item);
  }
  updateTitle() {
    this.getProto().updateTitle.call(this.item);
    const title = this.resolver.resolve(this.item.file.path);
    (title == null ? void 0 : title.length) > 0 && this.item.innerEl.setText(title);
  }
  startRename() {
    this.item.innerEl.setText(this.item.getTitle());
    return this.getProto().startRename.call(this.item);
  }
};
ExplorerFileItemMutator = __decorateClass([
  injectable()
], ExplorerFileItemMutator);

// src/Feature/WindowFrame/WindowFrameFeature.ts
var import_obsidian7 = require("obsidian");
var WindowFrameFeature = class {
  constructor(facade, featureService, dispatcher) {
    this.facade = facade;
    this.dispatcher = dispatcher;
    this.vanillaUpdateTitle = null;
    this.enabled = false;
    this.ref = null;
    this.resolver = featureService.createResolver(this.getId());
    this.ref = dispatcher.addListener({ name: "metadata:cache:changed", cb: this.onCacheChanged.bind(this) });
  }
  static getId() {
    return "windowFrame" /* WindowFrame */;
  }
  onCacheChanged(e) {
    var _a;
    if (((_a = this.facade.getActiveFile()) == null ? void 0 : _a.path) === e.get().path) {
      this.updateTitle();
    }
  }
  updateTitle() {
    var _a;
    const e = this.facade.getMostRecentLeaf(this.facade.getActiveLeaf().getContainer());
    let text;
    if (e.view instanceof import_obsidian7.EditableFileView && e.getViewState().state.file) {
      text = this.resolver.resolve(e.getViewState().state.file);
    } else {
      text = (_a = e == null ? void 0 : e.getDisplayText().trim()) != null ? _a : "";
    }
    document.title = this.facade.getAppTitle(text);
  }
  disable() {
    this.dispatcher.removeListener(this.ref);
    this.facade.getWorkspace().updateTitle = this.vanillaUpdateTitle;
    this.facade.getWorkspace().updateTitle();
    this.enabled = false;
  }
  enable() {
    this.vanillaUpdateTitle = this.facade.getWorkspace().updateTitle;
    this.facade.getWorkspace().updateTitle = this.updateTitle.bind(this);
    this.facade.getWorkspace().updateTitle();
    this.enabled = true;
  }
  isEnabled() {
    return this.enabled;
  }
  getId() {
    return "windowFrame" /* WindowFrame */;
  }
};
WindowFrameFeature = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"])),
  __decorateParam(1, inject(inversify_types_default["feature:service"])),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"]))
], WindowFrameFeature);

// config/services/feature.config.ts
var feature_config_default = (container) => {
  container.bind(inversify_types_default["feature:service"]).to(FeatureService).inSingletonScope();
  container.bind(inversify_types_default["feature:composer"]).to(FeatureComposer).inSingletonScope();
  container.bind(inversify_types_default["manager:composer"]).to(ManagerComposer).inSingletonScope();
  container.bind(inversify_types_default["feature:helper"]).to(FeatureHelper).inSingletonScope();
  container.bind(inversify_types_default["factory:feature"]).toAutoNamedFactory(inversify_types_default.feature).onActivation((c, i) => (name) => {
    const feature = i(name);
    if (feature instanceof AbstractManager) {
      const service = c.container.get(inversify_types_default["feature:service"]);
      feature.setResolver(service.createResolver(feature.getId()));
    }
    return feature;
  });
  container.bind(inversify_types_default.feature).to(AliasFeature).whenTargetNamed(AliasFeature.getId());
  container.bind(inversify_types_default.feature).to(WindowFrameFeature).whenTargetNamed(WindowFrameFeature.getId());
  container.bind(inversify_types_default.feature).to(ExplorerManager).whenTargetNamed(ExplorerManager.getId());
  container.bind(inversify_types_default.feature).to(SearchManager).whenTargetNamed(SearchManager.getId());
  container.bind(inversify_types_default.feature).to(BookmarksManager).whenTargetNamed(BookmarksManager.getId());
  container.bind(inversify_types_default.feature).to(TabManager).whenTargetNamed(TabManager.getId());
  container.bind(inversify_types_default.feature).to(SuggestFeature).whenTargetNamed(SuggestFeature.getId());
  container.bind(inversify_types_default.feature).to(GraphManager).whenTargetNamed(GraphManager.getId());
  container.bind(inversify_types_default.feature).to(MarkdownHeaderManager).whenTargetNamed(MarkdownHeaderManager.getId());
  container.bind(inversify_types_default.feature).to(BacklinkFeature).whenTargetNamed(BacklinkFeature.getId());
  container.bind(inversify_types_default.feature).to(NoteLinkFeature).whenTargetNamed(NoteLinkFeature.getId());
  container.bind(inversify_types_default.feature).to(InlineTitleManager).whenTargetNamed(InlineTitleManager.getId());
  container.bind(inversify_types_default.feature).to(CanvasManager).whenTargetNamed(CanvasManager.getId());
  container.bind(inversify_types_default["factory:alias:modifier:strategy"]).toAutoNamedFactory(inversify_types_default["alias:modifier:strategy"]);
  container.bind(inversify_types_default["alias:modifier:strategy"]).to(EnsureStrategy).whenTargetNamed("ensure" /* Ensure */);
  container.bind(inversify_types_default["alias:modifier:strategy"]).to(AdjustStrategy).whenTargetNamed("adjust" /* Adjust */);
  container.bind(inversify_types_default["alias:modifier:strategy"]).to(ReplaceStrategy).whenTargetNamed("replace" /* Replace */);
  container.bind(inversify_types_default["feature:alias:config"]).to(AliasConfig);
  container.bind(inversify_types_default["factory:alias:modifier:validator"]).toAutoNamedFactory(inversify_types_default["alias:modifier:validator"]);
  container.bind(inversify_types_default["alias:modifier:validator"]).to(ValidatorAuto).whenTargetNamed("fa" /* FrontmatterAuto */);
  container.bind(inversify_types_default["alias:modifier:validator"]).to(ValidatorRequired).whenTargetNamed("fr" /* FrontmatterRequired */);
  container.bind(inversify_types_default["feature:notelink:approve"]).to(NoteLinkApprove);
  container.bind(inversify_types_default["feature:config"]).toDynamicValue((c) => {
    const feature = c.currentRequest.target.getNamedTag().value;
    return c.container.get(inversify_types_default["settings:storage"]).get("features").get(feature).value();
  }).when(() => true);
  container.bind(inversify_types_default["feature:explorer:file_mutator:factory"]).toFunction(
    (item, resolver) => new ExplorerFileItemMutator(item, resolver)
  );
  container.bind(inversify_types_default["feature:explorer:sort"]).to(ExplorerSort);
  container.bind(inversify_types_default["factory:feature:explorer:sort"]).toFunction(() => {
    const enabled = container.get(inversify_types_default["settings:storage"]).get("features").get("explorer" /* Explorer */).get("sort").value();
    return enabled ? container.get(inversify_types_default["feature:explorer:sort"]) : null;
  });
};

// src/Settings/FeatureBuilder/AbstractBuilder.ts
var import_obsidian8 = require("obsidian");
var AbstractBuilder = class {
  constructor(storage, factory) {
    this.storage = storage;
    this.factory = factory;
  }
  setContext(context) {
    this.context = context;
  }
  build(options) {
    this.options = options;
    this.id = options.id;
    this.config = options.config;
    this.doBuild();
  }
  doBuild() {
  }
  dispatchChanges() {
    this.context.getDispatcher().dispatch("settings:tab:feature:changed", new Event({ id: this.options.id, value: this.config }));
  }
  buildEnable() {
    var _a;
    const fragment = ((_a = this.options.doc) == null ? void 0 : _a.link) ? createFragment(
      (e) => e.createEl("a", {
        text: this.options.name,
        href: this.options.doc.link
      })
    ) : this.options.name;
    return new import_obsidian8.Setting(this.context.getContainer()).setName(fragment).setDesc(this.options.desc).addButton((b) => {
      this.manageButton = b.setButtonText(t2("manage")).onClick(() => {
        const modal = this.factory();
        modal.titleEl.setText(this.options.name);
        this.onModalShow(modal);
        modal.open();
      });
      this.toggleManageButtonVisible();
    }).addToggle(
      (e) => e.setValue(this.options.config.enabled).onChange((v) => {
        this.options.config.enabled = v;
        this.toggleManageButtonVisible();
        this.dispatchChanges();
      })
    );
  }
  buildTemplates(el) {
    el.createEl("h6", { text: "Templates" });
    const templateStorage = this.storage.get("templates");
    for (const type of ["main", "fallback"]) {
      const tStorage = this.storage.get("features").get(this.id).get("templates").get(type);
      const setting = new import_obsidian8.Setting(el).setName(t2(`template.${type}`)).setDesc(this.getDesc(type, tStorage.value())).addText((e) => {
        var _a;
        e.setValue((_a = tStorage.value()) != null ? _a : "").setPlaceholder(templateStorage.get("common").get(type).value()).onChange((v) => {
          setting.setDesc(this.getDesc(type, v));
          this.config.templates[type] = v;
          this.dispatchChanges();
        });
      });
    }
  }
  toggleManageButtonVisible() {
    this.manageButton.buttonEl.toggleVisibility(this.config.enabled);
  }
  getDesc(type, value) {
    if (value) {
      return t2("template.specific");
    } else {
      return t2("template.used", { value: this.storage.get("templates").get("common").get(type).value() });
    }
  }
};
AbstractBuilder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["settings:storage"])),
  __decorateParam(1, inject(inversify_types_default["factory:obsidian:modal"]))
], AbstractBuilder);

// src/Settings/FeatureBuilder/DefaultBuilder.ts
var DefaultBuilder = class extends AbstractBuilder {
  doBuild() {
    this.buildEnable();
  }
  onModalShow(modal) {
    this.buildTemplates(modal.contentEl);
  }
};
DefaultBuilder = __decorateClass([
  injectable()
], DefaultBuilder);

// src/Settings/FeatureBuilder/AliasBuilder.ts
var import_obsidian9 = require("obsidian");
var AliasBuilder = class extends AbstractBuilder {
  doBuild() {
    this.buildEnable();
    this.extraSettingContainerEl = this.context.getContainer().createDiv();
  }
  onModalShow(modal) {
    this.buildValidatorDropdown(modal.contentEl);
    this.buildStrategyDropdown(modal.contentEl);
    this.buildTemplates(modal.contentEl);
  }
  buildValidatorDropdown(el) {
    const value = this.config.validator;
    const s = new import_obsidian9.Setting(el).setName(t2("strategy"));
    this.validatorDropdown = new import_obsidian9.DropdownComponent(s.controlEl).addOptions({
      ["fa" /* FrontmatterAuto */]: t2("feature.alias.validator.auto.name"),
      ["fr" /* FrontmatterRequired */]: t2("feature.alias.validator.required.name")
    }).setValue(value ? value : "fr" /* FrontmatterRequired */).onChange((v) => {
      this.actualizeValidatorDesc(s, v);
      this.config.validator = v;
      this.dispatchChanges();
    });
    this.actualizeValidatorDesc(s, this.validatorDropdown.getValue());
  }
  actualizeValidatorDesc(setting, value) {
    let text = "";
    switch (value) {
      case "fa" /* FrontmatterAuto */: {
        text = t2("feature.alias.validator.auto.desc");
        break;
      }
      case "fr" /* FrontmatterRequired */: {
        text = t2("feature.alias.validator.required.desc");
        break;
      }
    }
    setting.setDesc(text);
  }
  buildStrategyDropdown(el) {
    const value = this.config.strategy;
    const s = new import_obsidian9.Setting(el).setName(t2("strategy"));
    this.strategyDropdown = new import_obsidian9.DropdownComponent(s.controlEl).addOptions({
      ["ensure" /* Ensure */]: t2("feature.alias.strategy.ensure.name"),
      ["adjust" /* Adjust */]: t2("feature.alias.strategy.adjust.name"),
      ["replace" /* Replace */]: t2("feature.alias.strategy.replace.name")
    }).setValue(value ? value : "ensure" /* Ensure */).onChange((v) => {
      this.actualizeStrategyDesc(s, v);
      this.options.config.strategy = v;
      this.dispatchChanges();
    });
    this.actualizeStrategyDesc(s, this.strategyDropdown.getValue());
  }
  actualizeStrategyDesc(setting, value) {
    let desc = "";
    switch (value) {
      case "ensure" /* Ensure */:
        desc = t2("feature.alias.strategy.ensure.desc");
        break;
      case "replace" /* Replace */:
        desc = t2("feature.alias.strategy.replace.desc");
        break;
      case "adjust" /* Adjust */:
        desc = t2("feature.alias.strategy.adjust.desc");
        break;
    }
    setting.setDesc(desc);
  }
};

// src/Settings/SettingBuilders/AbstractBuilder.ts
var AbstractBuilder2 = class {
  constructor() {
    this.item = null;
    this.container = null;
    this.name = null;
  }
  build({ name, container, item }) {
    this.name = name;
    this.item = item;
    this.container = container;
    this.doBuild();
  }
};
AbstractBuilder2 = __decorateClass([
  injectable()
], AbstractBuilder2);

// src/Settings/SettingBuilders/Templates/TemplatesBuilder.ts
var import_obsidian10 = require("obsidian");
var TemplatesBuilder = class extends AbstractBuilder2 {
  constructor(factory, helper) {
    super();
    this.factory = factory;
    this.helper = helper;
  }
  support(k) {
    return k === "templates";
  }
  doBuild() {
    this.buildTemplate();
    this.buildFallbackTemplate();
  }
  createDocFragment(text, section = null) {
    return createFragment(
      (e) => e.createEl("a", {
        href: GITHUB_DOCS + "Templates.md" + (section ? `#${section}` : ""),
        text
      })
    );
  }
  buildTemplate() {
    new import_obsidian10.Setting(this.container).setName(this.createDocFragment(t2("template.common.main.name"))).setDesc(t2("template.common.main.desc")).addText(
      (text) => {
        var _a;
        return text.setPlaceholder(t2("template.placeholder")).setValue((_a = this.item.get("common").get("main").value()) != null ? _a : "").onChange(async (value) => this.item.get("common").get("main").set(value));
      }
    );
  }
  buildFallbackTemplate() {
    new import_obsidian10.Setting(this.container).setName(this.createDocFragment(t2("template.common.fallback.name"))).setDesc(t2("template.common.fallback.desc")).addText(
      (text) => {
        var _a;
        return text.setPlaceholder(t2("template.placeholder")).setValue((_a = this.item.get("common").get("fallback").value()) != null ? _a : "").onChange(async (value) => this.item.get("common").get("fallback").set(value));
      }
    );
  }
};
TemplatesBuilder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:obsidian:modal"])),
  __decorateParam(1, inject(inversify_types_default["feature:helper"]))
], TemplatesBuilder);

// src/Settings/SettingBuilders/Rules/RulesBuilder.ts
var RulesBuiler = class extends AbstractBuilder2 {
  constructor(factory) {
    super();
    this.factory = factory;
  }
  get orderedKeys() {
    return ["paths", "delimiter"];
  }
  doBuild() {
    this.container.createEl("h4", { text: t2("rule.name") });
    const builders = this.factory("rules");
    for (const key of this.orderedKeys) {
      for (const builder of builders) {
        builder.support(key) && builder.build({
          name: key,
          container: this.container,
          item: this.item.get(key)
        });
      }
    }
  }
  support(k) {
    return k === "rules";
  }
};
RulesBuiler = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:settings:builder"]))
], RulesBuiler);

// src/Settings/SettingBuilders/Features/FeaturesBuilder.ts
var FeaturesBuilder = class extends AbstractBuilder2 {
  constructor(builderFactory, dispatcher, helper) {
    super();
    this.builderFactory = builderFactory;
    this.dispatcher = dispatcher;
    this.helper = helper;
    this.ref = null;
  }
  support(k) {
    return k === "features";
  }
  doBuild() {
    var _a;
    this.bind();
    this.container.createEl("h4", { text: t2("features") });
    const data = this.helper.getOrderedFeatures().map((feature) => ({
      desc: this.helper.getDescription(feature),
      feature,
      name: this.helper.getName(feature),
      doc: {
        link: this.helper.getDocSection(feature) ? `${GITHUB_DOCS}/${this.helper.getDocSection(feature)}` : null
      }
    }));
    for (const item of data) {
      const builder = (_a = this.builderFactory(item.feature)) != null ? _a : this.builderFactory("default");
      const settings = this.item.get(item.feature).value();
      builder.setContext({
        getContainer: () => this.container,
        getSettings: () => this.item.value(),
        getDispatcher: () => this.dispatcher
      });
      builder.build({ id: item.feature, desc: item.desc, name: item.name, config: settings, doc: item.doc });
    }
  }
  bind() {
    this.ref = this.dispatcher.addListener({
      name: "settings:tab:feature:changed",
      cb: (e) => this.item.get(e.get().id).set(e.get().value)
    });
    this.dispatcher.addListener({
      name: "settings:tab:close",
      cb: () => this.dispatcher.removeListener(this.ref),
      once: true
    });
  }
};
FeaturesBuilder = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:settings:feature:builder"])),
  __decorateParam(1, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(2, inject(inversify_types_default["feature:helper"]))
], FeaturesBuilder);

// src/Settings/SettingBuilders/Util/UtilBuilder.ts
var import_obsidian11 = require("obsidian");
var UtilBuilder = class {
  constructor() {
    this.isTitleBuild = false;
  }
  build({ name, item, container }) {
    this.buildTitle(container);
    switch (name) {
      case "boot": {
        this.buildBoot(item, container);
        break;
      }
      case "debug": {
        this.buildDebug(item, container);
        break;
      }
    }
  }
  support(k) {
    return ["boot", "debug"].includes(k);
  }
  buildTitle(container) {
    if (!this.isTitleBuild) {
      container.createEl("h4", { text: t2("util") });
      this.isTitleBuild = true;
    }
  }
  buildDebug(item, container) {
    new import_obsidian11.Setting(container).setName(t2("debug_info.title")).setDesc(t2("debug_info.desc")).addToggle((e) => e.setValue(item.value()).onChange((e2) => item.set(e2)));
  }
  buildBoot(item, container) {
    new import_obsidian11.Setting(container).setName(t2("boot_delay.title")).setDesc(t2("boot_delay.desc")).addText(
      (e) => e.setValue(item.get("delay").value().toString()).onChange((s) => {
        const v = !isNaN(parseInt(s)) ? parseInt(s) : 0;
        e.setValue(v.toString());
        item.get("delay").set(v);
      })
    );
    new import_obsidian11.Setting(container).setName(t2("boot_background.title")).setDesc(t2("boot_background.desc")).addToggle(
      (e) => e.setValue(item.get("background").value()).onChange((e2) => {
        item.get("background").set(e2);
      })
    );
  }
};
UtilBuilder = __decorateClass([
  injectable()
], UtilBuilder);

// src/Settings/SettingBuilders/Rules/RulesDelimiterBuilder.ts
var import_obsidian12 = require("obsidian");
var RulesDelimiterBuilder = class extends AbstractBuilder2 {
  constructor() {
    super(...arguments);
    this.setting = null;
    this.text = null;
  }
  support(k) {
    return k === "delimiter";
  }
  doBuild() {
    this.setting = new import_obsidian12.Setting(this.container).setName(t2("rule.delimiter.name")).setDesc(t2("rule.delimiter.desc"));
    this.buildDropdown();
    this.buildText();
  }
  buildDropdown() {
    const enabled = this.item.get("enabled");
    new import_obsidian12.DropdownComponent(this.setting.controlEl).addOptions({ N: t2("rule.delimiter.first"), Y: t2("rule.delimiter.join") }).setValue(enabled.value() ? "Y" : "N").onChange((e) => {
      enabled.set(e === "Y");
      this.text.setValue("").setPlaceholder(this.getPlaceholder()).setDisabled(e === "N").onChanged();
    });
  }
  buildText() {
    const v = this.item.get("value");
    this.text = new import_obsidian12.TextComponent(this.setting.controlEl).setValue(v.value()).setDisabled(!this.isEnabled()).setPlaceholder(this.getPlaceholder()).onChange((e) => v.set(e));
  }
  getPlaceholder() {
    return this.isEnabled() ? t2("rule.delimiter.placeholder.join") : t2("rule.delimiter.placeholder.first");
  }
  isEnabled() {
    return this.item.get("enabled").value();
  }
};
RulesDelimiterBuilder = __decorateClass([
  injectable()
], RulesDelimiterBuilder);

// src/Settings/SettingBuilders/Rules/RulesPathsBuilder.ts
var import_obsidian13 = require("obsidian");
var RulesPathsBuilder = class extends AbstractBuilder2 {
  constructor() {
    super(...arguments);
    this.settings = null;
  }
  doBuild() {
    this.settings = new import_obsidian13.Setting(this.container).setName(t2("rule.path.name")).addDropdown(
      (e) => e.addOptions({ white: t2("rule.path.white.name"), black: t2("rule.path.black.name") }).setValue(this.item.get("mode").value()).onChange((e2) => {
        this.item.get("mode").set(e2);
        this.updateDesc();
      })
    ).addTextArea(
      (e) => e.setValue(this.item.get("values").value().join("\n")).onChange((e2) => this.item.get("values").set(e2.split("\n").filter((e3) => e3)))
    );
    this.updateDesc();
  }
  support(k) {
    return k === "paths";
  }
  updateDesc() {
    const descriptions = {
      white: t2("rule.path.white.desc"),
      black: t2("rule.path.black.desc")
    };
    this.settings.setDesc(descriptions[this.item.get("mode").value()]);
  }
};
RulesPathsBuilder = __decorateClass([
  injectable()
], RulesPathsBuilder);

// src/Settings/SettingBuilders/Processor/ProcessorBuilder.ts
var import_obsidian14 = require("obsidian");

// src/Components/Processor/ProcessorUtils.ts
var ProcessorTypes = /* @__PURE__ */ ((ProcessorTypes2) => {
  ProcessorTypes2["Function"] = "function";
  ProcessorTypes2["FunctionV2"] = "functionV2";
  ProcessorTypes2["Replace"] = "replace";
  return ProcessorTypes2;
})(ProcessorTypes || {});

// src/Settings/SettingBuilders/Processor/ProcessorBuilder.ts
var ProcessorBuilder = class extends AbstractBuilder2 {
  constructor() {
    super(...arguments);
    this.lastArgs = {};
  }
  support(k) {
    return k === "processor";
  }
  doBuild() {
    const fragment = createFragment(
      (e) => e.createEl("a", {
        text: t2("processor.name"),
        href: GITHUB_DOCS + "Processor.md"
      })
    );
    this.setting = new import_obsidian14.Setting(this.container).setName(fragment);
    this.buildDynamic();
  }
  updateDesc() {
    const fragment = createFragment();
    fragment.appendText(t2("processor.desc"));
    let additional = [];
    switch (this.item.get("type").value()) {
      case "replace" /* Replace */:
        additional = [
          "",
          t2("processor.replace.desc"),
          "title.replace(",
          createSpan(
            "",
            (e) => e.innerHTML = "&emsp;new RegExp(<br>&emsp;&emsp;#pattern#, <br>&emsp;&emsp;#flags#<br>&emsp;),"
          ),
          createSpan("", (e) => e.innerHTML = "&emsp;#replacement#"),
          ")"
        ];
        break;
      case "function" /* Function */:
        additional = [
          "",
          t2("processor.function.desc"),
          `const value = new Function('title', #${t2("processor.function.valueDesc")}#)`
        ];
        break;
      case "functionV2" /* FunctionV2 */:
        additional = [
          "",
          t2("processor.functionV2.desc"),
          `const value = new Function('obj', #${t2("processor.functionV2.valueDesc")}#)`
        ];
        break;
    }
    additional.forEach((e) => {
      fragment.appendChild(createEl("br"));
      typeof e === "string" ? fragment.appendText(e) : fragment.appendChild(e);
    });
    this.setting.setDesc(fragment);
  }
  buildDynamic() {
    this.updateDesc();
    this.setting.addDropdown(
      (c) => {
        var _a;
        return c.addOptions({
          "": t2("disabled"),
          ["replace" /* Replace */]: t2("processor.replace.name"),
          ["function" /* Function */]: t2("processor.function.name"),
          ["functionV2" /* FunctionV2 */]: t2("processor.functionV2.name")
        }).setValue((_a = this.item.get("type").value()) != null ? _a : "").onChange((v) => {
          var _a2, _b;
          const value = v === "" ? null : v;
          const type = this.item.get("type").value();
          this.lastArgs[type] = [...this.item.get("args").value()];
          this.item.get("type").set(value);
          this.item.get("args").set([...(_b = (_a2 = this.lastArgs) == null ? void 0 : _a2[value]) != null ? _b : []]);
          this.setting.controlEl.innerHTML = "";
          this.buildDynamic();
        });
      }
    );
    this.setAlignItemsMode("center");
    switch (this.item.get("type").value()) {
      case "function" /* Function */:
        this.setAlignItemsMode("start");
        return this.buildFunction();
      case "functionV2" /* FunctionV2 */:
        this.setAlignItemsMode("start");
        return this.buildFunction();
      case "replace" /* Replace */:
        this.setAlignItemsMode("start");
        return this.buildReplace();
    }
  }
  setAlignItemsMode(mode) {
    this.setting.settingEl.style.alignItems = mode;
    this.setting.controlEl.style.alignItems = mode;
  }
  buildReplace() {
    const items = [
      {
        name: t2("processor.replace.pattern.name"),
        desc: t2("processor.replace.pattern.desc")
      },
      { name: t2("processor.replace.flags.name"), desc: t2("processor.replace.flags.desc") },
      { name: t2("processor.replace.replacement.name"), desc: t2("processor.replace.replacement.desc") }
    ];
    const container = createDiv({ attr: { style: "margin-left: 20px" } });
    let margin = "10px";
    const value = this.item.get("args").value();
    for (const [i, item] of items.entries()) {
      const c = createDiv({
        attr: { style: `margin-bottom: ${margin}` }
      });
      margin = "0px";
      c.appendChild(
        createDiv(
          {
            attr: { style: "display: flex; align-items: center; justify-content: space-between;" }
          },
          (e) => {
            var _a;
            e.appendChild(
              createDiv({ attr: { style: "margin-right: 10px" } }, (e2) => e2.appendText(`${item.name}:`))
            );
            new import_obsidian14.TextComponent(e).setValue((_a = value == null ? void 0 : value[i]) != null ? _a : "").onChange((e2) => value.splice(i, 1, e2)).onChanged();
          }
        )
      );
      c.appendChild(
        createDiv(
          { cls: "setting-item-description", attr: { style: "text-align: left" } },
          (e) => e.appendText(item.desc)
        )
      );
      container.appendChild(c);
    }
    this.setting.controlEl.prepend(container);
  }
  buildFunction() {
    this.setting.addTextArea(
      (e) => e.setValue(this.item.get("args").value().join()).onChange((e2) => this.item.get("args").set([e2]))
    );
  }
};

// src/Settings/FeatureBuilder/NoteLinkBuilder.ts
var import_obsidian15 = require("obsidian");
var NoteLinkBuilder = class extends AbstractBuilder {
  doBuild() {
    this.buildEnable();
  }
  onModalShow(modal) {
    this.buildStrategy(modal.contentEl);
    this.buildApproval(modal.contentEl);
    this.buildTemplates(modal.contentEl);
  }
  buildStrategy(el) {
    new import_obsidian15.Setting(el).setName(t2("feature.noteLink.strategy.name")).setDesc(t2("feature.noteLink.strategy.desc")).addDropdown((e) => {
      var _a;
      e.addOptions({
        ["all" /* All */]: t2("feature.noteLink.strategy.options.all"),
        ["onlyEmpty" /* OnlyEmpty */]: t2("feature.noteLink.strategy.options.onlyEmpty")
      }).setValue((_a = this.config.strategy) != null ? _a : "onlyEmpty" /* OnlyEmpty */).onChange((v) => {
        this.config.strategy = v;
        this.dispatchChanges();
      });
    });
  }
  buildApproval(el) {
    new import_obsidian15.Setting(el).setName(t2("feature.noteLink.approval.name")).setDesc(t2("feature.noteLink.approval.desc")).addDropdown((e) => {
      e.addOptions({
        Y: t2("feature.noteLink.approval.options.showModal"),
        N: t2("feature.noteLink.approval.options.auto")
      }).setValue(this.config.approval ? "Y" : "N").onChange((v) => {
        this.config.approval = v === "Y";
        this.dispatchChanges();
      });
    });
  }
};

// src/Settings/FeatureBuilder/ExplorerBuilder.ts
var import_obsidian16 = require("obsidian");
var ExplorerBuilder = class extends AbstractBuilder {
  doBuild() {
    this.buildEnable();
  }
  onModalShow(modal) {
    const el = modal.contentEl;
    this.buildSort(el);
    this.buildTemplates(el);
  }
  buildSort(el) {
    new import_obsidian16.Setting(el).setName(t2("feature.explorer.sort.name")).setDesc(t2("feature.explorer.sort.desc")).addToggle((e) => {
      e.setValue(this.config.sort).onChange((v) => {
        this.config.sort = v;
        this.dispatchChanges();
      });
    });
  }
};

// config/services/settings.config.ts
var settings_config_default = (c) => {
  c.bind(inversify_types_default["settings:feature:builder"]).to(DefaultBuilder).whenTargetNamed("default");
  c.bind(inversify_types_default["settings:feature:builder"]).to(AliasBuilder).whenTargetNamed("alias" /* Alias */);
  c.bind(inversify_types_default["settings:feature:builder"]).to(ExplorerBuilder).whenTargetNamed("explorer" /* Explorer */);
  c.bind(inversify_types_default["settings:feature:builder"]).to(NoteLinkBuilder).whenTargetNamed("noteLink" /* NoteLink */);
  c.bind(inversify_types_default["factory:settings:feature:builder"]).toFunction(
    (name) => c.isBoundNamed(inversify_types_default["settings:feature:builder"], name) ? c.getNamed(inversify_types_default["settings:feature:builder"], name) : null
  );
  c.bind(inversify_types_default["settings:builder"]).to(TemplatesBuilder).whenTargetNamed("main");
  c.bind(inversify_types_default["settings:builder"]).to(FeaturesBuilder).whenTargetNamed("main");
  c.bind(inversify_types_default["settings:builder"]).to(UtilBuilder).whenTargetNamed("main");
  c.bind(inversify_types_default["settings:builder"]).to(RulesBuiler).whenTargetNamed("main");
  c.bind(inversify_types_default["settings:builder"]).to(ProcessorBuilder).whenTargetNamed("main");
  c.bind(inversify_types_default["settings:builder"]).to(RulesDelimiterBuilder).whenTargetNamed("rules");
  c.bind(inversify_types_default["settings:builder"]).to(RulesPathsBuilder).whenTargetNamed("rules");
  c.bind(inversify_types_default["factory:settings:builder"]).toFunction(
    (name) => c.getAllNamed(inversify_types_default["settings:builder"], name)
  );
};

// src/Components/Processor/ReplaceProcessor.ts
var ReplaceProcessor = class {
  constructor(args) {
    var _a, _b;
    try {
      this.pattern = new RegExp((_a = args == null ? void 0 : args[0]) != null ? _a : null, args == null ? void 0 : args[1]);
      this.replacement = (_b = args == null ? void 0 : args[2]) != null ? _b : null;
    } catch (e) {
      console.error(e);
    }
  }
  process(value) {
    return value.replace(this.pattern, this.replacement);
  }
  getType() {
    return "replace" /* Replace */;
  }
};
ReplaceProcessor = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["processor:args"]))
], ReplaceProcessor);

// src/Components/Processor/FunctionProcessor.ts
var FunctionProcessor = class {
  constructor(args) {
    this.func = (args == null ? void 0 : args[0]) ? new Function("title", args[0]) : null;
  }
  process(value) {
    var _a, _b;
    return (_b = (_a = this.func) == null ? void 0 : _a.call(this, value)) != null ? _b : value;
  }
  getType() {
    return "function" /* Function */;
  }
};
FunctionProcessor = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["processor:args"]))
], FunctionProcessor);

// src/Components/Processor/FunctionV2Processor.ts
var FunctionV2Processor = class {
  constructor(args, facade) {
    this.facade = facade;
    this.func = (args == null ? void 0 : args[0]) ? new Function("obj", args[0]) : null;
  }
  process(value) {
    var _a, _b;
    const obj = JSON.parse(value);
    obj.file = this.facade.getTFile(obj.path);
    return (_b = (_a = this.func) == null ? void 0 : _a.call(this, obj)) != null ? _b : obj.title;
  }
  getType() {
    return "functionV2" /* FunctionV2 */;
  }
};
FunctionV2Processor = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["processor:args"])),
  __decorateParam(1, inject(inversify_types_default["facade:obsidian"]))
], FunctionV2Processor);

// src/Components/Processor/ProcessorArgumentTransformer.ts
var ProcessorArgumentTransformer = class {
  transform(event, type) {
    switch (type) {
      case "function" /* Function */:
      case "replace" /* Replace */:
        return event.get().value;
      case "functionV2" /* FunctionV2 */:
        return JSON.stringify({
          path: event.get().path,
          title: event.get().value,
          file: null
        });
    }
  }
};
ProcessorArgumentTransformer = __decorateClass([
  injectable()
], ProcessorArgumentTransformer);

// config/services/processors.config.ts
var processors_config_default = new ContainerModule((bind) => {
  bind(inversify_types_default.processor).to(ReplaceProcessor).whenTargetNamed("replace" /* Replace */);
  bind(inversify_types_default.processor).to(FunctionProcessor).whenTargetNamed("function" /* Function */);
  bind(inversify_types_default.processor).to(FunctionV2Processor).whenTargetNamed("functionV2" /* FunctionV2 */);
  bind(inversify_types_default["processor:args"]).toDynamicValue(
    (c) => c.container.get(inversify_types_default["settings:storage"]).get("processor").get("args").value()
  );
  bind(inversify_types_default["processor:factory"]).toAutoNamedFactory(inversify_types_default.processor);
  bind(inversify_types_default["processor:argument.transformer"]).to(ProcessorArgumentTransformer);
});

// src/Resolver/ResolverService.ts
var ResolverService = class {
  constructor(factory, templateFactory, logger) {
    this.factory = factory;
    this.templateFactory = templateFactory;
    this.logger = logger;
    this.resolvers = /* @__PURE__ */ new Map();
  }
  create(template) {
    this.logger.log(`Create "${template}" template`);
    return this.getOrCreate(template);
  }
  createNamed(name) {
    this.logger.log(`Create named "${name}" template`);
    return this.create(this.templateFactory(name));
  }
  getOrCreate(template) {
    if (!this.resolvers.has(template)) {
      this.logger.log(`Create resolver for "${template}" template`);
      const resolver = this.factory();
      resolver.setTemplate(template);
      this.resolvers.set(template, resolver);
    }
    return this.resolvers.get(template);
  }
};
ResolverService = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:resolver:resolver"])),
  __decorateParam(1, inject(inversify_types_default["factory:resolver:template"])),
  __decorateParam(2, inject(inversify_types_default.logger)),
  __decorateParam(2, named("resolver:service"))
], ResolverService);

// src/Resolver/ResolverCachedProxy.ts
var ResolverCachedProxy = class {
  constructor(resolver, cache, dispatcher) {
    this.resolver = resolver;
    this.cache = cache;
    this.dispatcher = dispatcher;
    dispatcher.addListener({ name: "resolver:clear", cb: () => this.cache.clear(), sort: 0 });
    dispatcher.addListener({ name: "metadata:cache:changed", cb: (e) => this.handleDelete(e.get().path), sort: 0 });
    dispatcher.addListener({
      name: "file:rename",
      cb: (e) => {
        this.cache.delete(e.get().old);
        this.cache.save(this.cache.getItem(e.get().actual).set(null));
        this.handleDelete(e.get().actual);
      }
    });
  }
  resolve(path) {
    return this.get(path);
  }
  setTemplate(template) {
    this.resolver.setTemplate(template);
  }
  handleDelete(path) {
    const item = this.cache.getItem(path);
    if (!item.isHit()) {
      return;
    }
    const old = item.get();
    this.actualize(item);
    if (old !== item.get()) {
      this.dispatcher.dispatch("resolver:unresolved", new Event({ path }));
    }
  }
  actualize(item) {
    const title = this.resolver.resolve(item.getKey());
    this.cache.save(item.set(title));
  }
  get(path) {
    var _a;
    const item = this.cache.getItem(path);
    if (item.isHit() === false) {
      this.actualize(item);
    }
    return (_a = item.get()) != null ? _a : null;
  }
};
ResolverCachedProxy = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default.resolver)),
  __decorateParam(0, named("original")),
  __decorateParam(1, inject(inversify_types_default.cache)),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"]))
], ResolverCachedProxy);

// src/Resolver/Resolver.ts
var Resolver = class {
  constructor(filters, creator, dispatcher) {
    this.filters = filters;
    this.creator = creator;
    this.dispatcher = dispatcher;
    this.template = "";
  }
  setTemplate(template) {
    this.template = template;
  }
  resolve(path) {
    return this.valid(path) ? this.get(path) : null;
  }
  get(path) {
    var _a;
    try {
      return (_a = this.dispatch(this.creator.create(path, this.template), path)) != null ? _a : null;
    } catch (e) {
      console.error(`Error by path ${path}`, e);
    }
    return null;
  }
  dispatch(title, path) {
    var _a;
    const event = new Event({
      value: title,
      modify(v) {
        this.value = v;
      },
      path
    });
    this.dispatcher.dispatch("resolver:resolved", event);
    return (_a = event.get().value) != null ? _a : null;
  }
  valid(path) {
    for (const filter of this.filters) {
      if (filter.check(path) === false) {
        return false;
      }
    }
    return true;
  }
};
Resolver = __decorateClass([
  injectable(),
  __decorateParam(0, multiInject(inversify_types_default.filter)),
  __decorateParam(1, inject(inversify_types_default["creator:creator"])),
  __decorateParam(2, inject(inversify_types_default["event:dispatcher"]))
], Resolver);

// config/services/resolver.config.ts
var resolver_config_default = new ContainerModule((bind) => {
  bind(inversify_types_default["factory:resolver:template"]).toFactory((c) => (value) => {
    var _a, _b;
    const storage = c.container.get(inversify_types_default["settings:storage"]);
    const [name, type] = value.split(":");
    const targetTemplates = (_a = storage.get("features").get(name)) == null ? void 0 : _a.get("templates");
    const template = (_b = targetTemplates == null ? void 0 : targetTemplates.get(type)) == null ? void 0 : _b.value();
    return template ? template : storage.get("templates").get("common").get(type).value();
  });
  bind(inversify_types_default.resolver).to(ResolverCachedProxy).whenTargetIsDefault();
  bind(inversify_types_default.resolver).to(Resolver).whenTargetNamed("original");
  bind(inversify_types_default["resolver:service"]).to(ResolverService).inSingletonScope();
  bind(
    inversify_types_default["factory:resolver:resolver"]
  ).toFactory((c) => () => c.container.get(inversify_types_default.resolver));
});

// src/Components/ApiAdapter/Api.ts
var Api = class {
  constructor(factory, dispatcher, composer) {
    this.factory = factory;
    this.dispatcher = dispatcher;
    this.composer = composer;
  }
  getResolverFactory() {
    return this.factory;
  }
  getEventDispatcher() {
    return this.dispatcher;
  }
  getEnabledFeatures() {
    return this.composer.getIds();
  }
};
Api = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["feature:service"])),
  __decorateParam(1, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(2, inject(inversify_types_default["feature:composer"]))
], Api);

// src/Components/ApiAdapter/Defer.ts
var DeferPluginReady = 2;
var DeferFeaturesReady = 4;
var Defer = class {
  constructor(factory) {
    this.factory = factory;
    this.state = 0;
    this.promises = {
      plugin: null,
      managers: null
    };
    this.resolves = {
      plugin: null,
      managers: null
    };
    this.promises.plugin = new Promise((r) => this.resolves.plugin = r);
    this.promises.managers = new Promise((r) => this.resolves.managers = r);
  }
  setFlag(flag) {
    if (!(this.state & flag)) {
      this.state = this.state | flag;
      this.processState();
    }
  }
  async awaitPlugin() {
    return await this.promises.plugin;
  }
  async awaitFeatures() {
    return this.promises.managers;
  }
  isPluginReady() {
    return (this.state & DeferPluginReady) !== 0;
  }
  isFeaturesReady() {
    return (this.state & DeferFeaturesReady) !== 0;
  }
  getApi() {
    return this.isPluginReady() ? this.factory() : null;
  }
  processState() {
    if (this.isPluginReady()) {
      this.resolves.plugin();
      if (this.isFeaturesReady()) {
        this.resolves.managers();
      }
    }
  }
};
Defer = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["factory:api"]))
], Defer);

// config/services/api.adapter.config.ts
var api_adapter_config_default = new ContainerModule((bind) => {
  bind(inversify_types_default.api).to(Api).inSingletonScope();
  bind(inversify_types_default["factory:api"]).toFactory((c) => () => c.container.get(inversify_types_default.api));
  bind(inversify_types_default.defer).to(Defer).inSingletonScope();
});

// src/Filters/ExtensionFilter.ts
var ExtensionFilter = class {
  check(path) {
    return /.*\.md$/.test(path);
  }
};
ExtensionFilter = __decorateClass([
  injectable()
], ExtensionFilter);

// src/Filters/PathListFilter.ts
var PathListFilter = class {
  constructor(list) {
    this.list = list;
  }
  check(path) {
    return this.list.isFileAllowed(path);
  }
};
PathListFilter = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["component:black_white_list"]))
], PathListFilter);

// src/Components/BlackWhiteList/BlackWhiteList.ts
var BlackWhiteList = class {
  constructor() {
    this.mode = "black";
    this.list = [];
  }
  get default() {
    return this.mode === "black";
  }
  isFileAllowed(path) {
    if (this.list.length === 0) {
      return true;
    }
    for (const item of this.list) {
      if (path.startsWith(item)) {
        return this.mode === "white";
      }
    }
    return this.default;
  }
  setMode(mode) {
    this.mode = mode;
  }
  setList(list) {
    this.list = [...list];
  }
};
BlackWhiteList = __decorateClass([
  injectable()
], BlackWhiteList);

// src/Components/Cache/CacheItem.ts
var CacheItem = class {
  constructor(_isHit, value, key) {
    this._isHit = _isHit;
    this.value = value;
    this.key = key;
  }
  get() {
    return this.value;
  }
  isHit() {
    return this._isHit;
  }
  set(value) {
    this.value = value;
    return this;
  }
  getKey() {
    return this.key;
  }
};

// src/Components/Cache/Cache.ts
var Cache = class {
  constructor() {
    this.pool = /* @__PURE__ */ new Map();
    this.serialized = /* @__PURE__ */ new Map();
  }
  clear() {
    this.pool.clear();
    this.serialized.clear();
  }
  delete(key) {
    this.pool.delete(key);
    this.serialized.delete(key);
  }
  getItem(key) {
    const isHit = this.pool.has(key) || this.serialized.has(key);
    const value = isHit ? this.resolve(key) : null;
    return new CacheItem(isHit, value, key);
  }
  save(item) {
    const key = item.getKey();
    const value = item.get();
    this.pool.delete(key);
    this.serialized.delete(key);
    if (this.isObject(value)) {
      if (!this.canBeSerialized(value)) {
        throw new Error("Object with functions can not be serialized");
      }
      this.serialized.set(key, JSON.stringify(value));
    } else {
      this.pool.set(key, value);
    }
  }
  resolve(key) {
    if (this.pool.has(key)) {
      return this.pool.get(key);
    }
    return JSON.parse(this.serialized.get(key));
  }
  isObject(value) {
    return typeof value === "object" && ![null, void 0].includes(value);
  }
  canBeSerialized(object) {
    return !ObjectHelper.values(object).some(
      (e) => this.isObject(e) ? !this.canBeSerialized(e) : typeof e === "function"
    );
  }
};
Cache = __decorateClass([
  injectable()
], Cache);

// src/Components/Extractor/Extractor.ts
var Extractor = class {
  constructor(strategies) {
    this.strategies = strategies;
  }
  /**
   * @throws {PathNotFoundException}
   * @throws {TypeNotSupportedException}
   * @param path
   * @param obj
   */
  extract(path, obj) {
    const parts = path.split(".");
    let part;
    let extracted = obj;
    while (part = parts.shift()) {
      extracted = this.extractInternal(part, extracted);
    }
    let strategy = null;
    let type = extracted === null ? "null" : typeof extracted;
    type = type === "object" && Array.isArray(extracted) ? "array" : type;
    for (const item of this.strategies) {
      if (item.support(type)) {
        strategy = item;
        break;
      }
    }
    if (strategy === null) {
      throw new TypeNotSupportedException(`Type ${type} is not supported`);
    }
    return strategy.process(extracted);
  }
  /**
   * @throws {PathNotFoundException}
   * @param key
   * @param obj
   * @private
   */
  extractInternal(key, obj) {
    if (obj === void 0 || (obj == null ? void 0 : obj[key]) === void 0) {
      throw new PathNotFoundException(`Key ${key} not found`);
    }
    return obj[key];
  }
};
Extractor = __decorateClass([
  injectable(),
  __decorateParam(0, multiInject(inversify_types_default["component:extractor:strategy"]))
], Extractor);

// src/Components/Extractor/LiteralStrategy.ts
var LiteralStrategy = class {
  support(type) {
    return ["number", "string"].includes(type);
  }
  process(v) {
    return v.toString();
  }
};
LiteralStrategy = __decorateClass([
  injectable()
], LiteralStrategy);

// src/Components/Extractor/ArrayStrategy.ts
var ArrayStrategy = class {
  constructor(delimiterGetter) {
    this.delimiterGetter = delimiterGetter;
  }
  process(v) {
    if (v.length === 0) {
      return null;
    }
    const delimiter = this.delimiterGetter();
    return !delimiter.enabled ? v[0] : v.join(delimiter.value);
  }
  support(type) {
    return type === "array";
  }
};
ArrayStrategy = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["getter:delimiter"]))
], ArrayStrategy);

// src/Components/Extractor/NullStrategy.ts
var NullStrategy = class {
  // eslint-stop-next-line @typescript-eslint/no-unused-vars
  process() {
    return null;
  }
  support(type) {
    return type === "null";
  }
};
NullStrategy = __decorateClass([
  injectable()
], NullStrategy);

// src/Components/Debug/Debugger.ts
var Debugger = class {
  constructor(name, enabled) {
    this.name = name;
    this.enabled = enabled;
  }
  info(...value) {
    this.log(...value);
  }
  debug(...value) {
    this.log(...value);
  }
  warn(...value) {
    this.log(...value);
  }
  log(...value) {
    if (this.enabled()) {
      console.debug(`[${this.name}]`, ...value);
    }
  }
};
Debugger = __decorateClass([
  injectable()
], Debugger);

// src/Components/Debug/LoggerComposer.ts
var LoggerComposer = class {
  constructor() {
    this.loggers = /* @__PURE__ */ new Map();
    this.enabled = false;
  }
  create(name) {
    if (!this.loggers.has(name)) {
      this.loggers.set(name, new Debugger(name, this.isEnabled.bind(this)));
    }
    return this.loggers.get(name);
  }
  enable() {
    this.enabled = true;
  }
  disable() {
    this.enabled = false;
  }
  isEnabled() {
    return this.enabled;
  }
};
LoggerComposer = __decorateClass([
  injectable()
], LoggerComposer);

// src/Utils/FileNoteLinkService.ts
var import_obsidian17 = require("obsidian");
var FileNoteLinkService = class {
  constructor(facade) {
    this.facade = facade;
    this.REGEXP = /^\[\[.+\]\]$/;
  }
  getNoteLinks(path) {
    var _a;
    const links = this.facade.getFileLinksCache(path);
    const result = [];
    for (const link of links) {
      if (!this.REGEXP.test(link.original)) {
        continue;
      }
      const file = this.facade.getFirstLinkpathDest(link.link, path);
      if (file instanceof import_obsidian17.TFile === false) {
        continue;
      }
      result.push({
        dest: file.path,
        link: link.link,
        original: link.original,
        alias: (_a = link == null ? void 0 : link.displayText) != null ? _a : null
      });
    }
    return result;
  }
};
FileNoteLinkService = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["facade:obsidian"]))
], FileNoteLinkService);

// src/Components/EventDispatcher/EventDispatcher.ts
var EventDispatcher = class {
  constructor(logger) {
    this.logger = logger;
    this.events = /* @__PURE__ */ new Map();
  }
  addListener({ name, cb, sort = null, once = false }) {
    var _a, _b, _c;
    const ref = { getName: () => name };
    const events = (_a = this.events.get(name)) != null ? _a : [];
    sort = sort != null ? sort : ((_c = (_b = events[0]) == null ? void 0 : _b.sort) != null ? _c : 0) + 1;
    const event = { cb, sort, ref, once };
    events.push(event);
    events.sort((a, b) => a.sort - b.sort);
    this.logger.log(`Added listener: ${name.toString()}`, event);
    this.events.set(name, events);
    return ref;
  }
  dispatch(name, e) {
    var _a, _b;
    this.logger.log(name);
    let shift = 0;
    for (const [i, item] of [...(_b = (_a = this.events.get(name)) == null ? void 0 : _a.entries()) != null ? _b : []]) {
      item.cb(e);
      if (item.once) {
        this.events.get(name).splice(i - shift++, 1);
      }
    }
  }
  removeListener(ref) {
    for (const [i, item] of this.events.get(ref.getName()).entries()) {
      if (item.ref === ref) {
        this.events.get(ref.getName()).splice(i, 1);
        this.logger.log(`Removed listener: ${ref.getName().toString()}`);
        return;
      }
    }
  }
};
EventDispatcher = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default.logger)),
  __decorateParam(0, named("event:dispatcher"))
], EventDispatcher);

// src/Components/BlackWhiteList/BlackWhiteListListener.ts
var BlackWhiteListListener = class {
  constructor(component, dispatcher) {
    this.component = component;
    this.dispatcher = dispatcher;
    this.ref = null;
  }
  bind() {
    this.ref = this.dispatcher.addListener({ name: "settings:changed", cb: (e) => this.handle(e.get()) });
    this.dispatcher.addListener({
      name: "settings.loaded",
      once: true,
      cb: (e) => {
        this.component.setMode(e.get().settings.rules.paths.mode);
        this.component.setList(e.get().settings.rules.paths.values);
      }
    });
  }
  unbind() {
    this.dispatcher.removeListener(this.ref);
    this.ref = null;
  }
  handle({ changed, actual }) {
    var _a, _b, _c, _d;
    if ((_b = (_a = changed == null ? void 0 : changed.rules) == null ? void 0 : _a.paths) == null ? void 0 : _b.values) {
      this.component.setList(actual.rules.paths.values);
    }
    if ((_d = (_c = changed == null ? void 0 : changed.rules) == null ? void 0 : _c.paths) == null ? void 0 : _d.mode) {
      this.component.setMode(actual.rules.paths.mode);
    }
  }
};
BlackWhiteListListener = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["component:black_white_list"])),
  __decorateParam(1, inject(inversify_types_default["event:dispatcher"]))
], BlackWhiteListListener);

// src/Components/Processor/ProccessorListener.ts
var ProcessorListener = class {
  constructor(dispatcher, factory, transformer) {
    this.dispatcher = dispatcher;
    this.factory = factory;
    this.transformer = transformer;
    this.changedRef = null;
    this.resolvedRef = null;
    this.processor = null;
  }
  bind() {
    this.changedRef = this.dispatcher.addListener({ name: "settings:changed", cb: (e) => this.make(e.get().actual) });
    this.dispatcher.addListener({ name: "settings.loaded", cb: (e) => this.make(e.get().settings), once: true });
  }
  unbind() {
    this.dispatcher.removeListener(this.changedRef);
    this.changedRef = null;
    this.disable();
  }
  make(actual) {
    const { type, args } = actual.processor;
    if (Object.values(ProcessorTypes).includes(type)) {
      this.enable(type, args);
    } else {
      this.disable();
    }
  }
  disable() {
    if (this.resolvedRef) {
      this.dispatcher.removeListener(this.resolvedRef);
      this.resolvedRef = null;
    }
    this.processor = null;
  }
  enable(type, args) {
    this.processor = this.factory(type, args);
    if (this.resolvedRef === null) {
      this.resolvedRef = this.dispatcher.addListener({
        name: "resolver:resolved",
        cb: this.handleResolved.bind(this)
      });
    }
  }
  handleResolved(event) {
    var _a;
    const obj = event.get();
    if (typeof obj.value !== "string") {
      return;
    }
    if (this.processor === null) {
      return;
    }
    const arg = this.transformer.transform(event, this.processor.getType());
    const value = (_a = this.processor.process(arg)) != null ? _a : null;
    if (value) {
      obj.modify(value);
    }
  }
};
ProcessorListener = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default["event:dispatcher"])),
  __decorateParam(1, inject(inversify_types_default["processor:factory"])),
  __decorateParam(2, inject(inversify_types_default["processor:argument.transformer"]))
], ProcessorListener);

// src/Utils/FakeTitleElementService.ts
var FakeTitleElementService = class {
  constructor() {
    this.attr = {
      fake: "ofmt-fake-id",
      original: "ofmt-original-id"
    };
    this.elements = /* @__PURE__ */ new Map();
    //TODO: add logs for events
    this.events = {
      click: (e) => {
        const id3 = this.extractId(e.target);
        this.setVisible(id3, false).getOriginal(id3).focus();
      },
      blur: (e) => this.setVisible(this.extractId(e.target), true),
      hover: (e) => this.setVisible(this.extractId(e.target), false),
      out: (e) => this.setVisible(this.extractId(e.target), true)
    };
  }
  removeExcept(id3) {
    const ids = Array.isArray(id3) ? id3 : [id3];
    for (const [key, { fake }] of this.elements.entries()) {
      if (!ids.includes(key)) {
        fake.remove();
        this.elements.delete(key);
      }
    }
  }
  remove(id3) {
    if (!this.has(id3)) {
      return;
    }
    this.setVisible(id3, false);
    const { fake, events = [], original } = this.elements.get(id3);
    events.forEach((e) => {
      if (e === "click") {
        original.removeEventListener("click", this.events.blur);
      }
      if (e === "hover") {
        original.removeEventListener("mouseout", this.events.out);
      }
    });
    original.removeAttribute(this.attr.original);
    fake.remove();
    this.elements.delete(id3);
  }
  removeAll() {
    Array.from(this.elements.keys()).forEach((e) => this.remove(e));
  }
  getOrCreate({
    original,
    title,
    id: id3,
    events = []
  }) {
    const container = original == null ? void 0 : original.parentElement;
    if (!container) {
      return;
    }
    let element = this.find(container, id3);
    if (element) {
      element.setText(title);
      return { created: false, element };
    }
    element = document.createElement(original.tagName);
    element.className = original.className;
    element.setText(title);
    element.setAttribute(this.attr.fake, id3);
    element.tabIndex = -1;
    original.setAttribute(this.attr.original, id3);
    this.elements.set(id3, { original, fake: element, events: [...events] });
    if (events.contains("click")) {
      this.bindClick(id3);
    }
    if (events.contains("hover")) {
      this.bindHover(id3);
    }
    container.insertBefore(element, original);
    element.hidden = true;
    return { created: true, element };
  }
  setVisible(id3, visible) {
    if (this.elements.has(id3)) {
      const { fake, original } = this.elements.get(id3);
      original.hidden = visible;
      fake.hidden = !visible;
    }
    return this;
  }
  extractId(e) {
    var _a;
    if (e instanceof HTMLElement) {
      return (_a = e.getAttribute(this.attr.fake)) != null ? _a : e.getAttribute(this.attr.original);
    }
    return null;
  }
  getOriginal(id3) {
    var _a, _b;
    return (_b = (_a = this.elements.get(id3)) == null ? void 0 : _a.original) != null ? _b : null;
  }
  has(id3) {
    return this.elements.has(id3);
  }
  bindClick(id3) {
    if (this.has(id3)) {
      const { fake, original } = this.elements.get(id3);
      fake.addEventListener("click", this.events.click);
      fake.addEventListener("focus", this.events.click);
      original.addEventListener("blur", this.events.blur);
    }
  }
  bindHover(id3) {
    if (this.has(id3)) {
      const { fake, original } = this.elements.get(id3);
      fake.addEventListener("mouseover", this.events.hover);
      original.addEventListener("mouseout", this.events.out);
    }
  }
  find(container, id3) {
    for (const node of Array.from(container.children)) {
      const cId = node.getAttribute(this.attr.fake);
      if (id3 === cId && node instanceof HTMLElement) {
        return node;
      }
    }
    return null;
  }
};
FakeTitleElementService = __decorateClass([
  injectable()
], FakeTitleElementService);

// src/Components/Extractor/BooleanStrategy.ts
var BooleanStrategy = class {
  process(v) {
    return v ? "true" : "false";
  }
  support(type) {
    return "boolean" === type;
  }
};
BooleanStrategy = __decorateClass([
  injectable()
], BooleanStrategy);

// src/Utils/ResultDomWrapper.ts
var ResultDomWrapper = class {
  constructor(resolver = null, dom) {
    this.resolver = resolver;
    this.replacer = null;
    this.replacer = FunctionReplacer.create(dom, "addResult", this, (self2, defaultArgs, vanilla) => {
      const c = vanilla.call(dom, ...defaultArgs);
      const file = defaultArgs[0];
      self2.processLookupItem(file, c);
      return c;
    });
    this.replacer.enable();
    this.process();
  }
  disable() {
    this.replacer.disable();
    this.replacer = null;
  }
  process() {
    var _a, _b, _c;
    const lookup = (_c = (_b = (_a = this.replacer) == null ? void 0 : _a.getTarget()) == null ? void 0 : _b.resultDomLookup) != null ? _c : /* @__PURE__ */ new Map();
    for (const [file, item] of lookup) {
      this.processLookupItem(file, item);
    }
  }
  processLookupItem(file, item) {
    var _a, _b;
    const restore = !((_a = this == null ? void 0 : this.replacer) == null ? void 0 : _a.isEnabled());
    if (file.extension !== "md") {
      return;
    }
    const node = item.containerEl.firstElementChild.find(".tree-item-inner");
    const text = (_b = restore ? null : this.resolver.resolve(file.path)) != null ? _b : file.basename;
    if (node.getText() !== text) {
      node.setText(text);
    }
  }
};

// src/Utils/SearchDomWrapperService.ts
var SearchDomWrapperService = class {
  constructor(logger) {
    this.logger = logger;
    this.entities = /* @__PURE__ */ new Map();
    this.timer = null;
  }
  wrapDom(dom, resolver, tag) {
    if (!this.entities.has(tag)) {
      this.entities.set(tag, /* @__PURE__ */ new Map());
    }
    const tagged = this.entities.get(tag);
    if (!tagged.has(dom)) {
      const wrapper = new ResultDomWrapper(resolver, dom);
      tagged.set(dom, wrapper);
      this.logger.log(`Entity created`);
      this.runTimer();
    }
  }
  destroyByTag(tag) {
    if (!this.entities.has(tag)) {
      return;
    }
    for (const [dom, wrapper] of this.entities.get(tag)) {
      wrapper.disable();
      this.entities.get(tag).delete(dom);
    }
  }
  runTimer() {
    if (this.timer) {
      clearTimeout(this.timer);
    }
    this.timer = window.setTimeout(this.selfClean.bind(this), 1e4);
  }
  selfClean() {
    this.timer = null;
    for (const [tag, entities] of this.entities) {
      this.logger.log(`Tag ${tag} has ${entities.size} entities before self-clean`);
      for (const [dom, wrapper] of entities) {
        if (!document.body.contains(dom.el)) {
          wrapper.disable();
          this.logger.log(`Dom from ${tag} tag has been removed`);
          this.entities.get(tag).delete(dom);
        }
      }
      this.logger.log(`Tag ${tag} has ${entities.size} entities after self-clean`);
    }
  }
};
SearchDomWrapperService = __decorateClass([
  injectable(),
  __decorateParam(0, inject(inversify_types_default.logger)),
  __decorateParam(0, named(SearchDomWrapperService.name))
], SearchDomWrapperService);

// src/Components/Delayer/Delayer.ts
var Delayer = class {
  delay(fn, time) {
    return setTimeout(fn, time);
  }
  clear(id3) {
    clearTimeout(id3);
  }
};
Delayer = __decorateClass([
  injectable()
], Delayer);

// config/inversify.config.ts
var Container2 = new Container();
Container2.bind(inversify_types_default["event:dispatcher"]).to(EventDispatcher).inSingletonScope();
Container2.bind(inversify_types_default["template:pattern"]).toConstantValue("(?<placeholder>{{[^{}]+?}})");
Container2.bind(inversify_types_default.filter).to(ExtensionFilter);
Container2.bind(inversify_types_default.filter).to(PathListFilter);
Container2.bind(inversify_types_default["component:black_white_list"]).to(BlackWhiteList).inSingletonScope();
Container2.bind(inversify_types_default.cache).to(Cache);
Container2.bind(inversify_types_default["component:extractor"]).to(Extractor);
Container2.bind(inversify_types_default["component:extractor:strategy"]).to(LiteralStrategy);
Container2.bind(inversify_types_default["component:extractor:strategy"]).to(ArrayStrategy);
Container2.bind(inversify_types_default["component:extractor:strategy"]).to(NullStrategy);
Container2.bind(inversify_types_default["component:extractor:strategy"]).to(BooleanStrategy);
Container2.bind(inversify_types_default["logger:composer"]).to(LoggerComposer).inSingletonScope();
Container2.bind(inversify_types_default.delayer).to(Delayer);
Container2.bind(inversify_types_default.logger).toDynamicValue((context) => {
  return context.container.get(inversify_types_default["logger:composer"]).create(context.currentRequest.target.getNamedTag().value);
}).when(() => true);
Container2.bind(inversify_types_default["service:note:link"]).to(FileNoteLinkService).inSingletonScope();
Container2.bind(inversify_types_default["service:fake_title_element"]).to(FakeTitleElementService);
Container2.bind(inversify_types_default.listener).to(BlackWhiteListListener).whenTargetNamed("unnamed");
Container2.bind(inversify_types_default.listener).to(ProcessorListener).whenTargetNamed("unnamed");
Container2.load(creator_config_default);
feature_config_default(Container2);
settings_config_default(Container2);
Container2.load(processors_config_default);
Container2.load(resolver_config_default);
Container2.load(api_adapter_config_default);
Container2.bind(inversify_types_default["factory:replacer"]).toFunction(
  (t3, m, a, i) => FunctionReplacer.create(t3, m, a, i)
);
Container2.bind(inversify_types_default["service:search:dom:wrapper"]).to(SearchDomWrapperService).inSingletonScope();
var inversify_config_default = Container2;

// src/App.ts
var App2 = class {
  constructor() {
    this.container = inversify_config_default;
    this.bind();
  }
  bind() {
    const dispatcher = this.container.get(inversify_types_default["event:dispatcher"]);
    dispatcher.addListener({
      name: "settings:changed",
      cb: (e) => this.onSettingsChanged(e.get())
    });
    dispatcher.addListener({
      name: "settings.loaded",
      once: true,
      cb: (e) => this.init(e.get().settings)
    });
  }
  init(settings) {
    this.container.bind(inversify_types_default.delimiter).toConstantValue(settings.rules.delimiter);
    this.container.get(inversify_types_default["logger:composer"])[settings.debug ? "enable" : "disable"]();
  }
  onSettingsChanged({ actual, changed }) {
    var _a;
    if ((_a = changed == null ? void 0 : changed.rules) == null ? void 0 : _a.delimiter) {
      this.container.rebind(inversify_types_default.delimiter).toConstantValue(actual.rules.delimiter);
    }
    if (changed.debug) {
      this.container.get(inversify_types_default["logger:composer"])[actual.debug ? "enable" : "disable"]();
    }
    const dispatcher = this.container.get(inversify_types_default["event:dispatcher"]);
    dispatcher.dispatch("resolver:clear", null);
  }
};
App2 = __decorateClass([
  injectable()
], App2);

// src/Utils/PluginHelper.ts
var PluginHelper = class {
  static compareVersion(version1, comparator, version2) {
    const left = version1.split(".").map(Number);
    const right = version2.split(".").map(Number);
    for (let i = 0; i < 3; ++i) {
      if (left[i] > right[i]) {
        return comparator === ">" || comparator === ">=" || comparator === "!=";
      } else if (left[i] < right[i]) {
        return comparator === "<" || comparator === "<=" || comparator === "!=";
      }
    }
    return comparator === "=" || comparator === ">=" || comparator === "<=";
  }
  static createDefaultSettings() {
    return {
      version: PLUGIN_VERSION,
      templates: {
        common: { main: "title", fallback: "fallback_title" }
      },
      rules: {
        paths: {
          mode: "black",
          values: []
        },
        delimiter: {
          enabled: false,
          value: ""
        }
      },
      debug: false,
      boot: {
        delay: 1e3,
        background: true
      },
      features: {
        ["alias" /* Alias */]: {
          enabled: false,
          strategy: "ensure" /* Ensure */,
          validator: "fr" /* FrontmatterRequired */,
          templates: { main: "", fallback: "" }
        },
        ["explorer" /* Explorer */]: { enabled: false, sort: false, templates: { main: "", fallback: "" } },
        ["tab" /* Tab */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["header" /* Header */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["graph" /* Graph */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["bookmarks" /* Bookmarks */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["search" /* Search */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["suggest" /* Suggest */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["inlineTitle" /* InlineTitle */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["canvas" /* Canvas */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["backlink" /* Backlink */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["windowFrame" /* WindowFrame */]: { enabled: false, templates: { main: "", fallback: "" } },
        ["noteLink" /* NoteLink */]: {
          enabled: false,
          strategy: "onlyEmpty" /* OnlyEmpty */,
          approval: true,
          templates: { main: "", fallback: "" }
        }
      },
      processor: {
        args: [],
        type: null
      }
    };
  }
};

// src/Obsidian/ObsidianFacade.ts
var import_obsidian18 = require("obsidian");
var ObsidianFacade = class {
  constructor(app) {
    this.app = app;
  }
  isInternalPluginEnabled(id3) {
    return this.app.internalPlugins.getEnabledPluginById(id3) !== null;
  }
  getTFile(path) {
    const file = this.app.vault.getAbstractFileByPath(path);
    return file instanceof import_obsidian18.TFile ? file : null;
  }
  getFileContent(file) {
    return this.app.vault.cachedRead(file);
  }
  modifyFile(file, c) {
    return this.app.vault.modify(file, c);
  }
  getFileCache(path) {
    return this.app.metadataCache.getCache(path);
  }
  getFileLinksCache(path) {
    var _a, _b;
    return (_b = (_a = this.getFileCache(path)) == null ? void 0 : _a.links) != null ? _b : [];
  }
  getLeavesOfType(type) {
    return this.app.workspace.getLeavesOfType(type);
  }
  getViewsOfType(type) {
    return this.getLeavesOfType(type).map((e) => e.view);
  }
  getFirstLinkpathDest(linkpath, from) {
    return this.app.metadataCache.getFirstLinkpathDest(linkpath, from);
  }
  getActiveLeaf() {
    var _a, _b;
    return (_b = (_a = this.app.workspace) == null ? void 0 : _a.activeLeaf) != null ? _b : null;
  }
  getActiveFile() {
    var _a, _b;
    return (_b = (_a = this.app.workspace) == null ? void 0 : _a.getActiveFile()) != null ? _b : null;
  }
  getWorkspace() {
    return this.app.workspace;
  }
  getMostRecentLeaf(root) {
    return this.app.workspace.getMostRecentLeaf(root);
  }
  getAppTitle(text = null) {
    return this.app.getAppTitle(text);
  }
};

// src/Migrator/Migrator.ts
var Migrator = class {
  constructor(config, dispatcher) {
    this.config = config;
    this.dispatcher = dispatcher;
  }
  migrate(version) {
    if (this.config.version === version) {
      return this.config;
    }
    const currentVersion = this.config.version;
    const versions = Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter((e) => e.startsWith("v")).map((e) => e.replace("v", "").replaceAll("_", ".")).filter((e) => PluginHelper.compareVersion(e, ">", currentVersion)).sort((a, b) => {
      if (PluginHelper.compareVersion(a, "<", b)) {
        return -1;
      } else if (PluginHelper.compareVersion(a, ">", b)) {
        return 1;
      }
      return 0;
    });
    for (const version2 of versions) {
      const method = "v" + version2.replaceAll(".", "_");
      console.log(`Migrate from ${currentVersion} to ${version2} by ${method}`);
      this[method]();
    }
    this.dispatcher.dispatch("migrator:migrated", new Event({ from: currentVersion, to: version }));
    return this.config;
  }
  v3_8_0() {
    const features = Object.values(Feature);
    delete this.config.features["explorer:sort"];
    for (const [k, v] of Object.entries(this.config.templates)) {
      if (features.contains(k)) {
        this.config.features[k].templates = v;
        delete this.config.templates[k];
      }
    }
    return;
  }
  v3_8_3() {
    var _a, _b, _c, _d, _e, _f, _g;
    if (Array.isArray((_a = this.config) == null ? void 0 : _a.templates)) {
      this.config.templates = {
        common: {
          main: (_d = (_c = (_b = this.config) == null ? void 0 : _b.templates) == null ? void 0 : _c[0]) != null ? _d : PluginHelper.createDefaultSettings().templates.common.main,
          fallback: (_g = (_f = (_e = this.config) == null ? void 0 : _e.templates) == null ? void 0 : _f[1]) != null ? _g : ""
        }
      };
    }
  }
  v3_9_0() {
    if (this.config.features.starred) {
      delete this.config.features.starred;
    }
  }
};

// main.ts
var MetaTitlePlugin = class extends import_obsidian19.Plugin {
  constructor() {
    super(...arguments);
    this.container = inversify_config_default;
  }
  getDefer() {
    return this.container.get(inversify_types_default.defer);
  }
  async onload() {
    this.bindServices();
    this.dispatcher = this.container.get(inversify_types_default["event:dispatcher"]);
    this.logger = this.container.getNamed(inversify_types_default.logger, "main");
    this.app.workspace.on("layout-change", () => this.dispatcher.dispatch("layout:change", null));
    this.app.workspace.on("active-leaf-change", () => this.dispatcher.dispatch("active:leaf:change", null));
    this.app.workspace.on("file-open", (file) => this.dispatcher.dispatch("file:open", new Event(file)));
    new App2();
    this.container.getAllNamed(inversify_types_default.listener, "unnamed").map((e) => e.bind());
    await this.loadSettings();
    this.app.workspace.onLayoutReady(() => this.getDefer().setFlag(DeferPluginReady));
    await this.delay();
  }
  onunload() {
    this.fc.disableAll();
  }
  async loadSettings() {
    const loaded = await this.loadData();
    if (loaded && !loaded.version) {
      loaded.version = "0.0.0";
    }
    let data = ObjectHelper.fillFrom(PluginHelper.createDefaultSettings(), loaded != null ? loaded : {});
    data = new Migrator(data, this.dispatcher).migrate(PLUGIN_VERSION);
    data.version = PLUGIN_VERSION;
    this.storage = new Storage(data);
    this.container.bind(inversify_types_default["settings:storage"]).toConstantValue(this.storage);
    this.addSettingTab(this.container.resolve(SettingsTab).getTab());
  }
  async onSettingsChange(settings) {
    await this.saveData(settings);
    this.reloadFeatures();
    await this.mc.refresh();
  }
  async delay() {
    const delay = this.storage.get("boot").get("delay").value();
    const background = this.storage.get("boot").get("background").value();
    this.logger.log(`Plugin manual delay ${delay}`);
    let promise = new Promise(
      (r) => setTimeout(() => {
        this.fc = inversify_config_default.get(inversify_types_default["feature:composer"]);
        this.mc = inversify_config_default.get(inversify_types_default["manager:composer"]);
        this.bind();
        this.registerCommands();
        r();
      }, delay)
    );
    if (delay > 0) {
      new import_obsidian19.Notice(`[${this.manifest.name}]
Will be loaded in ${delay}ms. Background: ${background}`);
      promise = promise.then(() => new import_obsidian19.Notice(`[${this.manifest.name}]
Loaded. Background: ${background}`));
    }
    return background ? null : promise;
  }
  bindServices() {
    inversify_config_default.bind(inversify_types_default["factory:obsidian:file"]).toFactory(
      () => (path) => this.app.vault.getAbstractFileByPath(path)
    );
    inversify_config_default.bind(inversify_types_default["factory:obsidian:meta"]).toFactory(
      () => (path, type) => {
        var _a;
        return (_a = this.app.metadataCache.getCache(path)) == null ? void 0 : _a[type];
      }
    );
    inversify_config_default.bind(inversify_types_default["facade:obsidian"]).toConstantValue(new ObsidianFacade(this.app));
    inversify_config_default.bind(inversify_types_default["factory:metadata:cache"]).toFunction(() => this.app.metadataCache);
    inversify_config_default.bind(inversify_types_default["obsidian:app"]).toConstantValue(this.app);
    inversify_config_default.bind(inversify_types_default["obsidian:plugin"]).toConstantValue(this);
    inversify_config_default.bind(inversify_types_default["newable:obsidian:chooser"]).toConstructor(
      //@ts-ignore
      Object.getPrototypeOf(this.app.workspace.editorSuggest.suggests[0].suggestions).constructor
    );
    inversify_config_default.bind(inversify_types_default["factory:obsidian:active:file"]).toFunction(() => this.app.workspace.getActiveFile());
    inversify_config_default.bind(inversify_types_default["factory:obsidian:modal"]).toFunction(() => new import_obsidian19.Modal(this.app));
  }
  bind() {
    this.registerEvent(
      this.app.metadataCache.on(
        "changed",
        (file, _, cache) => this.dispatcher.dispatch("metadata:cache:changed", new Event({ path: file.path, cache }))
      )
    );
    this.app.workspace.onLayoutReady(async () => {
      this.registerEvent(
        this.app.vault.on(
          "rename",
          ({ path: actual }, old) => this.dispatcher.dispatch("file:rename", new Event({ old, actual }))
        )
      );
      await new Promise((r) => setTimeout(r, 3e3));
      this.reloadFeatures();
      await this.mc.refresh();
      this.getDefer().setFlag(DeferFeaturesReady);
    });
    this.dispatcher.addListener({
      name: "resolver:unresolved",
      cb: (e) => this.mc.update(e.get().path).catch(console.error)
    });
    this.dispatcher.addListener({ name: "settings:changed", cb: (e) => this.onSettingsChange(e.get().actual) });
  }
  reloadFeatures() {
    this.fc.disableAll();
    const f = this.storage.get("features");
    const states = [];
    for (const feature of Object.values(Feature)) {
      states.push([feature, f.get(feature).get("enabled").value()]);
    }
    for (const [id3, state] of states) {
      try {
        this.fc.toggle(id3, state);
      } catch (e) {
        this.fc.toggle(id3, false);
        this.logger.log(e);
        new import_obsidian19.Notice(e);
      }
    }
  }
  registerCommands() {
    this.addCommand({
      id: "ofmt-features-stop",
      name: t2("command.features.disable"),
      callback: () => this.fc.disableAll()
    });
    this.addCommand({
      id: "ofmt-features-reload",
      name: t2("command.features.reload"),
      callback: () => {
        this.reloadFeatures();
        this.mc.refresh().catch(console.error);
      }
    });
  }
};
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvcmVmbGVjdC1tZXRhZGF0YS9SZWZsZWN0LmpzIiwgInNyYy9TZXR0aW5ncy9TZXR0aW5nc1RhYi50cyIsICJzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnQudHMiLCAic3JjL1V0aWxzL09iamVjdEhlbHBlci50cyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy91dGlscy9pZC5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2JpbmRpbmdzL2JpbmRpbmcuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9jb25zdGFudHMvZXJyb3JfbXNncy5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3BsYW5uaW5nL21ldGFkYXRhX3JlYWRlci5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2JpbmRpbmdzL2JpbmRpbmdfY291bnQuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy91dGlscy9leGNlcHRpb25zLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvdXRpbHMvc2VyaWFsaXphdGlvbi5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3BsYW5uaW5nL2NvbnRleHQuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9wbGFubmluZy9tZXRhZGF0YS5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3BsYW5uaW5nL3BsYW4uanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9hbm5vdGF0aW9uL2xhenlfc2VydmljZV9pZGVudGlmaWVyLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvcGxhbm5pbmcvcXVlcnlhYmxlX3N0cmluZy5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3BsYW5uaW5nL3RhcmdldC5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3BsYW5uaW5nL3JlZmxlY3Rpb25fdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9wbGFubmluZy9yZXF1ZXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvcGxhbm5pbmcvcGxhbm5lci5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3V0aWxzL2FzeW5jLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvc2NvcGUvc2NvcGUuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy91dGlscy9mYWN0b3J5X3R5cGUuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy91dGlscy9iaW5kaW5nX3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvcmVzb2x1dGlvbi9pbnN0YW50aWF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvcmVzb2x1dGlvbi9yZXNvbHZlci5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3N5bnRheC9jb25zdHJhaW50X2hlbHBlcnMuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9zeW50YXgvYmluZGluZ193aGVuX3N5bnRheC5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3N5bnRheC9iaW5kaW5nX29uX3N5bnRheC5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL3N5bnRheC9iaW5kaW5nX3doZW5fb25fc3ludGF4LmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvc3ludGF4L2JpbmRpbmdfaW5fc3ludGF4LmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvc3ludGF4L2JpbmRpbmdfaW5fd2hlbl9vbl9zeW50YXguanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9zeW50YXgvYmluZGluZ190b19zeW50YXguanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9jb250YWluZXIvY29udGFpbmVyX3NuYXBzaG90LmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvdXRpbHMvY2xvbmFibGUuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9jb250YWluZXIvbG9va3VwLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvY29udGFpbmVyL21vZHVsZV9hY3RpdmF0aW9uX3N0b3JlLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvY29udGFpbmVyL2NvbnRhaW5lci5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2NvbnRhaW5lci9jb250YWluZXJfbW9kdWxlLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvdXRpbHMvanMuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9hbm5vdGF0aW9uL2RlY29yYXRvcl91dGlscy5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2Fubm90YXRpb24vaW5qZWN0YWJsZS5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2Fubm90YXRpb24vbmFtZWQuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9hbm5vdGF0aW9uL2luamVjdF9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9pbnZlcnNpZnkvZXMvYW5ub3RhdGlvbi9pbmplY3QuanMiLCAibm9kZV9tb2R1bGVzL2ludmVyc2lmeS9lcy9hbm5vdGF0aW9uL211bHRpX2luamVjdC5qcyIsICJub2RlX21vZHVsZXMvaW52ZXJzaWZ5L2VzL2ludGVyZmFjZXMvaW50ZXJmYWNlcy5qcyIsICJjb25maWcvaW52ZXJzaWZ5LnR5cGVzLnRzIiwgInNyYy9pMThuL0xvY2FsZS50cyIsICJzcmMvRW51bS50cyIsICJzcmMvaTE4bi9lbi9pbmRleC50cyIsICJzcmMvaTE4bi9ydS9pbmRleC50cyIsICJub2RlX21vZHVsZXMvaTE4bmV4dC9kaXN0L2VzbS9pMThuZXh0LmpzIiwgInNyYy9pMThuL3poL2luZGV4LnRzIiwgInNyYy9pMThuL3poLXR3L2luZGV4LnRzIiwgInNyYy9pMThuL2tvL2luZGV4LnRzIiwgInNyYy9pMThuL2l0L2luZGV4LnRzIiwgInNyYy9pMThuL2lkL2luZGV4LnRzIiwgInNyYy9pMThuL3JvL2luZGV4LnRzIiwgInNyYy9pMThuL3BsL2luZGV4LnRzIiwgInNyYy9pMThuL2NzL2luZGV4LnRzIiwgInNyYy9pMThuL2RlL2luZGV4LnRzIiwgInNyYy9pMThuL2VzL2luZGV4LnRzIiwgInNyYy9pMThuL2ZyL2luZGV4LnRzIiwgInNyYy9pMThuL25vL2luZGV4LnRzIiwgInNyYy9pMThuL3ByLWJyL2luZGV4LnRzIiwgInNyYy9pMThuL3B0L2luZGV4LnRzIiwgInNyYy9pMThuL2phL2luZGV4LnRzIiwgInNyYy9pMThuL2RhL2luZGV4LnRzIiwgInNyYy9pMThuL3VrL2luZGV4LnRzIiwgInNyYy9pMThuL3NxL2luZGV4LnRzIiwgInNyYy9pMThuL3RoL2luZGV4LnRzIiwgInNyYy9pMThuL2ZhL2luZGV4LnRzIiwgInNyYy9pMThuL3RyL2luZGV4LnRzIiwgInNyYy9pMThuL25sL2luZGV4LnRzIiwgInNyYy9pMThuL2FtL2luZGV4LnRzIiwgInNyYy9pMThuL21zL2luZGV4LnRzIiwgInNyYy9TdG9yYWdlL1N0b3JhZ2UudHMiLCAic3JjL0NyZWF0b3IvVGVtcGxhdGUvRmFjdG9yeS50cyIsICJzcmMvQ3JlYXRvci9UZW1wbGF0ZS9TaW1wbGUudHMiLCAic3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL0Fic3RyYWN0UGxhY2Vob2xkZXIudHMiLCAic3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL01ldGFQbGFjZWhvbGRlci50cyIsICJzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvRXhjZXB0aW9ucy9QYXRoTm90Rm91bmRFeGNlcHRpb24udHMiLCAic3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0V4Y2VwdGlvbnMvVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi50cyIsICJzcmMvQ3JlYXRvci9DcmVhdG9yLnRzIiwgInNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9GYWN0b3J5LnRzIiwgInNyYy9DcmVhdG9yL1RlbXBsYXRlL0NvbXBvc2l0ZS50cyIsICJzcmMvQ3JlYXRvci9UZW1wbGF0ZS9QbGFjZWhvbGRlcnMvQnJhY2tldHNQbGFjZWhvbGRlci50cyIsICJzcmMvQ3JlYXRvci9UZW1wbGF0ZS9QbGFjZWhvbGRlcnMvRmlsZVBsYWNlaG9sZGVyLnRzIiwgInNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9IZWFkaW5nUGxhY2Vob2xkZXIudHMiLCAic3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL0xvZ2ljUGxhY2Vob2xkZXIudHMiLCAiY29uZmlnL3NlcnZpY2VzL2NyZWF0b3IuY29uZmlnLnRzIiwgInNyYy9GZWF0dXJlL0V4cGxvcmVyL0V4cGxvcmVyTWFuYWdlci50cyIsICJzcmMvRmVhdHVyZS9BYnN0cmFjdEZlYXR1cmUudHMiLCAic3JjL0ZlYXR1cmUvQWJzdHJhY3RNYW5hZ2VyLnRzIiwgInNyYy9GZWF0dXJlL0V4cGxvcmVyL0V4cGxvcmVyVmlld1VuZGVmaW5lZC50cyIsICJzcmMvRmVhdHVyZS9GZWF0dXJlQ29tcG9zZXIudHMiLCAic3JjL0ZlYXR1cmUvRXhwbG9yZXIvRXhwbG9yZXJTb3J0LnRzIiwgInNyYy9GZWF0dXJlL01hbmFnZXJDb21wb3Nlci50cyIsICJzcmMvRmVhdHVyZS9TZWFyY2gvU2VhcmNoRmVhdHVyZS50cyIsICJzcmMvVXRpbHMvRnVuY3Rpb25SZXBsYWNlci50cyIsICJzcmMvRmVhdHVyZS9UYWIvVGFiTWFuYWdlci50cyIsICJzcmMvRmVhdHVyZS9BbGlhcy9BbGlhcy50cyIsICJzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc0ZlYXR1cmUudHMiLCAic3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvQWJzdHJhY3RTdHJhdGVneS50cyIsICJzcmMvRmVhdHVyZS9BbGlhcy9TdHJhdGVneS9SZXBsYWNlU3RyYXRlZ3kudHMiLCAic3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvRW5zdXJlU3RyYXRlZ3kudHMiLCAic3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvQWRqdXN0U3RyYXRlZ3kudHMiLCAic3JjL0ZlYXR1cmUvU3VnZ2VzdC9TdWdnZXN0RmVhdHVyZS50cyIsICJzcmMvRmVhdHVyZS9Cb29rbWFya3MvQm9va21hcmtzTWFuYWdlci50cyIsICJzcmMvRmVhdHVyZS9HcmFwaC9HcmFwaE1hbmFnZXIudHMiLCAic3JjL0ZlYXR1cmUvTWFya2Rvd25IZWFkZXIvTWFya2Rvd25IZWFkZXJNYW5hZ2VyLnRzIiwgInNyYy9GZWF0dXJlL0FsaWFzL1ZhbGlkYXRvci50cyIsICJzcmMvRmVhdHVyZS9JbmxpbmVUaXRsZS9JbmxpbmVUaXRsZU1hbmFnZXIudHMiLCAic3JjL0ZlYXR1cmUvQ2FudmFzL0NhbnZhc01hbmFnZXIudHMiLCAic3JjL1V0aWxzL0ZlYXR1cmVIZWxwZXIudHMiLCAic3JjL0ZlYXR1cmUvRmVhdHVyZVNlcnZpY2UudHMiLCAic3JjL0ZlYXR1cmUvQmFja2xpbmsvQmFja2xpbmtGZWF0dXJlLnRzIiwgInNyYy9GZWF0dXJlL05vdGVMaW5rL05vdGVMaW5rRmVhdHVyZS50cyIsICJzcmMvRmVhdHVyZS9Ob3RlTGluay9Ob3RlTGlua0FwcHJvdmUudHMiLCAic3JjL0ZlYXR1cmUvQWxpYXMvQWxpYXNDb25maWcudHMiLCAic3JjL0ZlYXR1cmUvRXhwbG9yZXIvRXhwbG9yZXJGaWxlSXRlbU11dGF0b3IudHMiLCAic3JjL0ZlYXR1cmUvV2luZG93RnJhbWUvV2luZG93RnJhbWVGZWF0dXJlLnRzIiwgImNvbmZpZy9zZXJ2aWNlcy9mZWF0dXJlLmNvbmZpZy50cyIsICJzcmMvU2V0dGluZ3MvRmVhdHVyZUJ1aWxkZXIvQWJzdHJhY3RCdWlsZGVyLnRzIiwgInNyYy9TZXR0aW5ncy9GZWF0dXJlQnVpbGRlci9EZWZhdWx0QnVpbGRlci50cyIsICJzcmMvU2V0dGluZ3MvRmVhdHVyZUJ1aWxkZXIvQWxpYXNCdWlsZGVyLnRzIiwgInNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvQWJzdHJhY3RCdWlsZGVyLnRzIiwgInNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvVGVtcGxhdGVzL1RlbXBsYXRlc0J1aWxkZXIudHMiLCAic3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9SdWxlcy9SdWxlc0J1aWxkZXIudHMiLCAic3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9GZWF0dXJlcy9GZWF0dXJlc0J1aWxkZXIudHMiLCAic3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9VdGlsL1V0aWxCdWlsZGVyLnRzIiwgInNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvUnVsZXMvUnVsZXNEZWxpbWl0ZXJCdWlsZGVyLnRzIiwgInNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvUnVsZXMvUnVsZXNQYXRoc0J1aWxkZXIudHMiLCAic3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9Qcm9jZXNzb3IvUHJvY2Vzc29yQnVpbGRlci50cyIsICJzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yVXRpbHMudHMiLCAic3JjL1NldHRpbmdzL0ZlYXR1cmVCdWlsZGVyL05vdGVMaW5rQnVpbGRlci50cyIsICJzcmMvU2V0dGluZ3MvRmVhdHVyZUJ1aWxkZXIvRXhwbG9yZXJCdWlsZGVyLnRzIiwgImNvbmZpZy9zZXJ2aWNlcy9zZXR0aW5ncy5jb25maWcudHMiLCAic3JjL0NvbXBvbmVudHMvUHJvY2Vzc29yL1JlcGxhY2VQcm9jZXNzb3IudHMiLCAic3JjL0NvbXBvbmVudHMvUHJvY2Vzc29yL0Z1bmN0aW9uUHJvY2Vzc29yLnRzIiwgInNyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9GdW5jdGlvblYyUHJvY2Vzc29yLnRzIiwgInNyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9Qcm9jZXNzb3JBcmd1bWVudFRyYW5zZm9ybWVyLnRzIiwgImNvbmZpZy9zZXJ2aWNlcy9wcm9jZXNzb3JzLmNvbmZpZy50cyIsICJzcmMvUmVzb2x2ZXIvUmVzb2x2ZXJTZXJ2aWNlLnRzIiwgInNyYy9SZXNvbHZlci9SZXNvbHZlckNhY2hlZFByb3h5LnRzIiwgInNyYy9SZXNvbHZlci9SZXNvbHZlci50cyIsICJjb25maWcvc2VydmljZXMvcmVzb2x2ZXIuY29uZmlnLnRzIiwgInNyYy9Db21wb25lbnRzL0FwaUFkYXB0ZXIvQXBpLnRzIiwgInNyYy9Db21wb25lbnRzL0FwaUFkYXB0ZXIvRGVmZXIudHMiLCAiY29uZmlnL3NlcnZpY2VzL2FwaS5hZGFwdGVyLmNvbmZpZy50cyIsICJzcmMvRmlsdGVycy9FeHRlbnNpb25GaWx0ZXIudHMiLCAic3JjL0ZpbHRlcnMvUGF0aExpc3RGaWx0ZXIudHMiLCAic3JjL0NvbXBvbmVudHMvQmxhY2tXaGl0ZUxpc3QvQmxhY2tXaGl0ZUxpc3QudHMiLCAic3JjL0NvbXBvbmVudHMvQ2FjaGUvQ2FjaGVJdGVtLnRzIiwgInNyYy9Db21wb25lbnRzL0NhY2hlL0NhY2hlLnRzIiwgInNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9FeHRyYWN0b3IudHMiLCAic3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0xpdGVyYWxTdHJhdGVneS50cyIsICJzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvQXJyYXlTdHJhdGVneS50cyIsICJzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvTnVsbFN0cmF0ZWd5LnRzIiwgInNyYy9Db21wb25lbnRzL0RlYnVnL0RlYnVnZ2VyLnRzIiwgInNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckNvbXBvc2VyLnRzIiwgInNyYy9VdGlscy9GaWxlTm90ZUxpbmtTZXJ2aWNlLnRzIiwgInNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9FdmVudERpc3BhdGNoZXIudHMiLCAic3JjL0NvbXBvbmVudHMvQmxhY2tXaGl0ZUxpc3QvQmxhY2tXaGl0ZUxpc3RMaXN0ZW5lci50cyIsICJzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Nlc3Nvckxpc3RlbmVyLnRzIiwgInNyYy9VdGlscy9GYWtlVGl0bGVFbGVtZW50U2VydmljZS50cyIsICJzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvQm9vbGVhblN0cmF0ZWd5LnRzIiwgInNyYy9VdGlscy9SZXN1bHREb21XcmFwcGVyLnRzIiwgInNyYy9VdGlscy9TZWFyY2hEb21XcmFwcGVyU2VydmljZS50cyIsICJzcmMvQ29tcG9uZW50cy9EZWxheWVyL0RlbGF5ZXIudHMiLCAiY29uZmlnL2ludmVyc2lmeS5jb25maWcudHMiLCAic3JjL0FwcC50cyIsICJzcmMvVXRpbHMvUGx1Z2luSGVscGVyLnRzIiwgInNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZS50cyIsICJzcmMvTWlncmF0b3IvTWlncmF0b3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcblxuaW1wb3J0IHsgQXBwRXh0LCBDYWNoZWRNZXRhZGF0YSwgTW9kYWwsIE5vdGljZSwgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBTZXR0aW5nc0V2ZW50LCBTZXR0aW5nc1R5cGUgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCBTZXR0aW5nc1RhYiBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1RhYlwiO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSBcIkBzcmMvU3RvcmFnZS9TdG9yYWdlXCI7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5jb25maWdcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IGludGVyZmFjZXMgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgQXBwIGZyb20gXCJAc3JjL0FwcFwiO1xuaW1wb3J0IHsgQXBwRXZlbnRzIH0gZnJvbSBcIkBzcmMvVHlwZXNcIjtcbmltcG9ydCB7IFJlc29sdmVyRXZlbnRzIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvUmVzb2x2ZXJUeXBlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCBQbHVnaW5IZWxwZXIgZnJvbSBcIkBzcmMvVXRpbHMvUGx1Z2luSGVscGVyXCI7XG5pbXBvcnQgTG9nZ2VySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgT2JzaWRpYW5GYWNhZGUgZnJvbSBcIkBzcmMvT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCJAc3JjL1V0aWxzL09iamVjdEhlbHBlclwiO1xuaW1wb3J0IEZlYXR1cmVDb21wb3NlciBmcm9tIFwiQHNyYy9GZWF0dXJlL0ZlYXR1cmVDb21wb3NlclwiO1xuaW1wb3J0IE1hbmFnZXJDb21wb3NlciBmcm9tIFwiQHNyYy9GZWF0dXJlL01hbmFnZXJDb21wb3NlclwiO1xuaW1wb3J0IHsgT2JzaWRpYW5NZXRhRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgTGlzdGVuZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvSW50ZXJmYWNlcy9MaXN0ZW5lckludGVyZmFjZVwiO1xuaW1wb3J0IHsgUGx1Z2luSW50ZXJmYWNlIH0gZnJvbSBcImZyb250LW1hdHRlci1wbHVnaW4tYXBpLXByb3ZpZGVyXCI7XG5pbXBvcnQgRGVmZXIsIHsgRGVmZXJGZWF0dXJlc1JlYWR5LCBEZWZlclBsdWdpblJlYWR5IH0gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9BcGlBZGFwdGVyL0RlZmVyXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIkBzcmMvaTE4bi9Mb2NhbGVcIjtcbmltcG9ydCB7IE1pZ3JhdG9yIH0gZnJvbSBcIkBzcmMvTWlncmF0b3IvTWlncmF0b3JcIjtcblxuZGVjbGFyZSBjb25zdCBQTFVHSU5fVkVSU0lPTjogc3RyaW5nO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWV0YVRpdGxlUGx1Z2luIGV4dGVuZHMgUGx1Z2luIGltcGxlbWVudHMgUGx1Z2luSW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxBcHBFdmVudHMgJiBSZXNvbHZlckV2ZW50cyAmIFNldHRpbmdzRXZlbnQ+O1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBpbnRlcmZhY2VzLkNvbnRhaW5lciA9IENvbnRhaW5lcjtcbiAgICBwcml2YXRlIHN0b3JhZ2U6IFN0b3JhZ2U8U2V0dGluZ3NUeXBlPjtcbiAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlO1xuICAgIHByaXZhdGUgZmM6IEZlYXR1cmVDb21wb3NlcjtcbiAgICBwcml2YXRlIG1jOiBNYW5hZ2VyQ29tcG9zZXI7XG5cbiAgICBwdWJsaWMgZ2V0RGVmZXIoKTogRGVmZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0KFNJLmRlZmVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICB0aGlzLmJpbmRTZXJ2aWNlcygpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSB0aGlzLmNvbnRhaW5lci5nZXQoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSB0aGlzLmNvbnRhaW5lci5nZXROYW1lZChTSS5sb2dnZXIsIFwibWFpblwiKTtcblxuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJsYXlvdXQtY2hhbmdlXCIsICgpID0+IHRoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaChcImxheW91dDpjaGFuZ2VcIiwgbnVsbCkpO1xuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKCkgPT4gdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwiYWN0aXZlOmxlYWY6Y2hhbmdlXCIsIG51bGwpKTtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1vcGVuXCIsIGZpbGUgPT4gdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwiZmlsZTpvcGVuXCIsIG5ldyBFdmVudChmaWxlKSkpO1xuICAgICAgICBuZXcgQXBwKCk7IC8vcmVwbGFjZSB3aXRoIHN0YXRpY1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRBbGxOYW1lZDxMaXN0ZW5lckludGVyZmFjZT4oU0kubGlzdGVuZXIsIFwidW5uYW1lZFwiKS5tYXAoZSA9PiBlLmJpbmQoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHRoaXMuZ2V0RGVmZXIoKS5zZXRGbGFnKERlZmVyUGx1Z2luUmVhZHkpKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmRlbGF5KCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9udW5sb2FkKCkge1xuICAgICAgICB0aGlzLmZjLmRpc2FibGVBbGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgbG9hZGVkID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuICAgICAgICBpZiAobG9hZGVkICYmICFsb2FkZWQudmVyc2lvbikge1xuICAgICAgICAgICAgbG9hZGVkLnZlcnNpb24gPSBcIjAuMC4wXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGEgPSBPYmplY3RIZWxwZXIuZmlsbEZyb20oUGx1Z2luSGVscGVyLmNyZWF0ZURlZmF1bHRTZXR0aW5ncygpLCBsb2FkZWQgPz8ge30pO1xuICAgICAgICBkYXRhID0gbmV3IE1pZ3JhdG9yKGRhdGEsIHRoaXMuZGlzcGF0Y2hlcikubWlncmF0ZShQTFVHSU5fVkVSU0lPTik7XG4gICAgICAgIGRhdGEudmVyc2lvbiA9IFBMVUdJTl9WRVJTSU9OO1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgU3RvcmFnZTxTZXR0aW5nc1R5cGU+KGRhdGEpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5iaW5kPFN0b3JhZ2U8U2V0dGluZ3NUeXBlPj4oU0lbXCJzZXR0aW5nczpzdG9yYWdlXCJdKS50b0NvbnN0YW50VmFsdWUodGhpcy5zdG9yYWdlKTtcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKHRoaXMuY29udGFpbmVyLnJlc29sdmUoU2V0dGluZ3NUYWIpLmdldFRhYigpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9uU2V0dGluZ3NDaGFuZ2Uoc2V0dGluZ3M6IFNldHRpbmdzVHlwZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5yZWxvYWRGZWF0dXJlcygpO1xuICAgICAgICBhd2FpdCB0aGlzLm1jLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGRlbGF5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuc3RvcmFnZS5nZXQoXCJib290XCIpLmdldChcImRlbGF5XCIpLnZhbHVlKCk7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLnN0b3JhZ2UuZ2V0KFwiYm9vdFwiKS5nZXQoXCJiYWNrZ3JvdW5kXCIpLnZhbHVlKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgUGx1Z2luIG1hbnVhbCBkZWxheSAke2RlbGF5fWApO1xuICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHIgPT5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmMgPSBDb250YWluZXIuZ2V0KFNJW1wiZmVhdHVyZTpjb21wb3NlclwiXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYyA9IENvbnRhaW5lci5nZXQoU0lbXCJtYW5hZ2VyOmNvbXBvc2VyXCJdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKTtcbiAgICAgICAgICAgICAgICByKCk7XG4gICAgICAgICAgICB9LCBkZWxheSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShgWyR7dGhpcy5tYW5pZmVzdC5uYW1lfV1cXG5XaWxsIGJlIGxvYWRlZCBpbiAke2RlbGF5fW1zLiBCYWNrZ3JvdW5kOiAke2JhY2tncm91bmR9YCk7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IG5ldyBOb3RpY2UoYFske3RoaXMubWFuaWZlc3QubmFtZX1dXFxuTG9hZGVkLiBCYWNrZ3JvdW5kOiAke2JhY2tncm91bmR9YCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYWNrZ3JvdW5kID8gbnVsbCA6IHByb21pc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiaW5kU2VydmljZXMoKTogdm9pZCB7XG4gICAgICAgIENvbnRhaW5lci5iaW5kPGludGVyZmFjZXMuRmFjdG9yeTx7IFtrOiBzdHJpbmddOiBhbnkgfT4+KFNJW1wiZmFjdG9yeTpvYnNpZGlhbjpmaWxlXCJdKS50b0ZhY3Rvcnk8XG4gICAgICAgICAgICB7IFtrOiBzdHJpbmddOiBhbnkgfSxcbiAgICAgICAgICAgIFtzdHJpbmddXG4gICAgICAgID4oXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgIChwYXRoOiBzdHJpbmcpOiBhbnkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpXG4gICAgICAgICk7XG4gICAgICAgIENvbnRhaW5lci5iaW5kPGludGVyZmFjZXMuRmFjdG9yeTx7IFtrOiBzdHJpbmddOiBhbnkgfT4+KFNJW1wiZmFjdG9yeTpvYnNpZGlhbjptZXRhXCJdKS50b0ZhY3Rvcnk8XG4gICAgICAgICAgICB7IFtrOiBzdHJpbmddOiBhbnkgfSxcbiAgICAgICAgICAgIFtzdHJpbmcsIHN0cmluZ11cbiAgICAgICAgPihcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICAgKHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55ID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Q2FjaGUocGF0aCk/Llt0eXBlIGFzIGtleW9mIENhY2hlZE1ldGFkYXRhXVxuICAgICAgICApO1xuICAgICAgICBDb250YWluZXIuYmluZDxPYnNpZGlhbkZhY2FkZT4oU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pLnRvQ29uc3RhbnRWYWx1ZShuZXcgT2JzaWRpYW5GYWNhZGUodGhpcy5hcHAgYXMgQXBwRXh0KSk7XG5cbiAgICAgICAgQ29udGFpbmVyLmJpbmQ8T2JzaWRpYW5NZXRhRmFjdG9yeT4oU0lbXCJmYWN0b3J5Om1ldGFkYXRhOmNhY2hlXCJdKS50b0Z1bmN0aW9uKCgpID0+IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUpO1xuICAgICAgICBDb250YWluZXIuYmluZChTSVtcIm9ic2lkaWFuOmFwcFwiXSkudG9Db25zdGFudFZhbHVlKHRoaXMuYXBwKTtcbiAgICAgICAgQ29udGFpbmVyLmJpbmQoU0lbXCJvYnNpZGlhbjpwbHVnaW5cIl0pLnRvQ29uc3RhbnRWYWx1ZSh0aGlzKTtcbiAgICAgICAgQ29udGFpbmVyLmJpbmQoU0lbXCJuZXdhYmxlOm9ic2lkaWFuOmNob29zZXJcIl0pLnRvQ29uc3RydWN0b3IoXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzLmFwcC53b3Jrc3BhY2UuZWRpdG9yU3VnZ2VzdC5zdWdnZXN0c1swXS5zdWdnZXN0aW9ucykuY29uc3RydWN0b3JcbiAgICAgICAgKTtcbiAgICAgICAgQ29udGFpbmVyLmJpbmQoU0lbXCJmYWN0b3J5Om9ic2lkaWFuOmFjdGl2ZTpmaWxlXCJdKS50b0Z1bmN0aW9uKCgpID0+IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkpO1xuICAgICAgICBDb250YWluZXIuYmluZChTSVtcImZhY3Rvcnk6b2JzaWRpYW46bW9kYWxcIl0pLnRvRnVuY3Rpb24oKCkgPT4gbmV3IE1vZGFsKHRoaXMuYXBwKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiaW5kKCkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFwiY2hhbmdlZFwiLCAoZmlsZSwgXywgY2FjaGUpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwibWV0YWRhdGE6Y2FjaGU6Y2hhbmdlZFwiLCBuZXcgRXZlbnQoeyBwYXRoOiBmaWxlLnBhdGgsIGNhY2hlIH0pKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgKHsgcGF0aDogYWN0dWFsIH0sIG9sZCkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwiZmlsZTpyZW5hbWVcIiwgbmV3IEV2ZW50KHsgb2xkLCBhY3R1YWwgfSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAzMDAwKSk7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZEZlYXR1cmVzKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1jLnJlZnJlc2goKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0RGVmZXIoKS5zZXRGbGFnKERlZmVyRmVhdHVyZXNSZWFkeSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJyZXNvbHZlcjp1bnJlc29sdmVkXCIsXG4gICAgICAgICAgICBjYjogZSA9PiB0aGlzLm1jLnVwZGF0ZShlLmdldCgpLnBhdGgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoeyBuYW1lOiBcInNldHRpbmdzOmNoYW5nZWRcIiwgY2I6IGUgPT4gdGhpcy5vblNldHRpbmdzQ2hhbmdlKGUuZ2V0KCkuYWN0dWFsKSB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbG9hZEZlYXR1cmVzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZjLmRpc2FibGVBbGwoKTtcbiAgICAgICAgY29uc3QgZiA9IHRoaXMuc3RvcmFnZS5nZXQoXCJmZWF0dXJlc1wiKTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIE9iamVjdC52YWx1ZXMoRmVhdHVyZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKFtmZWF0dXJlLCBmLmdldChmZWF0dXJlKS5nZXQoXCJlbmFibGVkXCIpLnZhbHVlKCldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgW2lkLCBzdGF0ZV0gb2Ygc3RhdGVzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmMudG9nZ2xlKGlkLCBzdGF0ZSBhcyBib29sZWFuKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IHJlZmFjdG9yXG4gICAgICAgICAgICAgICAgdGhpcy5mYy50b2dnbGUoaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coZSk7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJDb21tYW5kcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiBcIm9mbXQtZmVhdHVyZXMtc3RvcFwiLFxuICAgICAgICAgICAgbmFtZTogdChcImNvbW1hbmQuZmVhdHVyZXMuZGlzYWJsZVwiKSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmZjLmRpc2FibGVBbGwoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJvZm10LWZlYXR1cmVzLXJlbG9hZFwiLFxuICAgICAgICAgICAgbmFtZTogdChcImNvbW1hbmQuZmVhdHVyZXMucmVsb2FkXCIpLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZEZlYXR1cmVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYy5yZWZyZXNoKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCAiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKEMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxuXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG52YXIgUmVmbGVjdDtcbihmdW5jdGlvbiAoUmVmbGVjdCkge1xuICAgIC8vIE1ldGFkYXRhIFByb3Bvc2FsXG4gICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS9cbiAgICAoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgICAgICAgICAgIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6XG4gICAgICAgICAgICAgICAgdHlwZW9mIHRoaXMgPT09IFwib2JqZWN0XCIgPyB0aGlzIDpcbiAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24oXCJyZXR1cm4gdGhpcztcIikoKTtcbiAgICAgICAgdmFyIGV4cG9ydGVyID0gbWFrZUV4cG9ydGVyKFJlZmxlY3QpO1xuICAgICAgICBpZiAodHlwZW9mIHJvb3QuUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcm9vdC5SZWZsZWN0ID0gUmVmbGVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4cG9ydGVyID0gbWFrZUV4cG9ydGVyKHJvb3QuUmVmbGVjdCwgZXhwb3J0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0ZXIpO1xuICAgICAgICBmdW5jdGlvbiBtYWtlRXhwb3J0ZXIodGFyZ2V0LCBwcmV2aW91cykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgeyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cylcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXMoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoZnVuY3Rpb24gKGV4cG9ydGVyKSB7XG4gICAgICAgIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICAgICAgICAvLyBmZWF0dXJlIHRlc3QgZm9yIFN5bWJvbCBzdXBwb3J0XG4gICAgICAgIHZhciBzdXBwb3J0c1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgdmFyIHRvUHJpbWl0aXZlU3ltYm9sID0gc3VwcG9ydHNTeW1ib2wgJiYgdHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IFN5bWJvbC50b1ByaW1pdGl2ZSA6IFwiQEB0b1ByaW1pdGl2ZVwiO1xuICAgICAgICB2YXIgaXRlcmF0b3JTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLml0ZXJhdG9yIDogXCJAQGl0ZXJhdG9yXCI7XG4gICAgICAgIHZhciBzdXBwb3J0c0NyZWF0ZSA9IHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSBcImZ1bmN0aW9uXCI7IC8vIGZlYXR1cmUgdGVzdCBmb3IgT2JqZWN0LmNyZWF0ZSBzdXBwb3J0XG4gICAgICAgIHZhciBzdXBwb3J0c1Byb3RvID0geyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheTsgLy8gZmVhdHVyZSB0ZXN0IGZvciBfX3Byb3RvX18gc3VwcG9ydFxuICAgICAgICB2YXIgZG93bkxldmVsID0gIXN1cHBvcnRzQ3JlYXRlICYmICFzdXBwb3J0c1Byb3RvO1xuICAgICAgICB2YXIgSGFzaE1hcCA9IHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBvYmplY3QgaW4gZGljdGlvbmFyeSBtb2RlIChhLmsuYS4gXCJzbG93XCIgbW9kZSBpbiB2OClcbiAgICAgICAgICAgIGNyZWF0ZTogc3VwcG9ydHNDcmVhdGVcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KE9iamVjdC5jcmVhdGUobnVsbCkpOyB9XG4gICAgICAgICAgICAgICAgOiBzdXBwb3J0c1Byb3RvXG4gICAgICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoeyBfX3Byb3RvX186IG51bGwgfSk7IH1cbiAgICAgICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7fSk7IH0sXG4gICAgICAgICAgICBoYXM6IGRvd25MZXZlbFxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBoYXNPd24uY2FsbChtYXAsIGtleSk7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4ga2V5IGluIG1hcDsgfSxcbiAgICAgICAgICAgIGdldDogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIG1hcFtrZXldOyB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyBMb2FkIGdsb2JhbCBvciBzaGltIHZlcnNpb25zIG9mIE1hcCwgU2V0LCBhbmQgV2Vha01hcFxuICAgICAgICB2YXIgZnVuY3Rpb25Qcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVuY3Rpb24pO1xuICAgICAgICB2YXIgdXNlUG9seWZpbGwgPSB0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzW1wiZW52XCIgKyBcIlwiXSAmJiBwcm9jZXNzW1wiZW52XCIgKyBcIlwiXVtcIlJFRkxFQ1RfTUVUQURBVEFfVVNFX01BUF9QT0xZRklMTFwiXSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIHZhciBfTWFwID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBNYXAgOiBDcmVhdGVNYXBQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1NldCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgU2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFNldC5wcm90b3R5cGUuZW50cmllcyA9PT0gXCJmdW5jdGlvblwiID8gU2V0IDogQ3JlYXRlU2V0UG9seWZpbGwoKTtcbiAgICAgICAgdmFyIF9XZWFrTWFwID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBXZWFrTWFwID09PSBcImZ1bmN0aW9uXCIgPyBXZWFrTWFwIDogQ3JlYXRlV2Vha01hcFBvbHlmaWxsKCk7XG4gICAgICAgIC8vIFtbTWV0YWRhdGFdXSBpbnRlcm5hbCBzbG90XG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICB2YXIgTWV0YWRhdGEgPSBuZXcgX1dlYWtNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGxpZXMgYSBzZXQgb2YgZGVjb3JhdG9ycyB0byBhIHByb3BlcnR5IG9mIGEgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIGRlY29yYXRvcnMgQW4gYXJyYXkgb2YgZGVjb3JhdG9ycy5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgdGhlIHRhcmdldCBrZXkuXG4gICAgICAgICAqIEByZW1hcmtzIERlY29yYXRvcnMgYXJlIGFwcGxpZWQgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgRXhhbXBsZSA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIixcbiAgICAgICAgICogICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKSkpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKSkpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGF0dHJpYnV0ZXMpICYmICFJc1VuZGVmaW5lZChhdHRyaWJ1dGVzKSAmJiAhSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKElzTnVsbChhdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0FycmF5KGRlY29yYXRvcnMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0NvbnN0cnVjdG9yKHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGVDb25zdHJ1Y3RvcihkZWNvcmF0b3JzLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVjb3JhdGVcIiwgZGVjb3JhdGUpO1xuICAgICAgICAvLyA0LjEuMiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNyZWZsZWN0Lm1ldGFkYXRhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRlZmF1bHQgbWV0YWRhdGEgZGVjb3JhdG9yIGZhY3RvcnkgdGhhdCBjYW4gYmUgdXNlZCBvbiBhIGNsYXNzLCBjbGFzcyBtZW1iZXIsIG9yIHBhcmFtZXRlci5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IFRoZSBrZXkgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhVmFsdWUgVGhlIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEgZW50cnkuXG4gICAgICAgICAqIEByZXR1cm5zIEEgZGVjb3JhdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBgbWV0YWRhdGFLZXlgIGlzIGFscmVhZHkgZGVmaW5lZCBmb3IgdGhlIHRhcmdldCBhbmQgdGFyZ2V0IGtleSwgdGhlXG4gICAgICAgICAqIG1ldGFkYXRhVmFsdWUgZm9yIHRoYXQga2V5IHdpbGwgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yLCBUeXBlU2NyaXB0IG9ubHkpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgcHJvcGVydHk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSAmJiAhSXNQcm9wZXJ0eUtleShwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJtZXRhZGF0YVwiLCBtZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmUgYSB1bmlxdWUgbWV0YWRhdGEgZW50cnkgb24gdGhlIHRhcmdldC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBBIHZhbHVlIHRoYXQgY29udGFpbnMgYXR0YWNoZWQgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdG8gZGVmaW5lIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gZGVjb3JhdG9yIGZhY3RvcnkgYXMgbWV0YWRhdGEtcHJvZHVjaW5nIGFubm90YXRpb24uXG4gICAgICAgICAqICAgICBmdW5jdGlvbiBNeUFubm90YXRpb24ob3B0aW9ucyk6IERlY29yYXRvciB7XG4gICAgICAgICAqICAgICAgICAgcmV0dXJuICh0YXJnZXQsIGtleT8pID0+IFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCB0YXJnZXQsIGtleSk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWZpbmVNZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWZpbmVNZXRhZGF0YVwiLCBkZWZpbmVNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4gaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluOyBvdGhlcndpc2UsIGBmYWxzZWAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJoYXNNZXRhZGF0YVwiLCBoYXNNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB0YXJnZXQgb2JqZWN0IGhhcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBrZXkgd2FzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Q7IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc093bk1ldGFkYXRhXCIsIGhhc093bk1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEga2V5IGlmIGZvdW5kOyBvdGhlcndpc2UsIGB1bmRlZmluZWRgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFcIiwgZ2V0TWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgbWV0YWRhdGEga2V5IGlmIGZvdW5kOyBvdGhlcndpc2UsIGB1bmRlZmluZWRgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0T3duTWV0YWRhdGFcIiwgZ2V0T3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW4uXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHVuaXF1ZSBtZXRhZGF0YSBrZXlzLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeU1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE1ldGFkYXRhS2V5c1wiLCBnZXRNZXRhZGF0YUtleXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgdW5pcXVlIG1ldGFkYXRhIGtleXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0T3duTWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0T3duTWV0YWRhdGFLZXlzXCIsIGdldE93bk1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGVzIHRoZSBtZXRhZGF0YSBlbnRyeSBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGggdGhlIHByb3ZpZGVkIGtleS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGVudHJ5IHdhcyBmb3VuZCBhbmQgZGVsZXRlZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghbWV0YWRhdGFNYXAuZGVsZXRlKG1ldGFkYXRhS2V5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAobWV0YWRhdGFNYXAuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBNZXRhZGF0YS5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhLmRlbGV0ZShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0TWV0YWRhdGEuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBNZXRhZGF0YS5kZWxldGUodGFyZ2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVsZXRlTWV0YWRhdGFcIiwgZGVsZXRlTWV0YWRhdGEpO1xuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdGVkID0gZGVjb3JhdG9yKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChkZWNvcmF0ZWQpICYmICFJc051bGwoZGVjb3JhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gZGVjb3JhdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdGVQcm9wZXJ0eShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChkZWNvcmF0ZWQpICYmICFJc051bGwoZGVjb3JhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGRlY29yYXRlZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCBDcmVhdGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldChPKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZCh0YXJnZXRNZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YSA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgTWV0YWRhdGEuc2V0KE8sIHRhcmdldE1ldGFkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IHRhcmdldE1ldGFkYXRhLmdldChQKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YU1hcCA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuc2V0KFAsIG1ldGFkYXRhTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YU1hcDtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMS4xIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzbWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIGhhc093biA9IE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgaWYgKGhhc093bilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMi4xIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5aGFzb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIFRvQm9vbGVhbihtZXRhZGF0YU1hcC5oYXMoTWV0YWRhdGFLZXkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuMy4xIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5Z2V0bWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIGhhc093biA9IE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgaWYgKGhhc093bilcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICghSXNOdWxsKHBhcmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIHBhcmVudCwgUCk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS40LjEgT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwLmdldChNZXRhZGF0YUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjUuMSBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWRlZmluZW93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyB0cnVlKTtcbiAgICAgICAgICAgIG1ldGFkYXRhTWFwLnNldChNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjYuMSBPcmRpbmFyeU1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIgb3duS2V5cyA9IE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBvd25LZXlzO1xuICAgICAgICAgICAgdmFyIHBhcmVudEtleXMgPSBPcmRpbmFyeU1ldGFkYXRhS2V5cyhwYXJlbnQsIFApO1xuICAgICAgICAgICAgaWYgKHBhcmVudEtleXMubGVuZ3RoIDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICBpZiAob3duS2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50S2V5cztcbiAgICAgICAgICAgIHZhciBzZXQgPSBuZXcgX1NldCgpO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgb3duS2V5c18xID0gb3duS2V5czsgX2kgPCBvd25LZXlzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IG93bktleXNfMVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIGhhc0tleSA9IHNldC5oYXMoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0tleSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgcGFyZW50S2V5c18xID0gcGFyZW50S2V5czsgX2EgPCBwYXJlbnRLZXlzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHBhcmVudEtleXNfMVtfYV07XG4gICAgICAgICAgICAgICAgdmFyIGhhc0tleSA9IHNldC5oYXMoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0tleSkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS43LjEgT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlvd25tZXRhZGF0YWtleXNcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgICAgdmFyIGtleXNPYmogPSBtZXRhZGF0YU1hcC5rZXlzKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBHZXRJdGVyYXRvcihrZXlzT2JqKTtcbiAgICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLmxlbmd0aCA9IGs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gSXRlcmF0b3JWYWx1ZShuZXh0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzW2tdID0gbmV4dFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgSXRlcmF0b3JDbG9zZShpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA2IEVDTUFTY3JpcHQgRGF0YSBUeXAwZXMgYW5kIFZhbHVlc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWRhdGEtdHlwZXMtYW5kLXZhbHVlc1xuICAgICAgICBmdW5jdGlvbiBUeXBlKHgpIHtcbiAgICAgICAgICAgIGlmICh4ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIE51bGwgKi87XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiByZXR1cm4gMCAvKiBVbmRlZmluZWQgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjogcmV0dXJuIDIgLyogQm9vbGVhbiAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiAzIC8qIFN0cmluZyAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6IHJldHVybiA0IC8qIFN5bWJvbCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6IHJldHVybiA1IC8qIE51bWJlciAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHJldHVybiB4ID09PSBudWxsID8gMSAvKiBOdWxsICovIDogNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIDYgLyogT2JqZWN0ICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS4xIFRoZSBVbmRlZmluZWQgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLXVuZGVmaW5lZC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzVW5kZWZpbmVkKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjIgVGhlIE51bGwgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLW51bGwtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc051bGwoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjUgVGhlIFN5bWJvbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtc3ltYm9sLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNTeW1ib2woeCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS43IFRoZSBPYmplY3QgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc09iamVjdCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgPyB4ICE9PSBudWxsIDogdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEgVHlwZSBDb252ZXJzaW9uXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGUtY29udmVyc2lvblxuICAgICAgICAvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gVG9QcmltaXRpdmUoaW5wdXQsIFByZWZlcnJlZFR5cGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoVHlwZShpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDAgLyogVW5kZWZpbmVkICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIE51bGwgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDIgLyogQm9vbGVhbiAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBTdHJpbmcgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogU3ltYm9sICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSA1IC8qIE51bWJlciAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhpbnQgPSBQcmVmZXJyZWRUeXBlID09PSAzIC8qIFN0cmluZyAqLyA/IFwic3RyaW5nXCIgOiBQcmVmZXJyZWRUeXBlID09PSA1IC8qIE51bWJlciAqLyA/IFwibnVtYmVyXCIgOiBcImRlZmF1bHRcIjtcbiAgICAgICAgICAgIHZhciBleG90aWNUb1ByaW0gPSBHZXRNZXRob2QoaW5wdXQsIHRvUHJpbWl0aXZlU3ltYm9sKTtcbiAgICAgICAgICAgIGlmIChleG90aWNUb1ByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBleG90aWNUb1ByaW0uY2FsbChpbnB1dCwgaGludCk7XG4gICAgICAgICAgICAgICAgaWYgKElzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIGhpbnQgPT09IFwiZGVmYXVsdFwiID8gXCJudW1iZXJcIiA6IGhpbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xLjEgT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5VG9QcmltaXRpdmUoTywgaGludCkge1xuICAgICAgICAgICAgaWYgKGhpbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9TdHJpbmdfMSA9IE8udG9TdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodG9TdHJpbmdfMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvU3RyaW5nXzEuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlT2YgPSBPLnZhbHVlT2Y7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodmFsdWVPZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlT2YuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG9TdHJpbmdfMiA9IE8udG9TdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodG9TdHJpbmdfMikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRvU3RyaW5nXzIuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjIgVG9Cb29sZWFuKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvMjAxNi8jc2VjLXRvYm9vbGVhblxuICAgICAgICBmdW5jdGlvbiBUb0Jvb2xlYW4oYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWFyZ3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xMiBUb1N0cmluZyhhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9zdHJpbmdcbiAgICAgICAgZnVuY3Rpb24gVG9TdHJpbmcoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiICsgYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjE0IFRvUHJvcGVydHlLZXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbiAgICAgICAgZnVuY3Rpb24gVG9Qcm9wZXJ0eUtleShhcmd1bWVudCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IFRvUHJpbWl0aXZlKGFyZ3VtZW50LCAzIC8qIFN0cmluZyAqLyk7XG4gICAgICAgICAgICBpZiAoSXNTeW1ib2woa2V5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgcmV0dXJuIFRvU3RyaW5nKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yIFRlc3RpbmcgYW5kIENvbXBhcmlzb24gT3BlcmF0aW9uc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10ZXN0aW5nLWFuZC1jb21wYXJpc29uLW9wZXJhdGlvbnNcbiAgICAgICAgLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNhcnJheVxuICAgICAgICBmdW5jdGlvbiBJc0FycmF5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheVxuICAgICAgICAgICAgICAgID8gQXJyYXkuaXNBcnJheShhcmd1bWVudClcbiAgICAgICAgICAgICAgICA6IGFyZ3VtZW50IGluc3RhbmNlb2YgT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgID8gYXJndW1lbnQgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCkgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuMyBJc0NhbGxhYmxlKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2NhbGxhYmxlXG4gICAgICAgIGZ1bmN0aW9uIElzQ2FsbGFibGUoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgYW4gYXBwcm94aW1hdGlvbiBhcyB3ZSBjYW5ub3QgY2hlY2sgZm9yIFtbQ2FsbF1dIGludGVybmFsIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuNCBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2NvbnN0cnVjdG9yXG4gICAgICAgIGZ1bmN0aW9uIElzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgYW4gYXBwcm94aW1hdGlvbiBhcyB3ZSBjYW5ub3QgY2hlY2sgZm9yIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi43IElzUHJvcGVydHlLZXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzcHJvcGVydHlrZXlcbiAgICAgICAgZnVuY3Rpb24gSXNQcm9wZXJ0eUtleShhcmd1bWVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGFyZ3VtZW50KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBTdHJpbmcgKi86IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA3LjMgT3BlcmF0aW9ucyBvbiBPYmplY3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9wZXJhdGlvbnMtb24tb2JqZWN0c1xuICAgICAgICAvLyA3LjMuOSBHZXRNZXRob2QoViwgUClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZ2V0bWV0aG9kXG4gICAgICAgIGZ1bmN0aW9uIEdldE1ldGhvZChWLCBQKSB7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IFZbUF07XG4gICAgICAgICAgICBpZiAoZnVuYyA9PT0gdW5kZWZpbmVkIHx8IGZ1bmMgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQgT3BlcmF0aW9ucyBvbiBJdGVyYXRvciBPYmplY3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9wZXJhdGlvbnMtb24taXRlcmF0b3Itb2JqZWN0c1xuICAgICAgICBmdW5jdGlvbiBHZXRJdGVyYXRvcihvYmopIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBHZXRNZXRob2Qob2JqLCBpdGVyYXRvclN5bWJvbCk7XG4gICAgICAgICAgICBpZiAoIUlzQ2FsbGFibGUobWV0aG9kKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IC8vIGZyb20gQ2FsbFxuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbWV0aG9kLmNhbGwob2JqKTtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QoaXRlcmF0b3IpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNCBJdGVyYXRvclZhbHVlKGl0ZXJSZXN1bHQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtaXRlcmF0b3J2YWx1ZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvclZhbHVlKGl0ZXJSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyUmVzdWx0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC41IEl0ZXJhdG9yU3RlcChpdGVyYXRvcilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JzdGVwXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yU3RlcChpdGVyYXRvcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IGZhbHNlIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWl0ZXJhdG9yY2xvc2VcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JDbG9zZShpdGVyYXRvcikge1xuICAgICAgICAgICAgdmFyIGYgPSBpdGVyYXRvcltcInJldHVyblwiXTtcbiAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgIGYuY2FsbChpdGVyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gOS4xIE9yZGluYXJ5IE9iamVjdCBJbnRlcm5hbCBNZXRob2RzIGFuZCBJbnRlcm5hbCBTbG90c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeS1vYmplY3QtaW50ZXJuYWwtbWV0aG9kcy1hbmQtaW50ZXJuYWwtc2xvdHNcbiAgICAgICAgLy8gOS4xLjEuMSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5Z2V0cHJvdG90eXBlb2ZcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIE8gIT09IFwiZnVuY3Rpb25cIiB8fCBPID09PSBmdW5jdGlvblByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBUeXBlU2NyaXB0IGRvZXNuJ3Qgc2V0IF9fcHJvdG9fXyBpbiBFUzUsIGFzIGl0J3Mgbm9uLXN0YW5kYXJkLlxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVybWluZSB0aGUgc3VwZXJjbGFzcyBjb25zdHJ1Y3Rvci4gQ29tcGF0aWJsZSBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgICAgIC8vIG11c3QgZWl0aGVyIHNldCBfX3Byb3RvX18gb24gYSBzdWJjbGFzcyBjb25zdHJ1Y3RvciB0byB0aGUgc3VwZXJjbGFzcyBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIC8vIG9yIGVuc3VyZSBlYWNoIGNsYXNzIGhhcyBhIHZhbGlkIGBjb25zdHJ1Y3RvcmAgcHJvcGVydHkgb24gaXRzIHByb3RvdHlwZSB0aGF0XG4gICAgICAgICAgICAvLyBwb2ludHMgYmFjayB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBGdW5jdGlvbi5bW1Byb3RvdHlwZV1dLCB0aGVuIHRoaXMgaXMgZGVmaW5hdGVseSBpbmhlcml0ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjYXNlIHdoZW4gaW4gRVM2IG9yIHdoZW4gdXNpbmcgX19wcm90b19fIGluIGEgY29tcGF0aWJsZSBicm93c2VyLlxuICAgICAgICAgICAgaWYgKHByb3RvICE9PSBmdW5jdGlvblByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB0aGUgc3VwZXIgcHJvdG90eXBlIGlzIE9iamVjdC5wcm90b3R5cGUsIG51bGwsIG9yIHVuZGVmaW5lZCwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBPLnByb3RvdHlwZTtcbiAgICAgICAgICAgIHZhciBwcm90b3R5cGVQcm90byA9IHByb3RvdHlwZSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKTtcbiAgICAgICAgICAgIGlmIChwcm90b3R5cGVQcm90byA9PSBudWxsIHx8IHByb3RvdHlwZVByb3RvID09PSBPYmplY3QucHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBjb25zdHJ1Y3RvciB3YXMgbm90IGEgZnVuY3Rpb24sIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBwcm90b3R5cGVQcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RydWN0b3IgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHNvbWUga2luZCBvZiBzZWxmLXJlZmVyZW5jZSwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvciA9PT0gTylcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGEgcHJldHR5IGdvb2QgZ3Vlc3MgYXQgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIE1hcCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZU1hcFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlU2VudGluZWwgPSB7fTtcbiAgICAgICAgICAgIHZhciBhcnJheVNlbnRpbmVsID0gW107XG4gICAgICAgICAgICB2YXIgTWFwSXRlcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTWFwSXRlcmF0b3Ioa2V5cywgdmFsdWVzLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3NlbGVjdG9yKHRoaXMuX2tleXNbaW5kZXhdLCB0aGlzLl92YWx1ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCArIDEgPj0gdGhpcy5fa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdCwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUudGhyb3cgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcEl0ZXJhdG9yO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpID49IDA7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID49IDAgPyB0aGlzLl92YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgMTsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXNbaSAtIDFdID0gdGhpcy5fa2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaSAtIDFdID0gdGhpcy5fdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHRoaXMuX2NhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0S2V5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldFZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRFbnRyeSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuX2ZpbmQgPSBmdW5jdGlvbiAoa2V5LCBpbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlS2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSB0aGlzLl9rZXlzLmluZGV4T2YodGhpcy5fY2FjaGVLZXkgPSBrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUluZGV4IDwgMCAmJiBpbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVJbmRleDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0S2V5KGtleSwgXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRWYWx1ZShfLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2tleSwgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFNldCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZVNldFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBfTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXQucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5zaXplOyB9LFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5zZXQodmFsdWUsIHZhbHVlKSwgdGhpczsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZSh2YWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fbWFwLmNsZWFyKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC52YWx1ZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V0O1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBXZWFrTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlV2Vha01hcFBvbHlmaWxsKCkge1xuICAgICAgICAgICAgdmFyIFVVSURfU0laRSA9IDE2O1xuICAgICAgICAgICAgdmFyIGtleXMgPSBIYXNoTWFwLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdmFyIHJvb3RLZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBIYXNoTWFwLmhhcyh0YWJsZSwgdGhpcy5fa2V5KSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuZ2V0KHRhYmxlLCB0aGlzLl9rZXkpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0YWJsZVt0aGlzLl9rZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IGRlbGV0ZSB0YWJsZVt0aGlzLl9rZXldIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogbm90IGEgcmVhbCBjbGVhciwganVzdCBtYWtlcyB0aGUgcHJldmlvdXMgZGF0YSB1bnJlYWNoYWJsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBXZWFrTWFwO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZVVuaXF1ZUtleSgpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5O1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IFwiQEBXZWFrTWFwQEBcIiArIENyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoSGFzaE1hcC5oYXMoa2V5cywga2V5KSk7XG4gICAgICAgICAgICAgICAga2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCBjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093bi5jYWxsKHRhcmdldCwgcm9vdEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCByb290S2V5LCB7IHZhbHVlOiBIYXNoTWFwLmNyZWF0ZSgpIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Jvb3RLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gRmlsbFJhbmRvbUJ5dGVzKGJ1ZmZlciwgc2l6ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKVxuICAgICAgICAgICAgICAgICAgICBidWZmZXJbaV0gPSBNYXRoLnJhbmRvbSgpICogMHhmZiB8IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdlblJhbmRvbUJ5dGVzKHNpemUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtc0NyeXB0byAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBVaW50OEFycmF5KHNpemUpLCBzaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZpbGxSYW5kb21CeXRlcyhuZXcgQXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVVVJRCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEdlblJhbmRvbUJ5dGVzKFVVSURfU0laRSk7XG4gICAgICAgICAgICAgICAgLy8gbWFyayBhcyByYW5kb20gLSBSRkMgNDEyMiBcdTAwQTcgNC40XG4gICAgICAgICAgICAgICAgZGF0YVs2XSA9IGRhdGFbNl0gJiAweDRmIHwgMHg0MDtcbiAgICAgICAgICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSAmIDB4YmYgfCAweDgwO1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG9mZnNldCA9IDA7IG9mZnNldCA8IFVVSURfU0laRTsgKytvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGUgPSBkYXRhW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPT09IDQgfHwgb2Zmc2V0ID09PSA2IHx8IG9mZnNldCA9PT0gOClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ5dGUgPCAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGJ5dGUudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlcyBhIGhldXJpc3RpYyB1c2VkIGJ5IHY4IGFuZCBjaGFrcmEgdG8gZm9yY2UgYW4gb2JqZWN0IGludG8gZGljdGlvbmFyeSBtb2RlLlxuICAgICAgICBmdW5jdGlvbiBNYWtlRGljdGlvbmFyeShvYmopIHtcbiAgICAgICAgICAgIG9iai5fXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouX187XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfSk7XG59KShSZWZsZWN0IHx8IChSZWZsZWN0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBNZXRhVGl0bGVQbHVnaW4gZnJvbSBcIi4uLy4uL21haW5cIjtcbmltcG9ydCB7IFNldHRpbmdzRXZlbnQsIFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0V2ZW50XCI7XG5pbXBvcnQgT2JqZWN0SGVscGVyIGZyb20gXCJAc3JjL1V0aWxzL09iamVjdEhlbHBlclwiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50RGlzcGF0Y2hlckludGVyZmFjZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IHsgS2V5U3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCJAc3JjL1N0b3JhZ2UvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NCdWlsZGVyRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIi4uL2kxOG4vTG9jYWxlXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzVGFiIHtcbiAgICBwcml2YXRlIHByZXZpb3VzOiBTZXR0aW5nc1R5cGU7XG4gICAgcHJpdmF0ZSB0YWI6IFBsdWdpblNldHRpbmdUYWI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcIm9ic2lkaWFuOmFwcFwiXSlcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIEBpbmplY3QoU0lbXCJvYnNpZGlhbjpwbHVnaW5cIl0pXG4gICAgICAgIHBsdWdpbjogTWV0YVRpdGxlUGx1Z2luLFxuICAgICAgICBAaW5qZWN0KFNJW1wic2V0dGluZ3M6c3RvcmFnZVwiXSlcbiAgICAgICAgcHJpdmF0ZSBzdG9yYWdlOiBLZXlTdG9yYWdlSW50ZXJmYWNlPFNldHRpbmdzVHlwZT4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxTZXR0aW5nc0V2ZW50PixcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6c2V0dGluZ3M6YnVpbGRlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWN0b3J5OiBTZXR0aW5nc0J1aWxkZXJGYWN0b3J5XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLnRhYiA9IG5ldyAoY2xhc3MgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICAgICAgICAgIGRpc3BsYXkgPSAoKSA9PiBzZWxmLmRpc3BsYXkoKTtcbiAgICAgICAgICAgIGhpZGUgPSAoKSA9PiBzZWxmLmhpZGUoKTtcbiAgICAgICAgfSkoYXBwLCBwbHVnaW4pO1xuICAgICAgICB0aGlzLnVwZGF0ZVByZXZpb3VzKCk7XG4gICAgICAgIGRpc3BhdGNoZXIuZGlzcGF0Y2goXCJzZXR0aW5ncy5sb2FkZWRcIiwgbmV3IEV2ZW50KHsgc2V0dGluZ3M6IHRoaXMuc3RvcmFnZS5jb2xsZWN0KCkgfSkpO1xuICAgIH1cblxuICAgIGdldCBjb250YWluZXJFbCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRhYigpLmNvbnRhaW5lckVsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG9yZGVyZWRLZXlzKCk6IChrZXlvZiBTZXR0aW5nc1R5cGUpW10ge1xuICAgICAgICByZXR1cm4gW1widGVtcGxhdGVzXCIsIFwicHJvY2Vzc29yXCIsIFwicnVsZXNcIiwgXCJmZWF0dXJlc1wiLCBcImRlYnVnXCIsIFwiYm9vdFwiXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGFiKCk6IFBsdWdpblNldHRpbmdUYWIge1xuICAgICAgICByZXR1cm4gdGhpcy50YWI7XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiBhbnkge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiB0KFwic2V0dGluZ3NcIikgfSk7XG5cbiAgICAgICAgY29uc3QgYnVpbGRlcnMgPSB0aGlzLmZhY3Rvcnk8U2V0dGluZ3NUeXBlPihcIm1haW5cIik7XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB0aGlzLm9yZGVyZWRLZXlzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkZXIgb2YgYnVpbGRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRlci5zdXBwb3J0KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYnVpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuc3RvcmFnZS5nZXQoayksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyRWwsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVpbGREb25hdGlvbigpO1xuICAgIH1cblxuICAgIGhpZGUoKTogYW55IHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGREb25hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiKTtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gXCI3NSVcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIGRpdi5zdHlsZS5tYXJnaW4gPSBcIjAgYXV0b1wiO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IHQoXCJjb2ZmZWVcIik7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0ZXh0KTtcblxuICAgICAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL3d3dy5idXltZWFjb2ZmZWUuY29tL3NuZXpoaWdcIik7XG4gICAgICAgIGFuY2hvci5hcHBlbmRDaGlsZChuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGNvZmZlZSwgXCJ0ZXh0L3htbFwiKS5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVByZXZpb3VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0b3JhZ2UuY29sbGVjdCgpKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNwYXRjaCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwic2V0dGluZ3M6dGFiOmNsb3NlXCIsIG51bGwpO1xuICAgICAgICBjb25zdCBjaGFuZ2VkID0gT2JqZWN0SGVscGVyLmNvbXBhcmUodGhpcy5wcmV2aW91cywgdGhpcy5zdG9yYWdlLmNvbGxlY3QoKSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZWQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaChcbiAgICAgICAgICAgIFwic2V0dGluZ3M6Y2hhbmdlZFwiLFxuICAgICAgICAgICAgbmV3IEV2ZW50KHtcbiAgICAgICAgICAgICAgICBvbGQ6IHRoaXMucHJldmlvdXMsXG4gICAgICAgICAgICAgICAgYWN0dWFsOiB0aGlzLnN0b3JhZ2UuY29sbGVjdCgpLFxuICAgICAgICAgICAgICAgIGNoYW5nZWQ6IE9iamVjdEhlbHBlci5jb21wYXJlKHRoaXMucHJldmlvdXMsIHRoaXMuc3RvcmFnZS5jb2xsZWN0KCkpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcmV2aW91cygpO1xuICAgIH1cbn1cblxuY29uc3QgY29mZmVlID1cbiAgICAnPHN2ZyB3aWR0aD1cIjE1MFwiIGhlaWdodD1cIjQyXCIgdmlld0JveD1cIjAgMCA1NDUgMTUzXCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMCAyNC40OEMwIDEwLjk2MDEgMTAuOTYwMSAwIDI0LjQ4IDBINTIwLjJDNTMzLjcyIDAgNTQ0LjY4IDEwLjk2MDEgNTQ0LjY4IDI0LjQ4VjEyOC41MkM1NDQuNjggMTQyLjA0IDUzMy43MiAxNTMgNTIwLjIgMTUzSDI0LjQ4QzEwLjk2MDEgMTUzIDAgMTQyLjA0IDAgMTI4LjUyVjI0LjQ4WlwiIGZpbGw9XCIjRkZERDAwXCIvPlxcbicgK1xuICAgICc8cGF0aCBkPVwiTTEwOS41MjIgNTAuMzE3OEwxMDkuNDU1IDUwLjI3ODNMMTA5LjI5OSA1MC4yMzA4QzEwOS4zNjIgNTAuMjgzNiAxMDkuNDQgNTAuMzE0MiAxMDkuNTIyIDUwLjMxNzhaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMTEwLjUwNyA1Ny4zMTM0TDExMC40MzIgNTcuMzM0NEwxMTAuNTA3IDU3LjMxMzRaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMTA5LjU0OSA1MC4zMDYyQzEwOS41NCA1MC4zMDUxIDEwOS41MzIgNTAuMzAzMSAxMDkuNTI0IDUwLjMwMDNDMTA5LjUyMyA1MC4zMDU4IDEwOS41MjMgNTAuMzExMyAxMDkuNTI0IDUwLjMxNjhDMTA5LjUzMyA1MC4zMTU2IDEwOS41NDEgNTAuMzExOSAxMDkuNTQ5IDUwLjMwNjJaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMTA5LjUyMyA1MC4zMjA1SDEwOS41MzZWNTAuMzEyN0wxMDkuNTIzIDUwLjMyMDVaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMTEwLjQ0NyA1Ny4zMDA2TDExMC41NiA1Ny4yMzYxTDExMC42MDIgNTcuMjEyM0wxMTAuNjQgNTcuMTcxNUMxMTAuNTY5IDU3LjIwMjUgMTEwLjUwMyA1Ny4yNDYyIDExMC40NDcgNTcuMzAwNlpcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZD1cIk0xMDkuNzE1IDUwLjQ3MTNMMTA5LjYwNCA1MC4zNjU5TDEwOS41MjkgNTAuMzI1MUMxMDkuNTcgNTAuMzk2MyAxMDkuNjM2IDUwLjQ0ODggMTA5LjcxNSA1MC40NzEzWlwiIGZpbGw9XCIjMEQwQzIyXCIvPlxcbicgK1xuICAgICc8cGF0aCBkPVwiTTgxLjg4MDEgMTE4LjM1M0M4MS43OTE2IDExOC4zOTEgODEuNzE0MiAxMTguNDUxIDgxLjY1NDggMTE4LjUyN0w4MS43MjQ2IDExOC40ODJDODEuNzcyIDExOC40MzkgODEuODM5MiAxMTguMzg3IDgxLjg4MDEgMTE4LjM1M1pcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZD1cIk05OC4wNDU2IDExNS4xNzNDOTguMDQ1NiAxMTUuMDczIDk3Ljk5NjggMTE1LjA5MSA5OC4wMDg3IDExNS40NDdDOTguMDA4NyAxMTUuNDE4IDk4LjAyMDYgMTE1LjM4OSA5OC4wMjU4IDExNS4zNjFDOTguMDMyNCAxMTUuMjk4IDk4LjAzNzcgMTE1LjIzNiA5OC4wNDU2IDExNS4xNzNaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNOTYuMzc2MSAxMTguMzUzQzk2LjI4NzcgMTE4LjM5MSA5Ni4yMTAzIDExOC40NTEgOTYuMTUwOSAxMTguNTI3TDk2LjIyMDcgMTE4LjQ4MkM5Ni4yNjgxIDExOC40MzkgOTYuMzM1MyAxMTguMzg3IDk2LjM3NjEgMTE4LjM1M1pcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZD1cIk03MC40ODg2IDExOS4xMUM3MC40MjE1IDExOS4wNTIgNzAuMzM5MyAxMTkuMDEzIDcwLjI1MTUgMTE4Ljk5OUM3MC4zMjI2IDExOS4wMzQgNzAuMzkzNyAxMTkuMDY4IDcwLjQ0MTIgMTE5LjA5NEw3MC40ODg2IDExOS4xMVpcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZD1cIk02Ny45MzA0IDExNi42NTdDNjcuOTIgMTE2LjU1MyA2Ny44ODgxIDExNi40NTMgNjcuODM2OSAxMTYuMzYyQzY3Ljg3MzIgMTE2LjQ1NiA2Ny45MDM1IDExNi41NTMgNjcuOTI3OCAxMTYuNjUyTDY3LjkzMDQgMTE2LjY1N1pcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZD1cIk04NS4xMzY4IDcyLjc3MzdDODEuNjE5NSA3NC4yNzk0IDc3LjYyOCA3NS45ODY2IDcyLjQ1NDkgNzUuOTg2NkM3MC4yOTA4IDc1Ljk4MjMgNjguMTM3MyA3NS42ODU0IDY2LjA1MjcgNzUuMTA0TDY5LjYzMDYgMTExLjgzOEM2OS43NTcyIDExMy4zNzMgNzAuNDU2NyAxMTQuODA1IDcxLjU5IDExNS44NDhDNzIuNzIzMyAxMTYuODkyIDc0LjIwNzYgMTE3LjQ3MSA3NS43NDgyIDExNy40N0M3NS43NDgyIDExNy40NyA4MC44MjEyIDExNy43MzQgODIuNTE0IDExNy43MzRDODQuMzM1OCAxMTcuNzM0IDg5Ljc5ODggMTE3LjQ3IDg5Ljc5ODggMTE3LjQ3QzkxLjMzOTEgMTE3LjQ3IDkyLjgyMzEgMTE2Ljg5MSA5My45NTYyIDExNS44NDhDOTUuMDg5MiAxMTQuODA0IDk1Ljc4ODUgMTEzLjM3MyA5NS45MTUxIDExMS44MzhMOTkuNzQ3MiA3MS4yNDU2Qzk4LjAzNDcgNzAuNjYwNyA5Ni4zMDY0IDcwLjI3MjEgOTQuMzU4IDcwLjI3MjFDOTAuOTg4MyA3MC4yNzA4IDg4LjI3MzMgNzEuNDMxMyA4NS4xMzY4IDcyLjc3MzdaXCIgZmlsbD1cIndoaXRlXCIvPlxcbicgK1xuICAgICc8cGF0aCBkPVwiTTU0Ljk4NDQgNTcuMTAyMUw1NS4wNDUgNTcuMTU4N0w1NS4wODQ1IDU3LjE4MjRDNTUuMDU0MSA1Ny4xNTIyIDU1LjAyMDUgNTcuMTI1MiA1NC45ODQ0IDU3LjEwMjFaXCIgZmlsbD1cIiMwRDBDMjJcIi8+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMTE2LjI5OSA1My43MTE5TDExNS43NjEgNTAuOTk0M0MxMTUuMjc3IDQ4LjU1NTkgMTE0LjE4IDQ2LjI1MTkgMTExLjY3NyA0NS4zNzA2QzExMC44NzUgNDUuMDg4NyAxMDkuOTY0IDQ0Ljk2NzUgMTA5LjM0OSA0NC4zODRDMTA4LjczNCA0My44MDA0IDEwOC41NTIgNDIuODk0MSAxMDguNDEgNDIuMDUzNkMxMDguMTQ3IDQwLjUxMSAxMDcuODk5IDM4Ljk2NzEgMTA3LjYyOSAzNy40MjcyQzEwNy4zOTYgMzYuMTAzMyAxMDcuMjExIDM0LjYxNiAxMDYuNjA0IDMzLjQwMTVDMTA1LjgxNCAzMS43NzA2IDEwNC4xNzQgMzAuODE2OSAxMDIuNTQzIDMwLjE4NTlDMTAxLjcwNyAyOS44NzM5IDEwMC44NTQgMjkuNjEgOTkuOTg4NCAyOS4zOTU1Qzk1LjkxMzkgMjguMzIwNSA5MS42MyAyNy45MjUzIDg3LjQzODIgMjcuNzAwMUM4Mi40MDcgMjcuNDIyNSA3Ny4zNjIzIDI3LjUwNjEgNzIuMzQzIDI3Ljk1MDRDNjguNjA3MSAyOC4yOTAyIDY0LjY3MjMgMjguNzAxMyA2MS4xMjIxIDI5Ljk5MzVDNTkuODI0NSAzMC40NjY1IDU4LjQ4NzUgMzEuMDM0MiA1Ny41MDA4IDMyLjAzNjdDNTYuMjkwMiAzMy4yNjg0IDU1Ljg5NSAzNS4xNzMzIDU2Ljc3ODkgMzYuNzA5MkM1Ny40MDczIDM3LjggNTguNDcxNyAzOC41NzA2IDU5LjYwMDYgMzkuMDgwNEM2MS4wNzExIDM5LjczNzMgNjIuNjA2OCA0MC4yMzcxIDY0LjE4MjIgNDAuNTcxNkM2OC41Njg5IDQxLjU0MTIgNzMuMTEyNCA0MS45MjE5IDc3LjU5MzkgNDIuMDgzOUM4Mi41NjEgNDIuMjg0NCA4Ny41MzYyIDQyLjEyMTkgOTIuNDc5NiA0MS41OTc4QzkzLjcwMjEgNDEuNDYzNSA5NC45MjI0IDQxLjMwMjMgOTYuMTQwNSA0MS4xMTQ0Qzk3LjU3NSA0MC44OTQ0IDk4LjQ5NTggMzkuMDE4NSA5OC4wNzMgMzcuNzExN0M5Ny41NjcxIDM2LjE0OTQgOTYuMjA3NyAzNS41NDM0IDk0LjY3MDMgMzUuNzc5MkM5NC40NDM4IDM1LjgxNDggOTQuMjE4NSAzNS44NDc3IDkzLjk5MTkgMzUuODgwN0w5My44Mjg2IDM1LjkwNDRDOTMuMzA3OCAzNS45NzAyIDkyLjc4NyAzNi4wMzE3IDkyLjI2NjIgMzYuMDg4OEM5MS4xOTA0IDM2LjIwNDcgOTAuMTEyIDM2LjI5OTYgODkuMDMwOSAzNi4zNzMzQzg2LjYwOTcgMzYuNTQxOSA4NC4xODE4IDM2LjYxOTcgODEuNzU1MyAzNi42MjM2Qzc5LjM3MSAzNi42MjM2IDc2Ljk4NTMgMzYuNTU2NCA3NC42MDYyIDM2LjM5OTdDNzMuNTIwNyAzNi4zMjg1IDcyLjQzNzkgMzYuMjM4MSA3MS4zNTc3IDM2LjEyODNDNzAuODY2MyAzNi4wNzY5IDcwLjM3NjMgMzYuMDIyOSA2OS44ODYyIDM1Ljk2MjNMNjkuNDE5OSAzNS45MDNMNjkuMzE4NSAzNS44ODg2TDY4LjgzNSAzNS44MTg3QzY3Ljg0NyAzNS42Njk5IDY2Ljg1OSAzNS40OTg2IDY1Ljg4MTYgMzUuMjkxOEM2NS43ODMgMzUuMjY5OSA2NS42OTQ3IDM1LjIxNTEgNjUuNjMxNSAzNS4xMzYzQzY1LjU2ODMgMzUuMDU3NSA2NS41MzM4IDM0Ljk1OTQgNjUuNTMzOCAzNC44NTg0QzY1LjUzMzggMzQuNzU3NCA2NS41NjgzIDM0LjY1OTQgNjUuNjMxNSAzNC41ODA2QzY1LjY5NDcgMzQuNTAxOCA2NS43ODMgMzQuNDQ2OSA2NS44ODE2IDM0LjQyNUg2NS45QzY2Ljc0NzEgMzQuMjQ0NSA2Ny42MDA3IDM0LjA5MDQgNjguNDU2OSAzMy45NTZDNjguNzQyNCAzMy45MTEzIDY5LjAyODcgMzMuODY3MyA2OS4zMTU4IDMzLjgyNDNINjkuMzIzN0M2OS44NTk5IDMzLjc4ODcgNzAuMzk4NyAzMy42OTI2IDcwLjkzMjIgMzMuNjI5M0M3NS41NzQgMzMuMTQ2NSA4MC4yNDM0IDMyLjk4MTkgODQuOTA3NyAzMy4xMzY3Qzg3LjE3MjEgMzMuMjAyNSA4OS40MzUzIDMzLjMzNTYgOTEuNjg5MiAzMy41NjQ4QzkyLjE3NCAzMy42MTQ5IDkyLjY1NjIgMzMuNjY3NiA5My4xMzgzIDMzLjcyNjhDOTMuMzIyNyAzMy43NDkyIDkzLjUwODUgMzMuNzc1NiA5My42OTQyIDMzLjc5OEw5NC4wNjgzIDMzLjg1MkM5NS4xNTkxIDM0LjAxNDQgOTYuMjQ0MSAzNC4yMTE2IDk3LjMyMzQgMzQuNDQzNUM5OC45MjI3IDM0Ljc5MTIgMTAwLjk3NiAzNC45MDQ1IDEwMS42ODggMzYuNjU2NkMxMDEuOTE0IDM3LjIxMjUgMTAyLjAxNyAzNy44MzAzIDEwMi4xNDIgMzguNDEzOUwxMDIuMzAyIDM5LjE1ODFDMTAyLjMwNiAzOS4xNzE1IDEwMi4zMDkgMzkuMTg1MiAxMDIuMzExIDM5LjE5OUMxMDIuNjg4IDQwLjk1NTQgMTAzLjA2NSA0Mi43MTE4IDEwMy40NDIgNDQuNDY4M0MxMDMuNDcgNDQuNTk4IDEwMy40NzEgNDQuNzMyMSAxMDMuNDQ0IDQ0Ljg2MjFDMTAzLjQxOCA0NC45OTIxIDEwMy4zNjUgNDUuMTE1MyAxMDMuMjg5IDQ1LjIyMzlDMTAzLjIxMyA0NS4zMzI2IDEwMy4xMTUgNDUuNDI0NCAxMDMuMDAyIDQ1LjQ5MzZDMTAyLjg4OSA0NS41NjI4IDEwMi43NjIgNDUuNjA3OSAxMDIuNjMxIDQ1LjYyNjJIMTAyLjYyTDEwMi4zOSA0NS42NTc4TDEwMi4xNjIgNDUuNjg4MUMxMDEuNDQgNDUuNzgyMSAxMDAuNzE3IDQ1Ljg2OTkgOTkuOTkzNiA0NS45NTE2Qzk4LjU2ODMgNDYuMTE0IDk3LjE0MDggNDYuMjU0NiA5NS43MTEgNDYuMzczMUM5Mi44NyA0Ni42MDk0IDkwLjAyMzMgNDYuNzY0NCA4Ny4xNzA4IDQ2LjgzODFDODUuNzE3NCA0Ni44NzY4IDg0LjI2NDQgNDYuODk0OCA4Mi44MTE4IDQ2Ljg5MjFDNzcuMDMwMSA0Ni44ODc2IDcxLjI1MzQgNDYuNTUxNiA2NS41MTAxIDQ1Ljg4NTdDNjQuODg4MyA0NS44MTE5IDY0LjI2NjYgNDUuNzMyOSA2My42NDQ4IDQ1LjY1MjVDNjQuMTI2OSA0NS43MTQ1IDYzLjI5NDQgNDUuNjA1MSA2My4xMjU4IDQ1LjU4MTRDNjIuNzMwNiA0NS41MjYxIDYyLjMzNTQgNDUuNDY4NiA2MS45NDAyIDQ1LjQwODhDNjAuNjEzNiA0NS4yMDk5IDU5LjI5NSA0NC45NjQ5IDU3Ljk3MTEgNDQuNzUwMkM1Ni4zNzA1IDQ0LjQ4NjcgNTQuODM5OCA0NC42MTg1IDUzLjM5MjEgNDUuNDA4OEM1Mi4yMDM3IDQ2LjA1OTEgNTEuMjQxOSA0Ny4wNTY0IDUwLjYzNDkgNDguMjY3NEM1MC4wMTA1IDQ5LjU1ODQgNDkuODI0OCA1MC45NjQgNDkuNTQ1NSA1Mi4zNTExQzQ5LjI2NjIgNTMuNzM4MyA0OC44MzE1IDU1LjIzMDggNDguOTk2MiA1Ni42NTQ4QzQ5LjM1MDUgNTkuNzI4MSA1MS40OTkxIDYyLjIyNTggNTQuNTg5NSA2Mi43ODQzQzU3LjQ5NjggNjMuMzExMiA2MC40MiA2My43MzgxIDYzLjM1MSA2NC4xMDE2Qzc0Ljg2NDggNjUuNTExOCA4Ni40OTY4IDY1LjY4MDUgOTguMDQ2NiA2NC42MDQ5Qzk4Ljk4NzIgNjQuNTE3IDk5LjkyNjUgNjQuNDIxMyAxMDAuODY0IDY0LjMxNzdDMTAxLjE1NyA2NC4yODU1IDEwMS40NTQgNjQuMzE5MiAxMDEuNzMyIDY0LjQxNjVDMTAyLjAxIDY0LjUxMzcgMTAyLjI2MyA2NC42NzE5IDEwMi40NzIgNjQuODc5NUMxMDIuNjgxIDY1LjA4NzIgMTAyLjg0MiA2NS4zMzkgMTAyLjk0MSA2NS42MTY1QzEwMy4wNCA2NS44OTQgMTAzLjA3NiA2Ni4xOTAyIDEwMy4wNDYgNjYuNDgzNEwxMDIuNzUzIDY5LjMyNjFDMTAyLjE2NCA3NS4wNzA1IDEwMS41NzUgODAuODE0NSAxMDAuOTg2IDg2LjU1OEMxMDAuMzcxIDkyLjU4OTYgOTkuNzUyMSA5OC42MjA4IDk5LjEyOTUgMTA0LjY1MUM5OC45NTM4IDEwNi4zNSA5OC43NzgyIDEwOC4wNDggOTguNjAyNSAxMDkuNzQ2Qzk4LjQzMzkgMTExLjQxNyA5OC40MTAyIDExMy4xNDIgOTguMDkyNyAxMTQuNzk0Qzk3LjU5MjIgMTE3LjM5MSA5NS44MzM1IDExOC45ODcgOTMuMjY3NCAxMTkuNTdDOTAuOTE2NCAxMjAuMTA1IDg4LjUxNDggMTIwLjM4NiA4Ni4xMDM4IDEyMC40MDhDODMuNDMxIDEyMC40MjIgODAuNzU5NCAxMjAuMzA0IDc4LjA4NjYgMTIwLjMxOEM3NS4yMzMzIDEyMC4zMzQgNzEuNzM4NCAxMjAuMDcxIDY5LjUzNTggMTE3Ljk0N0M2Ny42MDA3IDExNi4wODIgNjcuMzMzMyAxMTMuMTYxIDY3LjA2OTggMTEwLjYzNkM2Ni43MTg1IDEwNy4yOTMgNjYuMzcwMyAxMDMuOTUgNjYuMDI1MiAxMDAuNjA3TDY0LjA4ODcgODIuMDIxMkw2Mi44MzU5IDY5Ljk5NTNDNjIuODE0OSA2OS43OTY0IDYyLjc5MzggNjkuNjAwMSA2Mi43NzQgNjkuMzk5OUM2Mi42MjM5IDY3Ljk2NTQgNjEuNjA4MiA2Ni41NjExIDYwLjAwNzcgNjYuNjMzNUM1OC42Mzc2IDY2LjY5NDEgNTcuMDgwNiA2Ny44NTg2IDU3LjI0MTMgNjkuMzk5OUw1OC4xNyA3OC4zMTU1TDYwLjA5MDYgOTYuNzU4MUM2MC42Mzc4IDEwMS45OTcgNjEuMTgzNiAxMDcuMjM2IDYxLjcyODEgMTEyLjQ3NkM2MS44MzM1IDExMy40OCA2MS45MzIzIDExNC40ODcgNjIuMDQyOSAxMTUuNDlDNjIuNjQ0OSAxMjAuOTc2IDY2LjgzNCAxMjMuOTMyIDcyLjAyMTYgMTI0Ljc2NEM3NS4wNTE1IDEyNS4yNTIgNzguMTU1MSAxMjUuMzUyIDgxLjIyOTcgMTI1LjQwMkM4NS4xNzExIDEyNS40NjUgODkuMTUyMSAxMjUuNjE3IDkzLjAyOSAxMjQuOTAzQzk4Ljc3MzggMTIzLjg0OSAxMDMuMDg0IDEyMC4wMTMgMTAzLjY5OSAxMTQuMDYyQzEwMy44NzUgMTEyLjM0NSAxMDQuMDUxIDExMC42MjYgMTA0LjIyNiAxMDguOTA4QzEwNC44MSAxMDMuMjI0IDEwNS4zOTMgOTcuNTM5NyAxMDUuOTc2IDkxLjg1NUwxMDcuODggNzMuMjgwN0wxMDguNzU0IDY0Ljc2ODJDMTA4Ljc5NyA2NC4zNDYxIDEwOC45NzYgNjMuOTQ5MiAxMDkuMjYyIDYzLjYzNjNDMTA5LjU0OSA2My4zMjM0IDEwOS45MjkgNjMuMTExIDExMC4zNDUgNjMuMDMwN0MxMTEuOTg4IDYyLjcxMDUgMTEzLjU1OCA2Mi4xNjM5IDExNC43MjcgNjAuOTEzN0MxMTYuNTg3IDU4LjkyMzIgMTE2Ljk1NyA1Ni4zMjgxIDExNi4yOTkgNTMuNzExOVpNNTQuNTA1MiA1NS41NDgzQzU0LjUzMDIgNTUuNTM2NCA1NC40ODQxIDU1Ljc1MTEgNTQuNDY0NCA1NS44NTEzQzU0LjQ2MDQgNTUuNjk5OCA1NC40NjgzIDU1LjU2NTQgNTQuNTA1MiA1NS41NDgzWk01NC42NjQ2IDU2Ljc4MTNDNTQuNjc3OCA1Ni43NzIxIDU0LjcxNzMgNTYuODI0OCA1NC43NTgxIDU2Ljg4OEM1NC42OTYyIDU2LjgzIDU0LjY1NjcgNTYuNzg2NiA1NC42NjMzIDU2Ljc4MTNINTQuNjY0NlpNNTQuODIxNCA1Ni45ODgxQzU0Ljg3OCA1Ny4wODQzIDU0LjkwODMgNTcuMTQ0OSA1NC44MjE0IDU2Ljk4ODFWNTYuOTg4MVpNNTUuMTM2MiA1Ny4yNDM3SDU1LjE0NDFDNTUuMTQ0MSA1Ny4yNTI5IDU1LjE1ODYgNTcuMjYyMSA1NS4xNjM5IDU3LjI3MTNDNTUuMTU1MSA1Ny4yNjEyIDU1LjE0NTQgNTcuMjUxOSA1NS4xMzQ5IDU3LjI0MzdINTUuMTM2MlpNMTEwLjI2OSA1Ni44NjE2QzEwOS42NzkgNTcuNDIyOCAxMDguNzg5IDU3LjY4MzcgMTA3LjkxMSA1Ny44MTQxQzk4LjA1NzIgNTkuMjc2MyA4OC4wNiA2MC4wMTY2IDc4LjA5ODQgNTkuNjg5OUM3MC45NjkxIDU5LjQ0NjIgNjMuOTE0OCA1OC42NTQ1IDU2Ljg1NjYgNTcuNjU3M0M1Ni4xNjUgNTcuNTU5OCA1NS40MTU1IDU3LjQzMzQgNTQuOTM5OSA1Ni45MjM2QzU0LjA0NDEgNTUuOTYxOSA1NC40ODQxIDU0LjAyNTQgNTQuNzE3MyA1Mi44NjM2QzU0LjkzMDcgNTEuNzk5MiA1NS4zMzkxIDUwLjM4MDQgNTYuNjA1IDUwLjIyODlDNTguNTgxIDQ5Ljk5NzEgNjAuODc1OCA1MC44MzA5IDYyLjgzMDcgNTEuMTI3M0M2NS4xODQzIDUxLjQ4NjUgNjcuNTQ2NyA1MS43NzQxIDY5LjkxNzkgNTEuOTkwMkM4MC4wMzc1IDUyLjkxMjMgOTAuMzI3MSA1Mi43Njg3IDEwMC40MDIgNTEuNDE5OEMxMDIuMjM4IDUxLjE3MyAxMDQuMDY4IDUwLjg4NjMgMTA1Ljg5MSA1MC41NTk2QzEwNy41MTYgNTAuMjY4NCAxMDkuMzE2IDQ5LjcyMTggMTEwLjI5OCA1MS40MDRDMTEwLjk3MSA1Mi41NSAxMTEuMDYgNTQuMDgzNCAxMTAuOTU2IDU1LjM3ODNDMTEwLjkyNCA1NS45NDI1IDExMC42NzggNTYuNDczMiAxMTAuMjY3IDU2Ljg2MTZIMTEwLjI2OVpcIiBmaWxsPVwiIzBEMEMyMlwiLz5cXG4nICtcbiAgICAnPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTE3MC4wMzYgODQuMjM5N0MxNjkuNDYxIDg1LjMzNzggMTY4LjY3IDg2LjI5NDIgMTY3LjY2MyA4Ny4xMDU3QzE2Ni42NTYgODcuOTE3OCAxNjUuNDgyIDg4LjU3OSAxNjQuMTM5IDg5LjA4ODFDMTYyLjc5NyA4OS41OTg0IDE2MS40NDYgODkuOTQwOCAxNjAuMDg4IDkwLjExNTNDMTU4LjcyOSA5MC4yOTA1IDE1Ny40MSA5MC4yNzUzIDE1Ni4xMzMgOTAuMDY3NEMxNTQuODU0IDg5Ljg2MDggMTUzLjc2NiA4OS40MzkgMTUyLjg3MiA4OC44MDE0TDE1My44OCA3OC4zMzk3QzE1NC44MDYgNzguMDIxNiAxNTUuOTcyIDc3LjY5NDkgMTU3LjM3OSA3Ny4zNjA0QzE1OC43ODUgNzcuMDI2NCAxNjAuMjMxIDc2Ljc4NyAxNjEuNzE4IDc2LjY0NEMxNjMuMjA1IDc2LjUwMDQgMTY0LjYxIDc2LjUxNzMgMTY1LjkzNyA3Ni42OTE5QzE2Ny4yNjMgNzYuODY3IDE2OC4zMSA3Ny4yODg4IDE2OS4wNzcgNzcuOTU3OUMxNjkuNDkzIDc4LjMzOTcgMTY5Ljg0NSA3OC43NTM3IDE3MC4xMzIgNzkuMTk5N0MxNzAuNDIgNzkuNjQ1OCAxNzAuNTk1IDgwLjEwNzYgMTcwLjY2IDgwLjU4NTJDMTcwLjgxOSA4MS45MjI3IDE3MC42MTIgODMuMTQwOSAxNzAuMDM2IDg0LjIzOTdaTTE1NS40MTMgNjEuOTU0NUMxNTYuMDg0IDYxLjU0MDYgMTU2Ljg5MiA2MS4xNzM5IDE1Ny44MzQgNjAuODU1MUMxNTguNzc3IDYwLjUzNzYgMTU5Ljc0NCA2MC4zMTM5IDE2MC43MzUgNjAuMTg2N0MxNjEuNzI1IDYwLjA2IDE2Mi42OTIgNjAuMDQzIDE2My42MzYgNjAuMTM4OEMxNjQuNTc4IDYwLjIzNDUgMTY1LjQxIDYwLjQ5NyAxNjYuMTI5IDYwLjkyNjdDMTY2Ljg0OCA2MS4zNTcgMTY3LjM4MyA2MS45NzgyIDE2Ny43MzUgNjIuNzg5N0MxNjguMDg2IDYzLjYwMjQgMTY4LjE4MiA2NC42Mjk2IDE2OC4wMjIgNjUuODcxNEMxNjcuODk1IDY2Ljg1ODcgMTY3LjUwMiA2Ny42OTUgMTY2Ljg0OCA2OC4zNzkzQzE2Ni4xOTMgNjkuMDY0NyAxNjUuMzkzIDY5LjYzNzQgMTY0LjQ1MSA3MC4wOTkzQzE2My41MDggNzAuNTYxNyAxNjIuNTA5IDcwLjkyNzcgMTYxLjQ1NSA3MS4xOTc0QzE2MC4zOTkgNzEuNDY4OSAxNTkuMzg0IDcxLjY2ODMgMTU4LjQxIDcxLjc5NUMxNTcuNDM1IDcxLjkyMjkgMTU2LjU4OCA3Mi4wMDI5IDE1NS44NjkgNzIuMDMzOEMxNTUuMTUgNzIuMDY1OSAxNTQuNjc4IDcyLjA4MTYgMTU0LjQ1NCA3Mi4wODE2TDE1NS40MTMgNjEuOTU0NVpNMTc1LjIxNCA3Ny40Nzk4QzE3NC43MDMgNzYuMzY1OCAxNzQuMDE2IDc1LjM4NjQgMTczLjE1MyA3NC41NDE2QzE3Mi4yOSA3My42OTggMTcxLjI2NiA3My4wODUzIDE3MC4wODQgNzIuNzAyOUMxNzAuNTk1IDcyLjI4ODkgMTcxLjA5OSA3MS42MzYyIDE3MS41OTUgNzAuNzQ0MUMxNzIuMDkgNjkuODUzMiAxNzIuNTEzIDY4Ljg4MTEgMTcyLjg2NSA2Ny44MzAyQzE3My4yMTYgNjYuNzc4NyAxNzMuNDU3IDY1LjcyMDUgMTczLjU4NCA2NC42NTMzQzE3My43MTEgNjMuNTg2NiAxNzMuNjYzIDYyLjY3MDkgMTczLjQ0MSA2MS45MDZDMTcyLjg5NiA1OS45OTU4IDE3Mi4wNDIgNTguNDk4OCAxNzAuODc1IDU3LjQxNThDMTY5LjcwOCA1Ni4zMzM0IDE2OC4zNSA1NS41ODQ5IDE2Ni44IDU1LjE3MDRDMTY1LjI0OSA1NC43NTc3IDE2My41NCA1NC42NjkyIDE2MS42NyA1NC45MDhDMTU5LjggNTUuMTQ2NyAxNTcuODkgNTUuNjE2NCAxNTUuOTQxIDU2LjMxN0MxNTUuOTQxIDU2LjE1ODIgMTU1Ljk1NyA1NS45OTEgMTU1Ljk4OSA1NS44MTU4QzE1Ni4wMiA1NS42NDEzIDE1Ni4wMzYgNTUuNDU3NiAxNTYuMDM2IDU1LjI2NjFDMTU2LjAzNiA1NC43ODg2IDE1NS43OTcgNTQuMzc1MiAxNTUuMzE3IDU0LjAyNDNDMTU0LjgzOCA1My42NzQgMTU0LjI4NyA1My40Njc0IDE1My42NjQgNTMuNDAzMUMxNTMuMDQgNTMuMzQwMSAxNTIuNDMzIDUzLjQ3NDYgMTUxLjg0MSA1My44MDkyQzE1MS4yNSA1NC4xNDM3IDE1MC44NDIgNTQuNzU3NyAxNTAuNjE5IDU1LjY0NzlDMTUwLjM2MyA1OC41MTQ2IDE1MC4xMDcgNjEuNDkyNyAxNDkuODUyIDY0LjU4MTJDMTQ5LjU5NiA2Ny42NzA4IDE0OS4zMjQgNzAuNzkyIDE0OS4wMzcgNzMuOTQ1M0MxNDguNzQ5IDc3LjA5NzkgMTQ4LjQ2MSA4MC4yMjcgMTQ4LjE3NCA4My4zMzE4QzE0Ny44ODYgODYuNDM3MiAxNDcuNTk4IDg5LjQyMjYgMTQ3LjMxMSA5Mi4yODg2QzE0Ny40MDcgOTMuMTQ4NiAxNDcuNjQ2IDkzLjgxNzcgMTQ4LjAzIDk0LjI5NTNDMTQ4LjQxMyA5NC43NzM0IDE0OC44NjEgOTUuMDYwMSAxNDkuMzcyIDk1LjE1NTNDMTQ5Ljg4MyA5NS4yNTEgMTUwLjQxOSA5NS4xNjI1IDE1MC45NzggOTQuODkyMkMxNTEuNTM3IDk0LjYyMjUgMTUyLjAyNSA5NC4xNTE2IDE1Mi40NDEgOTMuNDgzMkMxNTMuNzE5IDk0LjE4MzggMTU1LjE1OCA5NC42Mzc3IDE1Ni43NTYgOTQuODQ1QzE1OC4zNTQgOTUuMDUxNiAxNTkuOTc1IDk1LjA1MTYgMTYxLjYyMyA5NC44NDVDMTYzLjI2OCA5NC42Mzc3IDE2NC44OSA5NC4yNDggMTY2LjQ4OCA5My42NzQxQzE2OC4wODYgOTMuMTAxMyAxNjkuNTQxIDkyLjM4NDQgMTcwLjg1MSA5MS41MjVDMTcyLjE2MiA5MC42NjUgMTczLjI2NCA4OS42ODUgMTc0LjE2IDg4LjU4NjlDMTc1LjA1NCA4Ny40ODc1IDE3NS42NDYgODYuMzAxNCAxNzUuOTMzIDg1LjAyODFDMTc2LjIyMSA4My43MjIxIDE3Ni4zMDEgODIuNDE2NyAxNzYuMTczIDgxLjExMDZDMTc2LjA0NSA3OS44MDUyIDE3NS43MjUgNzguNTk1NSAxNzUuMjE0IDc3LjQ3OThaXCIgZmlsbD1cIiMwRDBDMjNcIi8+XFxuJyArXG4gICAgJzxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0yMjEuOTg5IDEwMi43MDJDMjIxLjgxNCAxMDMuNzUzIDIyMS41NjUgMTA0Ljg2IDIyMS4yNDYgMTA2LjAyM0MyMjAuOTI2IDEwNy4xODQgMjIwLjU1MSAxMDguMjQ0IDIyMC4xMiAxMDkuMkMyMTkuNjg4IDExMC4xNTUgMjE5LjIwOSAxMTAuOTI2IDIxOC42ODIgMTExLjUxNkMyMTguMTU0IDExMi4xMDUgMjE3LjU4NiAxMTIuMzUyIDIxNi45NzkgMTEyLjI1N0MyMTYuNSAxMTIuMTkyIDIxNi4xOTYgMTExLjg5IDIxNi4wNjkgMTExLjM0OUMyMTUuOTQgMTEwLjgwNyAyMTUuOTQgMTEwLjEzOCAyMTYuMDY5IDEwOS4zNDNDMjE2LjE5NiAxMDguNTQ2IDIxNi40NDMgMTA3LjY0NiAyMTYuODExIDEwNi42NDNDMjE3LjE3OSAxMDUuNjQgMjE3LjYyNyAxMDQuNjQ0IDIxOC4xNTQgMTAzLjY1OEMyMTguNjgyIDEwMi42NyAyMTkuMjgxIDEwMS43MjMgMjE5Ljk1MiAxMDAuODE1QzIyMC42MjMgOTkuOTA4MiAyMjEuMzI2IDk5LjE1MTIgMjIyLjA2MSA5OC41NDY0QzIyMi4yMjEgOTguNzM3MyAyMjIuMjkzIDk5LjIxNDkgMjIyLjI3NyA5OS45Nzk3QzIyMi4yNiAxMDAuNzQ0IDIyMi4xNjUgMTAxLjY1MiAyMjEuOTg5IDEwMi43MDJaTTIzOC4yNDMgODEuOTY5N0MyMzcuODExIDgxLjQ5MjEgMjM3LjI4NCA4MS4yMjE4IDIzNi42NiA4MS4xNTc2QzIzNi4wMzcgODEuMDkzOSAyMzUuNDA1IDgxLjQ0NDIgMjM0Ljc2NyA4Mi4yMDg1QzIzNC4zNTEgODIuOTcyNyAyMzMuODIzIDgzLjcwNTQgMjMzLjE4NCA4NC40MDZDMjMyLjU0NSA4NS4xMDcyIDIzMS44ODIgODUuNzQzNiAyMzEuMTk1IDg2LjMxNjlDMjMwLjUwNyA4Ni44ODk2IDIyOS44NTIgODcuMzg0MSAyMjkuMjI5IDg3Ljc5NzVDMjI4LjYwNiA4OC4yMTIgMjI4LjExOCA4OC41MTQ0IDIyNy43NjcgODguNzA1M0MyMjcuNjM5IDg3LjY4NjYgMjI3LjU2NiA4Ni41ODc4IDIyNy41NTEgODUuNDA5QzIyNy41MzQgODQuMjMwOCAyMjcuNTU5IDgzLjAzNjkgMjI3LjYyMyA4MS44MjY2QzIyNy43MTggODAuMTA2NyAyMjcuOTE4IDc4LjM3MTUgMjI4LjIyMiA3Ni42MTk0QzIyOC41MjYgNzQuODY4IDIyOC45NjUgNzMuMTQ4IDIyOS41NDEgNzEuNDU5NUMyMjkuNTQxIDcwLjU2ODYgMjI5LjMzMiA2OS44NDM4IDIyOC45MTcgNjkuMjg2MkMyMjguNTAxIDY4LjcyOTMgMjI3Ljk5OCA2OC4zNzg0IDIyNy40MDcgNjguMjM1M0MyMjYuODE1IDY4LjA5MjMgMjI2LjIwOSA2OC4xNzE3IDIyNS41ODUgNjguNDc0MUMyMjQuOTYyIDY4Ljc3NzEgMjI0LjQyNyA2OS4zMjY4IDIyMy45NzkgNzAuMTIyQzIyMy41OTYgNzEuMTczNSAyMjMuMTU2IDcyLjM1MTYgMjIyLjY2MSA3My42NTcxQzIyMi4xNjUgNzQuOTYzMSAyMjEuNjA2IDc2LjI5MjggMjIwLjk4MyA3Ny42NDYxQzIyMC4zNTkgNzkuMDAwNiAyMTkuNjY0IDgwLjMxMzkgMjE4Ljg5NyA4MS41ODczQzIxOC4xMyA4Mi44NjE4IDIxNy4yOTEgODMuOTkyNyAyMTYuMzggODQuOTc5M0MyMTUuNDY5IDg1Ljk2NjYgMjE0LjQ3OCA4Ni43MzkzIDIxMy40MDggODcuMjk2M0MyMTIuMzM2IDg3Ljg1MzggMjExLjE3OSA4OC4xMDA1IDIwOS45MzIgODguMDM2OUMyMDkuMzU2IDg3Ljg3NzUgMjA4Ljk0IDg3LjQ0NzggMjA4LjY4NSA4Ni43NDY2QzIwOC40MjkgODYuMDQ2NiAyMDguMjc3IDg1LjE3MDIgMjA4LjIzIDg0LjExOTNDMjA4LjE4MiA4My4wNjg0IDIwOC4yMyA4MS45MTM5IDIwOC4zNzMgODAuNjU1N0MyMDguNTE3IDc5LjM5ODIgMjA4LjcwOSA3OC4xNDc5IDIwOC45NDkgNzYuOTA2MUMyMDkuMTg4IDc1LjY2MzcgMjA5LjQ1MiA3NC40ODU1IDIwOS43MzkgNzMuMzcxQzIxMC4wMjcgNzIuMjU2NSAyMTAuMjk4IDcxLjMxNjUgMjEwLjU1NCA3MC41NTIzQzIxMC45MzggNjkuNjI5MiAyMTAuOTM4IDY4Ljg1NTkgMjEwLjU1NCA2OC4yMzUzQzIxMC4xNzEgNjcuNjE0MSAyMDkuNjQ0IDY3LjIwMDggMjA4Ljk3MyA2Ni45OTI5QzIwOC4zMDIgNjYuNzg2MyAyMDcuNTk4IDY2Ljc5NDcgMjA2Ljg2MyA2Ny4wMTcyQzIwNi4xMjggNjcuMjQwMiAyMDUuNiA2Ny43MzM1IDIwNS4yODEgNjguNDk3N0MyMDQuNzM3IDY5LjgwNDQgMjA0LjI0MSA3MS4yNjg2IDIwMy43OTQgNzIuODkyOEMyMDMuMzQ3IDc0LjUxNzEgMjAyLjk4NyA3Ni4xOTc2IDIwMi43MTYgNzcuOTMyOEMyMDIuNDQ0IDc5LjY2OTEgMjAyLjI5MSA4MS4zODkxIDIwMi4yNiA4My4wOTI3QzIwMi4yNTggODMuMjAzNiAyMDIuMjYzIDgzLjMwOSAyMDIuMjYzIDgzLjQxOTNDMjAxLjU2NiA4NS4yNzA4IDIwMC45MDIgODYuNjcwMiAyMDAuMjcxIDg3LjYwNjZDMTk5LjQ1NiA4OC44MTc0IDE5OC41MzYgODkuMzQyOSAxOTcuNTE0IDg5LjE4MjlDMTk3LjA2NSA4OC45OTIgMTk2Ljc3MSA4OC41NDY1IDE5Ni42MjcgODcuODQ1M0MxOTYuNDgyIDg3LjE0NTMgMTk2LjQzNSA4Ni4yODU0IDE5Ni40ODIgODUuMjY1NEMxOTYuNTMxIDg0LjI0NzIgMTk2LjY1MSA4My4wOTI3IDE5Ni44NDIgODEuODAyNEMxOTcuMDM1IDgwLjUxMjcgMTk3LjI3MyA3OS4xNzUyIDE5Ny41NjEgNzcuNzg5N0MxOTcuODQ5IDc2LjQwMzcgMTk4LjE1MyA3NS4wMTE2IDE5OC40NzIgNzMuNjA5OEMxOTguNzkyIDcyLjIwODYgMTk5LjA3OSA3MC44ODY4IDE5OS4zMzYgNjkuNjQ0NEMxOTkuMzA0IDY4LjUyOTkgMTk4Ljk3NiA2Ny42Nzg0IDE5OC4zNTIgNjcuMDg4N0MxOTcuNzMgNjYuNTAwMiAxOTYuODU4IDY2LjI2OTMgMTk1Ljc0IDY2LjM5NkMxOTQuOTczIDY2LjcxNDcgMTk0LjQwNSA2Ny4xMjkzIDE5NC4wMzggNjcuNjM4NEMxOTMuNjcgNjguMTQ3NCAxOTMuMzc0IDY4LjgwMDggMTkzLjE1MSA2OS41OTY1QzE5My4wMjIgNzAuMDExMSAxOTIuODMxIDcwLjgzODkgMTkyLjU3NSA3Mi4wODEzQzE5Mi4zMTkgNzMuMzIyNSAxOTEuOTkyIDc0Ljc0ODYgMTkxLjU5MiA3Ni4zNTY0QzE5MS4xOTMgNzcuOTY1NSAxOTAuNzIxIDc5LjY0NDkgMTkwLjE3OCA4MS4zOTYzQzE4OS42MzUgODMuMTQ3OCAxODkuMDI3IDg0LjczMzMgMTg4LjM1NyA4Ni4xNDk2QzE4Ny42ODUgODcuNTY2NiAxODYuOTUgODguNzA1MyAxODYuMTUxIDg5LjU2NTNDMTg1LjM1MiA5MC40MjQ3IDE4NC40ODkgOTAuNzc1NiAxODMuNTYyIDkwLjYxNjJDMTgzLjA1IDkwLjUyMDUgMTgyLjcyMyA4OS45OTUgMTgyLjU3OSA4OS4wMzk5QzE4Mi40MzUgODguMDg0MSAxODIuNDEyIDg2LjkwNjYgMTgyLjUwNyA4NS41MDQ4QzE4Mi42MDMgODQuMTAzNiAxODIuNzk1IDgyLjU2NjYgMTgzLjA4MiA4MC44OTUxQzE4My4zNyA3OS4yMjMgMTgzLjY2NSA3Ny42Mzg4IDE4My45NjkgNzYuMTQxM0MxODQuMjczIDc0LjY0NDkgMTg0LjU1MyA3My4zMjI1IDE4NC44MDkgNzIuMTc2NUMxODUuMDY0IDcxLjAyOTggMTg1LjI0IDcwLjI2NTYgMTg1LjMzNiA2OS44ODM4QzE4NS4zMzYgNjguOTYwMiAxODUuMTI3IDY4LjIyMDIgMTg0LjcxMyA2Ny42NjJDMTg0LjI5NyA2Ny4xMDU2IDE4My43OTQgNjYuNzU0NyAxODMuMjAyIDY2LjYxMTFDMTgyLjYxIDY2LjQ2ODEgMTgyLjAwMyA2Ni41NDc1IDE4MS4zODEgNjYuODQ5OUMxODAuNzU3IDY3LjE1MjkgMTgwLjIyMiA2Ny43MDI2IDE3OS43NzQgNjguNDk3N0MxNzkuNjE0IDY5LjM1NzcgMTc5LjQwNiA3MC4zNTM1IDE3OS4xNTEgNzEuNDgzOEMxNzguODk1IDcyLjYxNCAxNzguNjQ4IDczLjc3NjUgMTc4LjQwOCA3NC45NzFDMTc4LjE2OCA3Ni4xNjU1IDE3Ny45NDQgNzcuMzM1OCAxNzcuNzM3IDc4LjQ4MjRDMTc3LjUyOSA3OS42MjkxIDE3Ny4zNzcgODAuNjMyMSAxNzcuMjgxIDgxLjQ5MjFDMTc3LjIxNyA4Mi4xNjA2IDE3Ny4xNDUgODIuOTgxMiAxNzcuMDY2IDgzLjk1MjFDMTc2Ljk4NSA4NC45MjQyIDE3Ni45NDUgODUuOTUwOCAxNzYuOTQ1IDg3LjAzMzJDMTc2Ljk0NSA4OC4xMTY5IDE3Ny4wMjUgODkuMTkxNCAxNzcuMTg2IDkwLjI1OEMxNzcuMzQ1IDkxLjMyNTMgMTc3LjYzMyA5Mi4zMDQ3IDE3OC4wNDggOTMuMTk1NkMxNzguNDYzIDk0LjA4NzcgMTc5LjA0NyA5NC44MTk4IDE3OS43OTkgOTUuMzkzMUMxODAuNTQ5IDk1Ljk2NjQgMTgxLjUgOTYuMjg0NiAxODIuNjUxIDk2LjM0ODlDMTgzLjgzMyA5Ni40MTE5IDE4NC44NjQgOTYuMzI1MiAxODUuNzQ0IDk2LjA4NThDMTg2LjYyMiA5NS44NDcgMTg3LjQyMSA5NS40NzI1IDE4OC4xNDEgOTQuOTYyOEMxODguODYgOTQuNDU0MyAxODkuNTE1IDkzLjg0ODkgMTkwLjEwNyA5My4xNDc3QzE5MC42OTcgOTIuNDQ3NyAxOTEuMjgxIDkxLjY4MzUgMTkxLjg1NiA5MC44NTVDMTkyLjQgOTIuMDY1OSAxOTMuMTAzIDkzLjAwNDcgMTkzLjk2NiA5My42NzM3QzE5NC44MjkgOTQuMzQyMiAxOTUuNzQgOTQuNzQxIDE5Ni42OTkgOTQuODY3N0MxOTcuNjU3IDk0Ljk5NDMgMTk4LjYzMyA5NC44NjA0IDE5OS42MjQgOTQuNDYxNkMyMDAuNjE0IDk0LjA2NCAyMDEuNTA5IDkzLjM4NzEgMjAyLjMwOCA5Mi40MzEzQzIwMi44MzUgOTEuODQ1MyAyMDMuMzMxIDkxLjE3OTIgMjAzLjc5NyA5MC40NDI5QzIwMy45OTUgOTAuNzg3NyAyMDQuMjA1IDkxLjEyMDQgMjA0LjQ0MiA5MS40Mjc3QzIwNS4yMjUgOTIuNDQ3NyAyMDYuMjg4IDkzLjE0NzcgMjA3LjYzMSA5My41MzAxQzIwOS4wNjkgOTMuOTEyNSAyMTAuNDc0IDkzLjk3NjggMjExLjg0OSA5My43MjE2QzIxMy4yMjMgOTMuNDY3MSAyMTQuNTM0IDkzLjAwNDcgMjE1Ljc4IDkyLjMzNjJDMjE3LjAyNyA5MS42NjcxIDIxOC4xODUgOTAuODYzNSAyMTkuMjU3IDg5LjkyMzVDMjIwLjMyNyA4OC45ODQxIDIyMS4yNjIgODguMDA1MyAyMjIuMDYxIDg2Ljk4NTRDMjIyLjAyOSA4Ny43MTgxIDIyMi4wMTMgODguNDExNCAyMjIuMDEzIDg5LjA2MzVDMjIyLjAxMyA4OS43MTY4IDIyMS45OTcgOTAuNDI0NyAyMjEuOTY2IDkxLjE4OTVDMjIwLjM2NyA5Mi4zMDQ3IDIxOC44NTcgOTMuNjQyMiAyMTcuNDM1IDk1LjIwMjJDMjE2LjAxMiA5Ni43NjIyIDIxNC43NjUgOTguNDI2NCAyMTMuNjk1IDEwMC4xOTRDMjEyLjYyNCAxMDEuOTYxIDIxMS43ODUgMTAzLjc1MyAyMTEuMTc5IDEwNS41NjhDMjEwLjU3MSAxMDcuMzg0IDIxMC4yNzUgMTA5LjA4IDIxMC4yOTEgMTEwLjY1N0MyMTAuMzA3IDExMi4yMzMgMjEwLjY4MiAxMTMuNjEgMjExLjQxOCAxMTQuNzg4QzIxMi4xNTIgMTE1Ljk2NyAyMTMuMzUxIDExNi44MSAyMTUuMDEzIDExNy4zMkMyMTYuNzQgMTE3Ljg2MiAyMTguMjU3IDExNy44NzcgMjE5LjU2OSAxMTcuMzY4QzIyMC44NzkgMTE2Ljg1OCAyMjIuMDIxIDExNi4wMTQgMjIyLjk5NiAxMTQuODM2QzIyMy45NzEgMTEzLjY1OCAyMjQuNzcgMTEyLjIzMyAyMjUuMzk0IDExMC41NjFDMjI2LjAxNyAxMDguODg5IDIyNi41MTIgMTA3LjE0NSAyMjYuODggMTA1LjMzQzIyNy4yNDcgMTAzLjUxNSAyMjcuNDc5IDEwMS43MyAyMjcuNTc1IDk5Ljk3OTdDMjI3LjY3MSA5OC4yMjc2IDIyNy42NzEgOTYuNjY2NCAyMjcuNTc1IDk1LjI5NzRDMjMwLjMyNCA5NC4xNTEzIDIzMi41NzcgOTIuNzAyMiAyMzQuMzM1IDkwLjk1MDFDMjM2LjA5MyA4OS4xOTk5IDIzNy41NDcgODcuMzUyIDIzOC42OTggODUuNDA5QzIzOS4wNDkgODQuOTMxNCAyMzkuMTY5IDg0LjM1ODEgMjM5LjA1OCA4My42ODk2QzIzOC45NDUgODMuMDIwNiAyMzguNjc0IDgyLjQ0NzIgMjM4LjI0MyA4MS45Njk3WlwiIGZpbGw9XCIjMEQwQzIzXCIvPlxcbicgK1xuICAgICc8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMjk4LjcyNCA3OC45MTM1QzI5OC44MiA3OC4xODE0IDI5OC45NjQgNzcuNDA4NyAyOTkuMTU1IDc2LjU5NjZDMjk5LjM0NyA3NS43ODQ1IDI5OS41ODcgNzQuOTk2IDI5OS44NzUgNzQuMjMxOEMzMDAuMTYyIDczLjQ2NzYgMzAwLjQ5OCA3Mi44MDcgMzAwLjg4MiA3Mi4yNDk0QzMwMS4yNjUgNzEuNjkyNCAzMDEuNjczIDcxLjI5NDMgMzAyLjEwNCA3MS4wNTQ5QzMwMi41MzYgNzAuODE2NyAzMDIuOTc0IDcwLjg0MDMgMzAzLjQyMyA3MS4xMjY0QzMwMy45MDIgNzEuNDEzNyAzMDQuMTk3IDcyLjAxODUgMzA0LjMxIDcyLjk0MTVDMzA0LjQyMSA3My44NjYzIDMwNC4zMSA3NC44NTMgMzAzLjk3NCA3NS45MDM5QzMwMy42MzggNzYuOTU1NCAzMDMuMDM5IDc3Ljk0MiAzMDIuMTc2IDc4Ljg2NTdDMzAxLjMxMyA3OS43ODk5IDMwMC4xNDYgODAuMzk0MSAyOTguNjc2IDgwLjY4MDhDMjk4LjYxMiA4MC4yMzYgMjk4LjYyOCA3OS42NDYzIDI5OC43MjQgNzguOTEzNVpNMzE1LjMzNiA4MC44NzE3QzMxNC44MDkgODAuNzEzNSAzMTQuMzA2IDgwLjY5NzIgMzEzLjgyNiA4MC44MjQ0QzMxMy4zNDcgODAuOTUxNyAzMTMuMDQzIDgxLjI4NjIgMzEyLjkxNiA4MS44MjgxQzMxMi42NTkgODIuODQ2OCAzMTIuMjUxIDgzLjg4OTggMzExLjY5MiA4NC45NTY1QzMxMS4xMzMgODYuMDIzOCAzMTAuNDQ2IDg3LjAzNDYgMzA5LjYzMiA4Ny45OTA0QzMwOC44MTcgODguOTQ1NSAzMDcuODk3IDg5Ljc4OTggMzA2Ljg3NSA5MC41MjE5QzMwNS44NTEgOTEuMjU0NiAzMDQuNzgxIDkxLjc4IDMwMy42NjIgOTIuMDk4MkMzMDIuNTQzIDkyLjQ0OTEgMzAxLjYxNiA5Mi40ODg1IDMwMC44ODIgOTIuMjE3NkMzMDAuMTQ2IDkxLjk0NzkgMjk5LjU2MyA5MS40ODU1IDI5OS4xMzIgOTAuODMyOEMyOTguNyA5MC4xODAxIDI5OC4zODggODkuMzkxNiAyOTguMTk3IDg4LjQ2OEMyOTguMDA1IDg3LjU0NDMgMjk3Ljg5MyA4Ni41ODkyIDI5Ny44NjEgODUuNjAxM0MyOTkuNjgzIDg1LjcyOTIgMzAxLjMwNSA4NS40MDMyIDMwMi43MjggODQuNjIyQzMwNC4xNDkgODMuODQyNiAzMDUuMzU2IDgyLjgwNjggMzA2LjM0NyA4MS41MTcxQzMwNy4zMzcgODAuMjI3NSAzMDguMDg5IDc4Ljc3ODQgMzA4LjYgNzcuMTY5OUMzMDkuMTExIDc1LjU2MjEgMzA5LjM5OSA3My45NjE1IDMwOS40NjMgNzIuMzY4OEMzMDkuNDk1IDcwLjg3MTggMzA5LjI3MiA2OS42MDY0IDMwOC43OTIgNjguNTcxM0MzMDguMzEzIDY3LjUzNjcgMzA3LjY2NSA2Ni43MzEzIDMwNi44NSA2Ni4xNTg2QzMwNi4wMzYgNjUuNTg1MyAzMDUuMSA2NS4yNTA3IDMwNC4wNDYgNjUuMTU1NkMzMDIuOTkyIDY1LjA1OTggMzAxLjkyIDY1LjIwMzQgMzAwLjgzMyA2NS41ODUzQzI5OS41MjIgNjYuMDMxMyAyOTguNDEyIDY2Ljc1NTUgMjk3LjUwMSA2Ny43NTkyQzI5Ni41OSA2OC43NjIyIDI5NS44MzEgNjkuOTI1MiAyOTUuMjI0IDcxLjI0NjRDMjk0LjYxNyA3Mi41NjgyIDI5NC4xMzcgNzMuOTkzIDI5My43ODYgNzUuNTIxNUMyOTMuNDM0IDc3LjA1MDUgMjkzLjE3OCA3OC41NTU0IDI5My4wMTkgODAuMDM2NkMyOTIuODc1IDgxLjM2NTYgMjkyLjc5OCA4Mi42MzY1IDI5Mi43NzEgODMuODYzMkMyOTIuNzAyIDg0LjAxODkgMjkyLjYzNiA4NC4xNjg2IDI5Mi41NjMgODQuMzM1M0MyOTIuMDY3IDg1LjQ2NjggMjkxLjQ5MSA4Ni41NzM0IDI5MC44MzcgODcuNjU1OEMyOTAuMTgyIDg4LjczODkgMjg5LjQ1NCA4OS42NDY3IDI4OC42NTYgOTAuMzc4OEMyODcuODU3IDkxLjExMTYgMjg3LjAyNiA5MS4zNjYxIDI4Ni4xNjMgOTEuMTQzMUMyODUuNjUxIDkxLjAxNjQgMjg1LjM3MiA5MC40MjYxIDI4NS4zMjQgODkuMzc1OEMyODUuMjc2IDg4LjMyNDMgMjg1LjMzMSA4Ny4wMTg5IDI4NS40OTEgODUuNDU4M0MyODUuNjUxIDgzLjg5ODMgMjg1LjgzNSA4Mi4yMDkzIDI4Ni4wNDMgODAuMzk0MUMyODYuMjUgNzguNTc5IDI4Ni4zNTQgNzYuODQzOSAyODYuMzU0IDc1LjE4NzVDMjg2LjM1NCA3My43NTQyIDI4Ni4wODIgNzIuMzc3MyAyODUuNTM5IDcxLjA1NDlDMjg0Ljk5NSA2OS43MzQzIDI4NC4yNTIgNjguNjM0OSAyODMuMzEgNjcuNzU5MkMyODIuMzY3IDY2Ljg4MjggMjgxLjI3MiA2Ni4zMDE2IDI4MC4wMjYgNjYuMDE1NkMyNzguNzc5IDY1LjcyODMgMjc3LjQzNyA2NS45MTk4IDI3NS45OTkgNjYuNTg4M0MyNzQuNTYgNjcuMjU3NCAyNzMuNDE3IDY4LjE5NjcgMjcyLjU3MSA2OS40MDdDMjcxLjcyMyA3MC42MTc5IDI3MC45NDggNzEuODkxMiAyNzAuMjQ1IDczLjIyODhDMjY5Ljk4OSA3Mi4yMDk0IDI2OS42MTQgNzEuMjYyOCAyNjkuMTE4IDcwLjM4NjRDMjY4LjYyMyA2OS41MTA3IDI2OC4wMTYgNjguNzQ2NCAyNjcuMjk3IDY4LjA5MzFDMjY2LjU3NyA2Ny40NDEgMjY1Ljc2OSA2Ni45MzEzIDI2NC44NzYgNjYuNTY0NkMyNjMuOTgxIDY2LjE5OTIgMjYzLjAzNyA2Ni4wMTU2IDI2Mi4wNDYgNjYuMDE1NkMyNjEuMDg4IDY2LjAxNTYgMjYwLjIwMSA2Ni4xOTkyIDI1OS4zODYgNjYuNTY0NkMyNTguNTcxIDY2LjkzMTMgMjU3LjgyOCA2Ny40MDA0IDI1Ny4xNTYgNjcuOTczN0MyNTYuNDg1IDY4LjU0NzYgMjU1Ljg3OCA2OS4xOTE5IDI1NS4zMzQgNjkuOTA4OEMyNTQuNzkxIDcwLjYyNTIgMjU0LjMxMSA3MS4zMzQzIDI1My44OTYgNzIuMDM0M0MyNTMuODMxIDcxLjIwNjQgMjUzLjc2IDcwLjQ4MjIgMjUzLjY4MSA2OS44NjAzQzI1My42IDY5LjIzOTggMjUzLjQ1NiA2OC43MTQzIDI1My4yNDkgNjguMjg0NkMyNTMuMDQxIDY3Ljg1NDMgMjUyLjc0NiA2Ny41MjgzIDI1Mi4zNjIgNjcuMzA1MkMyNTEuOTc4IDY3LjA4MjggMjUxLjQzNSA2Ni45NzA3IDI1MC43MzIgNjYuOTcwN0MyNTAuMzggNjYuOTcwNyAyNTAuMDI4IDY3LjA0MjIgMjQ5LjY3NyA2Ny4xODUyQzI0OS4zMjUgNjcuMzI4OSAyNDkuMDEzIDY3LjUyODMgMjQ4Ljc0MiA2Ny43ODI4QzI0OC40NyA2OC4wMzg2IDI0OC4yNjMgNjguMzQ4MiAyNDguMTE5IDY4LjcxNDNDMjQ3Ljk3NSA2OS4wODA0IDI0Ny45MzYgNjkuNTAyOCAyNDcuOTk5IDY5Ljk4MDNDMjQ4LjAzMSA3MC4zMzEyIDI0OC4xMTkgNzAuNzUyNSAyNDguMjYzIDcxLjI0NjRDMjQ4LjQwNiA3MS43NDAzIDI0OC41NDIgNzIuMzg1OCAyNDguNjcgNzMuMTgwOUMyNDguNzk4IDczLjk3NzMgMjQ4LjkwMiA3NC45NDA5IDI0OC45ODIgNzYuMDcxMkMyNDkuMDYyIDc3LjIwMjEgMjQ5LjA4NSA3OC41ODc1IDI0OS4wNTQgODAuMjI3NUMyNDkuMDIxIDgxLjg2ODEgMjQ4LjkwMiA4My43ODYyIDI0OC42OTQgODUuOTgzN0MyNDguNDg2IDg4LjE4MTMgMjQ4LjE1OCA5MC43MjkxIDI0Ny43MTEgOTMuNjI2N0MyNDcuNjQ3IDk0LjI5NTcgMjQ3LjkwMyA5NC44Mzc2IDI0OC40NzkgOTUuMjUxNUMyNDkuMDU0IDk1LjY2NDggMjQ5LjcwOSA5NS45MDM2IDI1MC40NDQgOTUuOTY3OEMyNTEuMTc5IDk2LjAzMTUgMjUxLjg3NSA5NS45MDM2IDI1Mi41MyA5NS41ODZDMjUzLjE4NSA5NS4yNjY2IDI1My41NjEgOTQuNzA5NyAyNTMuNjU2IDkzLjkxMzlDMjUzLjc1MiA5Mi40MTcgMjUzLjkzNiA5MC44MjQ5IDI1NC4yMDggODkuMTM2NEMyNTQuNDc5IDg3LjQ0OTIgMjU0LjgxNSA4NS43NzcxIDI1NS4yMTUgODQuMTIwN0MyNTUuNjE0IDgyLjQ2NSAyNTYuMDY5IDgwLjg4ODcgMjU2LjU4MSA3OS4zOTExQzI1Ny4wOTIgNzcuODk0MiAyNTcuNjYgNzYuNTczIDI1OC4yODMgNzUuNDI2M0MyNTguOTA3IDc0LjI3OTcgMjU5LjU1NCA3My4zNjQ1IDI2MC4yMjUgNzIuNjc5N0MyNjAuODk2IDcxLjk5NDkgMjYxLjU5OSA3MS42NTI0IDI2Mi4zMzUgNzEuNjUyNEMyNjMuMjI5IDcxLjY1MjQgMjYzLjkyNCA3Mi4wNTc5IDI2NC40MiA3Mi44N0MyNjQuOTE1IDczLjY4MjcgMjY1LjI2NiA3NC43MjYzIDI2NS40NzUgNzUuOTk5QzI2NS42ODIgNzcuMjczNiAyNjUuNzc4IDc4LjY2NzUgMjY1Ljc2MyA4MC4xNzk2QzI2NS43NDYgODEuNjkyMyAyNjUuNjgyIDgzLjE0OTIgMjY1LjU3MSA4NC41NTA0QzI2NS40NTkgODUuOTUyMiAyNjUuMzMxIDg3LjIwMTkgMjY1LjE4NyA4OC4zMDA3QzI2NS4wNDMgODkuMzk5NSAyNjQuOTM5IDkwLjE1NjQgMjY0Ljg3NiA5MC41Njk3QzI2NC44NzYgOTEuMzAyNSAyNjUuMTU1IDkxLjg4MzEgMjY1LjcxNCA5Mi4zMTM0QzI2Ni4yNzMgOTIuNzQzIDI2Ni44OTYgOTIuOTk4MiAyNjcuNTg0IDkzLjA3NzZDMjY4LjI3MiA5My4xNTc2IDI2OC45MTggOTMuMDI5NyAyNjkuNTI2IDkyLjY5NTJDMjcwLjEzMyA5Mi4zNjA2IDI3MC40ODUgOTEuNzk2NCAyNzAuNTgxIDkwLjk5OTRDMjcwLjkgODguNzA2NyAyNzEuMzQgODYuNDA2MiAyNzEuODk5IDg0LjA5NzFDMjcyLjQ1OCA4MS43ODgxIDI3My4wOTggNzkuNzE4NCAyNzMuODE3IDc3Ljg4NjlDMjc0LjUzNiA3Ni4wNTU0IDI3NS4zMzUgNzQuNTU4NSAyNzYuMjE0IDczLjM5NjFDMjc3LjA5MyA3Mi4yMzQzIDI3OC4wMjggNzEuNjUyNCAyNzkuMDE5IDcxLjY1MjRDMjc5LjUzIDcxLjY1MjQgMjc5LjkyMiA3Mi4wMDMzIDI4MC4xOTMgNzIuNzAzM0MyODAuNDY1IDczLjQwMzkgMjgwLjYwMSA3NC4zNTkxIDI4MC42MDEgNzUuNTY5NEMyODAuNjAxIDc2LjQ2MTUgMjgwLjUyOSA3Ny4zNzcyIDI4MC4zODYgNzguMzE2NkMyODAuMjQxIDc5LjI1NiAyODAuMDc0IDgwLjIyNzUgMjc5Ljg4MiA4MS4yMzA1QzI3OS42OSA4Mi4yMzQxIDI3OS41MjIgODMuMjYwOCAyNzkuMzc4IDg0LjMxMTdDMjc5LjIzNSA4NS4zNjMyIDI3OS4xNjMgODYuNDYxMyAyNzkuMTYzIDg3LjYwOEMyNzkuMTYzIDg4LjQwNDMgMjc5LjI0MyA4OS4zMjc5IDI3OS40MDMgOTAuMzc4OEMyNzkuNTYyIDkxLjQyOTEgMjc5Ljg2NSA5Mi40MjU1IDI4MC4zMTMgOTMuMzY0MkMyODAuNzYxIDk0LjMwNDIgMjgxLjM3NiA5NS4xIDI4Mi4xNiA5NS43NTI3QzI4Mi45NDMgOTYuNDA1NCAyODMuOTQxIDk2LjczMjEgMjg1LjE1NSA5Ni43MzIxQzI4Ni45NzggOTYuNzMyMSAyODguNTkxIDk2LjM0MTggMjg5Ljk5OCA5NS41NjE4QzI5MS40MDQgOTQuNzgxOCAyOTIuNjExIDkzLjc2MyAyOTMuNjE4IDkyLjUwNDlDMjkzLjY3IDkyLjQzODggMjkzLjcxOCA5Mi4zNjg1IDI5My43NjkgOTIuMzAzMUMyOTMuODQ2IDkyLjQ4OTEgMjkzLjkxNCA5Mi42ODYxIDI5NC4wMDEgOTIuODYzQzI5NC42ODggOTQuMjY0MiAyOTUuNjIzIDk1LjM0NjYgMjk2LjgwNiA5Ni4xMTE1QzI5Ny45ODggOTYuODc1NyAyOTkuMzc5IDk3LjI5NzUgMzAwLjk3OCA5Ny4zNzc1QzMwMi41NzUgOTcuNDU2MyAzMDQuMzE3IDk3LjE2MTggMzA2LjIwNCA5Ni40OTMzQzMwNy42MDkgOTUuOTgzNiAzMDguODMyIDk1LjM0NjYgMzA5Ljg3MSA5NC41ODI0QzMxMC45MDkgOTMuODE4MiAzMTEuODQ0IDkyLjg4NjcgMzEyLjY3NSA5MS43ODc5QzMxMy41MDcgOTAuNjg5MSAzMTQuMjY1IDg5LjQyMzEgMzE0Ljk1MyA4Ny45OTA0QzMxNS42NDEgODYuNTU2NSAzMTYuMzM1IDg0LjkxNzEgMzE3LjAzOCA4My4wNjkyQzMxNy4xNjYgODIuNTYwOCAzMTcuMDQ2IDgyLjEwNjggMzE2LjY3OSA4MS43MDgxQzMxNi4zMTEgODEuMzEwNSAzMTUuODY0IDgxLjAzMTcgMzE1LjMzNiA4MC44NzE3WlwiIGZpbGw9XCIjMEQwQzIzXCIvPlxcbicgK1xuICAgICc8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMzQxLjM5MyA3NS41NDMyQzM0MS4yMzMgNzYuNDgzMiAzNDEuMDE4IDc3LjUxODkgMzQwLjc0NiA3OC42NDg2QzM0MC40NzQgNzkuNzc5NSAzNDAuMTMxIDgwLjk0OTggMzM5LjcxNSA4Mi4xNjAxQzMzOS4zIDgzLjM3MDMgMzM4Ljc4OCA4NC40NjEyIDMzOC4xODEgODUuNDMyMUMzMzcuNTc0IDg2LjQwNDIgMzM2Ljg3OCA4Ny4xNzU3IDMzNi4wOTYgODcuNzQ5MUMzMzUuMzEyIDg4LjMyMjQgMzM0LjQxIDg4LjU2MTIgMzMzLjM4NyA4OC40NjU0QzMzMi44NzUgODguNDAyNCAzMzIuNDgzIDg4LjA1MjEgMzMyLjIxMiA4Ny40MTQ1QzMzMS45NCA4Ni43NzgyIDMzMS43OTcgODUuOTY1NSAzMzEuNzggODQuOTc4MkMzMzEuNzY0IDgzLjk5MTUgMzMxLjg1MiA4Mi45MDg1IDMzMi4wNDQgODEuNzI5OEMzMzIuMjM2IDgwLjU1MjIgMzMyLjUzMSA3OS4zOTcxIDMzMi45MzIgNzguMjY2MkMzMzMuMzMxIDc3LjEzNjUgMzMzLjgxOCA3Ni4wOTI5IDMzNC4zOTMgNzUuMTM3MUMzMzQuOTY5IDc0LjE4MiAzMzUuNjMyIDczLjQ0MTQgMzM2LjM4MyA3Mi45MTZDMzM3LjEzNCA3Mi4zOTA1IDMzNy45NTggNzIuMTQ0NSAzMzguODUyIDcyLjE3NTRDMzM5Ljc0NyA3Mi4yMDc1IDM0MC43MDYgNzIuNjUyOSAzNDEuNzI5IDczLjUxMjlDMzQxLjY2NCA3My45Mjc1IDM0MS41NTMgNzQuNjA0NCAzNDEuMzkzIDc1LjU0MzJaTTM1OC40MzcgNzkuMTk3N0MzNTcuOTQxIDc4Ljk0MzEgMzU3LjQzIDc4Ljg4OCAzNTYuOTAzIDc5LjAzMUMzNTYuMzc2IDc5LjE3NCAzNTYgNzkuNjYwMSAzNTUuNzc3IDgwLjQ4OEMzNTUuNjQ5IDgxLjM4MDEgMzU1LjM2MSA4Mi40MzA0IDM1NC45MTQgODMuNjQwNkMzNTQuNDY2IDg0Ljg1MDkgMzUzLjkxNCA4NS45OTgyIDM1My4yNiA4Ny4wOEMzNTIuNjA0IDg4LjE2MyAzNTEuODUzIDg5LjA2MyAzNTEuMDA2IDg5Ljc3OTNDMzUwLjE1OSA5MC40OTYzIDM0OS4yNTYgOTAuODIzIDM0OC4yOTggOTAuNzU4MUMzNDcuNDk4IDkwLjY5NTEgMzQ2LjkzOCA5MC4yODkgMzQ2LjYyIDg5LjU0MDZDMzQ2LjI5OSA4OC43OTIxIDM0Ni4xMzIgODcuODUzMyAzNDYuMTE2IDg2LjcyMThDMzQ2LjA5OSA4NS41OTIxIDM0Ni4yMTIgODQuMzE4MiAzNDYuNDUxIDgyLjkwMDdDMzQ2LjY5MSA4MS40ODM3IDM0Ni45NzkgODAuMDc0NiAzNDcuMzE0IDc4LjY3MjJDMzQ3LjY1IDc3LjI3MTYgMzQ3Ljk5NCA3NS45MjU2IDM0OC4zNDYgNzQuNjM1OUMzNDguNjk3IDczLjM0NjMgMzQ4Ljk4NCA3Mi4yNTU0IDM0OS4yMDkgNzEuMzYzOUMzNDkuNDY0IDcwLjU2NzUgMzQ5LjM4NCA2OS44OTEyIDM0OC45NjkgNjkuMzMzQzM0OC41NTMgNjguNzc2NiAzNDguMDM0IDY4LjM3NzggMzQ3LjQxMSA2OC4xMzkxQzM0Ni43ODcgNjcuOTAwMyAzNDYuMTU1IDY3LjgzNjYgMzQ1LjUxNiA2Ny45NDgxQzM0NC44NzcgNjguMDU5NyAzNDQuNDYyIDY4LjQwMjEgMzQ0LjI3IDY4Ljk3NDhDMzQyLjM4NCA2Ny4zNTA2IDM0MC41NyA2Ni40NzQ4IDMzOC44MjkgNjYuMzQ3NkMzMzcuMDg2IDY2LjIyMDMgMzM1LjQ4IDY2LjYwMjcgMzM0LjAxIDY3LjQ5NDJDMzMyLjUzOSA2OC4zODU3IDMzMS4yMzcgNjkuNjc1NCAzMzAuMTAzIDcxLjM2MzlDMzI4Ljk2OCA3My4wNTIzIDMyOC4wNDkgNzQuODkxMSAzMjcuMzQ1IDc2Ljg4MTRDMzI2LjY0MiA3OC44NzE2IDMyNi4yMDMgODAuOTAyNSAzMjYuMDI3IDgyLjk3MjJDMzI1Ljg1MSA4NS4wNDI0IDMyNS45ODcgODYuOTI5NyAzMjYuNDM1IDg4LjYzMzNDMzI2Ljg4MyA5MC4zMzY5IDMyNy42NzMgOTEuNzMwOCAzMjguODA4IDkyLjgxMjZDMzI5Ljk0MiA5My44OTU2IDMzMS40ODUgOTQuNDM3NSAzMzMuNDM1IDk0LjQzNzVDMzM0LjI5OCA5NC40Mzc1IDMzNS4xMjkgOTQuMjYyMyAzMzUuOTI4IDkzLjkxMkMzMzYuNzI2IDkzLjU2MTEgMzM3LjQ2MiA5My4xNDcyIDMzOC4xMzMgOTIuNjY5NkMzMzguODA0IDkyLjE5MiAzMzkuMzk1IDkxLjY5MDIgMzM5LjkwOCA5MS4xNjQ4QzM0MC40MTggOTAuNjM5MyAzNDAuODE4IDkwLjIwMTggMzQxLjEwNiA4OS44NTA5QzM0MS4zMjkgOTAuOTk3NSAzNDEuNjk3IDkxLjk2OTYgMzQyLjIwOSA5Mi43NjU0QzM0Mi43MTkgOTMuNTYxMSAzNDMuMzAzIDk0LjIxNSAzNDMuOTU4IDk0LjcyMzVDMzQ0LjYxMyA5NS4yMzI2IDM0NS4zMDEgOTUuNjA3MSAzNDYuMDIgOTUuODQ2NUMzNDYuNzM5IDk2LjA4NTMgMzQ3LjQzNSA5Ni4yMDQ3IDM0OC4xMDUgOTYuMjA0N0MzNDkuNjA4IDk2LjIwNDcgMzUxLjAxMyA5NS42OTUgMzUyLjMyNSA5NC42NzU2QzM1My42MzUgOTMuNjU3NSAzNTQuODEgOTIuNDA2NiAzNTUuODQ5IDkwLjkyNkMzNTYuODg3IDg5LjQ0NDggMzU3Ljc0MyA4Ny44ODQ4IDM1OC40MTMgODYuMjQ0MkMzNTkuMDg1IDg0LjYwNDMgMzU5LjUzMiA4My4xNDczIDM1OS43NTYgODEuODcyOEMzNTkuOTggODEuMzk1MiAzNTkuOTM5IDgwLjg5NCAzNTkuNjM2IDgwLjM2ODZDMzU5LjMzMiA3OS44NDMxIDM1OC45MzMgNzkuNDUzNCAzNTguNDM3IDc5LjE5NzdaXCIgZmlsbD1cIiMwRDBDMjNcIi8+XFxuJyArXG4gICAgJzxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk00NDQuNzM4IDEwNS41NzFDNDQ0LjQ2NyAxMDYuNjUzIDQ0NC4wNDMgMTA3LjU3IDQ0My40NjcgMTA4LjMxOEM0NDIuODkyIDEwOS4wNjYgNDQyLjE3MyAxMDkuNDU2IDQ0MS4zMSAxMDkuNDg5QzQ0MC43NjcgMTA5LjUyIDQ0MC4zNTEgMTA5LjIzMyA0NDAuMDYzIDEwOC42MjlDNDM5Ljc3NiAxMDguMDIzIDQzOS41NzYgMTA3LjI0MyA0MzkuNDY0IDEwNi4yODhDNDM5LjM1MiAxMDUuMzMyIDQzOS4zMDQgMTA0LjI2NSA0MzkuMzIgMTAzLjA4N0M0MzkuMzM2IDEwMS45MDkgNDM5LjM4NCAxMDAuNzQ2IDQzOS40NjQgOTkuNTk5NkM0MzkuNTQzIDk4LjQ1MzYgNDM5LjY0IDk3LjM4NTcgNDM5Ljc1MiA5Ni4zOTkxQzQzOS44NjMgOTUuNDExMiA0MzkuOTUxIDk0LjY0ODIgNDQwLjAxNSA5NC4xMDY0QzQ0MS4xMDIgOTQuMjMzNiA0NDIuMDA2IDk0LjcwMjcgNDQyLjcyNCA5NS41MTU0QzQ0My40NDMgOTYuMzI3NSA0NDMuOTk1IDk3LjI5MDYgNDQ0LjM3OCA5OC40MDU3QzQ0NC43NjIgOTkuNTIwMiA0NDQuOTg1IDEwMC43MjMgNDQ1LjA1IDEwMi4wMTJDNDQ1LjExMyAxMDMuMzAyIDQ0NS4wMDkgMTA0LjQ4OCA0NDQuNzM4IDEwNS41NzFaTTQyNy4zODIgMTA1LjU3MUM0MjcuMTExIDEwNi42NTMgNDI2LjY4NyAxMDcuNTcgNDI2LjExMiAxMDguMzE4QzQyNS41MzcgMTA5LjA2NiA0MjQuODE3IDEwOS40NTYgNDIzLjk1NCAxMDkuNDg5QzQyMy40MTEgMTA5LjUyIDQyMi45OTYgMTA5LjIzMyA0MjIuNzA4IDEwOC42MjlDNDIyLjQyIDEwOC4wMjMgNDIyLjIyIDEwNy4yNDMgNDIyLjEwOSAxMDYuMjg4QzQyMS45OTYgMTA1LjMzMiA0MjEuOTQ4IDEwNC4yNjUgNDIxLjk2NSAxMDMuMDg3QzQyMS45OCAxMDEuOTA5IDQyMi4wMjggMTAwLjc0NiA0MjIuMTA5IDk5LjU5OTZDNDIyLjE4OCA5OC40NTM2IDQyMi4yODQgOTcuMzg1NyA0MjIuMzk2IDk2LjM5OTFDNDIyLjUwOCA5NS40MTEyIDQyMi41OTUgOTQuNjQ4MiA0MjIuNjYgOTQuMTA2NEM0MjMuNzQ2IDk0LjIzMzYgNDI0LjY1IDk0LjcwMjcgNDI1LjM2OCA5NS41MTU0QzQyNi4wODggOTYuMzI3NSA0MjYuNjM5IDk3LjI5MDYgNDI3LjAyMyA5OC40MDU3QzQyNy40MDcgOTkuNTIwMiA0MjcuNjMgMTAwLjcyMyA0MjcuNjk0IDEwMi4wMTJDNDI3Ljc1NyAxMDMuMzAyIDQyNy42NTMgMTA0LjQ4OCA0MjcuMzgyIDEwNS41NzFaTTQwOS41NzIgNzguNDM3NUM0MDkuNTM5IDc5LjIwMTEgNDA5LjQ2NyA3OS44NzgxIDQwOS4zNTUgODAuNDY3MkM0MDkuMjQzIDgxLjA1NzUgNDA5LjA5MiA4MS40MzA4IDQwOC45IDgxLjU5MDJDNDA4LjU0OCA4MS4zOTg3IDQwOC4xMTYgODAuOTA2IDQwNy42MDUgODAuMTA5QzQwNy4wOTQgNzkuMzEzMyA0MDYuNjk1IDc4LjQxMjcgNDA2LjQwNiA3Ny40MDk2QzQwNi4xMTkgNzYuNDA2NiA0MDYuMDMgNzUuNDIgNDA2LjE0MyA3NC40NDc5QzQwNi4yNTQgNzMuNDc3IDQwNi43NTggNzIuNzIxMiA0MDcuNjUzIDcyLjE3ODhDNDA4LjAwNCA3MS45ODc5IDQwOC4zMDggNzIuMDU5NCA0MDguNTY0IDcyLjM5NEM0MDguODIgNzIuNzI4NSA0MDkuMDI3IDczLjIxMzkgNDA5LjE4OCA3My44NTA5QzQwOS4zNDcgNzQuNDg4NSA0MDkuNDU4IDc1LjIyMDYgNDA5LjUyMyA3Ni4wNDg1QzQwOS41ODcgNzYuODc2OSA0MDkuNjAzIDc3LjY3MjcgNDA5LjU3MiA3OC40Mzc1Wk00MDUuMzI4IDg3Ljk2NzdDNDA0LjgzMiA4OC40OTI1IDQwNC4yOCA4OC45NDY0IDQwMy42NzQgODkuMzI4OUM0MDMuMDY2IDg5LjcxMTMgNDAyLjQ0MyA4OS45OTc5IDQwMS44MDQgOTAuMTg4OUM0MDEuMTY0IDkwLjM4MDQgNDAwLjU4OSA5MC40Mjc2IDQwMC4wNzggOTAuMzMxOUMzOTguNjQgOTAuMDQ1OCAzOTcuNTM3IDg5LjQyNCAzOTYuNzcgODguNDY4OUMzOTYuMDAzIDg3LjUxMzcgMzk1LjUxNSA4Ni4zOTEzIDM5NS4zMDggODUuMTAxN0MzOTUuMSA4My44MTE0IDM5NS4xMjMgODIuNDMzOCAzOTUuMzggODAuOTY5QzM5NS42MzUgNzkuNTA0MiAzOTYuMDY2IDc4LjE0MyAzOTYuNjc0IDc2Ljg4NDhDMzk3LjI4MSA3NS42MjY2IDM5OC4wMTcgNzQuNTQzNiAzOTguODc5IDczLjYzNjRDMzk5Ljc0MiA3Mi43Mjg1IDQwMC42ODUgNzIuMTYzNyA0MDEuNzA4IDcxLjk0QzQwMS4zMjQgNzMuNTY0MiA0MDEuMTk3IDc1LjI0NDggNDAxLjMyNCA3Ni45OEM0MDEuNDUyIDc4LjcxNTcgNDAxLjg2OCA4MC4zNDc4IDQwMi41NzEgODEuODc2MkM0MDMuMDE4IDgyLjgwMTEgNDAzLjU1NCA4My42NDQxIDQwNC4xNzcgODQuNDA4M0M0MDQuODAxIDg1LjE3MzIgNDA1LjU2IDg1LjgyNTkgNDA2LjQ1NSA4Ni4zNjcxQzQwNi4xOTkgODYuOTA4OSA0MDUuODIzIDg3LjQ0MjIgNDA1LjMyOCA4Ny45Njc3Wk00NTguMzc4IDc4LjkxNTFDNDU4LjQ3NCA3OC4xODMgNDU4LjYxNyA3Ny40MDk2IDQ1OC44MSA3Ni41OTc1QzQ1OS4wMDEgNzUuNzg2IDQ1OS4yNDEgNzQuOTk3NiA0NTkuNTI4IDc0LjIzMzNDNDU5LjgxNiA3My40Njg1IDQ2MC4xNTIgNzIuODA3OSA0NjAuNTM2IDcyLjI1MDlDNDYwLjkyIDcxLjY5NCA0NjEuMzI2IDcxLjI5NTIgNDYxLjc1OCA3MS4wNTY0QzQ2Mi4xOSA3MC44MTc2IDQ2Mi42MjkgNzAuODQxMyA0NjMuMDc2IDcxLjEyNzlDNDYzLjU1NiA3MS40MTUyIDQ2My44NTEgNzIuMDIgNDYzLjk2MyA3Mi45NDNDNDY0LjA3NSA3My44NjczIDQ2My45NjMgNzQuODUzOSA0NjMuNjI4IDc1LjkwNTRDNDYzLjI5MiA3Ni45NTYzIDQ2Mi42OTMgNzcuOTQzNiA0NjEuODMgNzguODY2NkM0NjAuOTY4IDc5Ljc5MTQgNDU5LjggODAuMzk1NyA0NTguMzMgODAuNjgyM0M0NTguMjY2IDgwLjIzNjkgNDU4LjI4MiA3OS42NDc4IDQ1OC4zNzggNzguOTE1MVpNNDc3LjcgNzguOTE1MUM0NzcuNzk2IDc4LjE4MyA0NzcuOTM5IDc3LjQwOTYgNDc4LjEzMSA3Ni41OTc1QzQ3OC4zMjMgNzUuNzg2IDQ3OC41NjMgNzQuOTk3NiA0NzguODUxIDc0LjIzMzNDNDc5LjEzOCA3My40Njg1IDQ3OS40NzMgNzIuODA3OSA0NzkuODU3IDcyLjI1MDlDNDgwLjI0MSA3MS42OTQgNDgwLjY0OSA3MS4yOTUyIDQ4MS4wOCA3MS4wNTY0QzQ4MS41MTIgNzAuODE3NiA0ODEuOTUxIDcwLjg0MTMgNDgyLjM5OCA3MS4xMjc5QzQ4Mi44NzggNzEuNDE1MiA0ODMuMTczIDcyLjAyIDQ4My4yODUgNzIuOTQzQzQ4My4zOTcgNzMuODY3MyA0ODMuMjg1IDc0Ljg1MzkgNDgyLjk1IDc1LjkwNTRDNDgyLjYxNCA3Ni45NTYzIDQ4Mi4wMTUgNzcuOTQzNiA0ODEuMTUyIDc4Ljg2NjZDNDgwLjI4OSA3OS43OTE0IDQ3OS4xMjIgODAuMzk1NyA0NzcuNjUyIDgwLjY4MjNDNDc3LjU4OCA4MC4yMzY5IDQ3Ny42MDQgNzkuNjQ3OCA0NzcuNyA3OC45MTUxWk00OTUuNjU1IDgxLjcwOTZDNDk1LjI4NyA4MS4zMTIgNDk0Ljg0IDgxLjAzMzIgNDk0LjMxMyA4MC44NzMyQzQ5My43ODUgODAuNzE0NCA0OTMuMjgyIDgwLjY5ODcgNDkyLjgwMiA4MC44MjZDNDkyLjMyMyA4MC45NTMyIDQ5Mi4wMTggODEuMjg3OCA0OTEuODkxIDgxLjgyOUM0OTEuNjM1IDgyLjg0ODQgNDkxLjIyOCA4My44OTE0IDQ5MC42NjkgODQuOTU3NEM0OTAuMTA5IDg2LjAyNTMgNDg5LjQyMiA4Ny4wMzYyIDQ4OC42MDcgODcuOTkxM0M0ODcuNzkyIDg4Ljk0NjQgNDg2Ljg3MyA4OS43OTEzIDQ4NS44NTEgOTAuNTIzNEM0ODQuODI3IDkxLjI1NjEgNDgzLjc1NyA5MS43ODE2IDQ4Mi42MzkgOTIuMDk5MUM0ODEuNTE5IDkyLjQ1MDYgNDgwLjU5MiA5Mi40OSA0NzkuODU3IDkyLjIxOTFDNDc5LjEyMiA5MS45NDg4IDQ3OC41MzkgOTEuNDg3IDQ3OC4xMDcgOTAuODM0M0M0NzcuNjc2IDkwLjE4MSA0NzcuMzY1IDg5LjM5MzEgNDc3LjE3MiA4OC40Njg5QzQ3Ni45ODEgODcuNTQ1OSA0NzYuODY4IDg2LjU5MDcgNDc2LjgzNyA4NS42MDI5QzQ3OC42NTkgODUuNzMwNyA0ODAuMjgxIDg1LjQwNDcgNDgxLjcwMyA4NC42MjM1QzQ4My4xMjUgODMuODQzNSA0ODQuMzMyIDgyLjgwNzcgNDg1LjMyNCA4MS41MTgxQzQ4Ni4zMTQgODAuMjI5IDQ4Ny4wNjUgNzguNzc5OSA0ODcuNTc2IDc3LjE3MTVDNDg4LjA4NyA3NS41NjMgNDg4LjM3NSA3My45NjMgNDg4LjQ0IDcyLjM3MDNDNDg4LjQ3MSA3MC44NzM0IDQ4OC4yNDcgNjkuNjA3MyA0ODcuNzY4IDY4LjU3MjJDNDg3LjI4OSA2Ny41Mzc3IDQ4Ni42NDIgNjYuNzMyOCA0ODUuODI3IDY2LjE2MDFDNDg1LjAxMSA2NS41ODYyIDQ4NC4wNzcgNjUuMjUyMiA0ODMuMDIxIDY1LjE1NjVDNDgxLjk2NyA2NS4wNjA3IDQ4MC44OTYgNjUuMjA1IDQ3OS44MDkgNjUuNTg2MkM0NzguNDk4IDY2LjAzMjggNDc3LjM4OCA2Ni43NTcxIDQ3Ni40NzggNjcuNzYwMUM0NzUuNTY3IDY4Ljc2MzcgNDc0LjgwNyA2OS45MjY3IDQ3NC4yIDcxLjI0NzNDNDczLjU5MiA3Mi41Njk3IDQ3My4xMTMgNzMuOTkzOSA0NzIuNzYxIDc1LjUyM0M0NzIuNDA5IDc3LjA1MTUgNDcyLjE1NCA3OC41NTY5IDQ3MS45OTUgODAuMDM3NUM0NzEuODM5IDgxLjQ3NDQgNDcxLjc1NSA4Mi44NDk2IDQ3MS43MzYgODQuMTY1OUM0NzEuNjE1IDg0LjQyODMgNDcxLjQ4NiA4NC42OTIgNDcxLjM0NyA4NC45NTc0QzQ3MC43ODcgODYuMDI1MyA0NzAuMSA4Ny4wMzYyIDQ2OS4yODUgODcuOTkxM0M0NjguNDcxIDg4Ljk0NjQgNDY3LjU1MSA4OS43OTEzIDQ2Ni41MjkgOTAuNTIzNEM0NjUuNTA2IDkxLjI1NjEgNDY0LjQzNSA5MS43ODE2IDQ2My4zMTcgOTIuMDk5MUM0NjIuMTk3IDkyLjQ1MDYgNDYxLjI3MSA5Mi40OSA0NjAuNTM2IDkyLjIxOTFDNDU5LjggOTEuOTQ4OCA0NTkuMjE3IDkxLjQ4NyA0NTguNzg2IDkwLjgzNDNDNDU4LjM1NSA5MC4xODEgNDU4LjA0MyA4OS4zOTMxIDQ1Ny44NTEgODguNDY4OUM0NTcuNjU5IDg3LjU0NTkgNDU3LjU0NyA4Ni41OTA3IDQ1Ny41MTUgODUuNjAyOUM0NTkuMzM3IDg1LjczMDcgNDYwLjk1OSA4NS40MDQ3IDQ2Mi4zODIgODQuNjIzNUM0NjMuODAzIDgzLjg0MzUgNDY1LjAxIDgyLjgwNzcgNDY2LjAwMSA4MS41MTgxQzQ2Ni45OTIgODAuMjI5IDQ2Ny43NDMgNzguNzc5OSA0NjguMjU0IDc3LjE3MTVDNDY4Ljc2NSA3NS41NjMgNDY5LjA1NCA3My45NjMgNDY5LjExNyA3Mi4zNzAzQzQ2OS4xNDkgNzAuODczNCA0NjguOTI2IDY5LjYwNzMgNDY4LjQ0NyA2OC41NzIyQzQ2Ny45NjcgNjcuNTM3NyA0NjcuMzE5IDY2LjczMjggNDY2LjUwNCA2Ni4xNjAxQzQ2NS42ODkgNjUuNTg2MiA0NjQuNzU1IDY1LjI1MjIgNDYzLjcgNjUuMTU2NUM0NjIuNjQ1IDY1LjA2MDcgNDYxLjU3NCA2NS4yMDUgNDYwLjQ4OCA2NS41ODYyQzQ1OS4xNzYgNjYuMDMyOCA0NTguMDY2IDY2Ljc1NzEgNDU3LjE1NiA2Ny43NjAxQzQ1Ni4yNDUgNjguNzYzNyA0NTUuNDg1IDY5LjkyNjcgNDU0Ljg3OCA3MS4yNDczQzQ1NC4yNzEgNzIuNTY5NyA0NTMuNzkyIDczLjk5MzkgNDUzLjQ0IDc1LjUyM0M0NTMuMDg4IDc3LjA1MTUgNDUyLjgzMiA3OC41NTY5IDQ1Mi42NzMgODAuMDM3NUM0NTIuNTgyIDgwLjg3MjYgNDUyLjUyMiA4MS42ODIzIDQ1Mi40NzcgODIuNDc3NEM0NTIuMTY4IDgyLjczOTMgNDUxLjg2NyA4My4wMDI5IDQ1MS41NDYgODMuMjYxN0M0NTAuNDQ0IDg0LjE1MzggNDQ5LjI4NCA4NC45NTc0IDQ0OC4wNyA4NS42NzQ0QzQ0Ni44NTUgODYuMzkxMyA0NDUuNTkyIDg2Ljk4MDQgNDQ0LjI4MyA4Ny40NDIyQzQ0Mi45NzEgODcuOTA0IDQ0MS42MjkgODguMTgyOCA0NDAuMjU1IDg4LjI3OEw0NDMuMjI4IDU2LjU1NzhDNDQzLjQyIDU1Ljg4ODcgNDQzLjMyNCA1NS4zMDAzIDQ0Mi45NCA1NC43OTA2QzQ0Mi41NTcgNTQuMjgwOSA0NDIuMDYxIDUzLjkzMDYgNDQxLjQ1NCA1My43Mzk3QzQ0MC44NDcgNTMuNTQ4MiA0NDAuMTk5IDUzLjU2NDUgNDM5LjUxMiA1My43ODdDNDM4LjgyNCA1NC4wMTA2IDQzOC4yNTggNTQuNTIwMyA0MzcuODEgNTUuMzE1NEM0MzcuNTg2IDU2LjUyNjMgNDM3LjM1NCA1OC4xODIgNDM3LjExNSA2MC4yODM4QzQzNi44NzUgNjIuMzg1NiA0MzYuNjM1IDY0LjY3ODkgNDM2LjM5NiA2Ny4xNjMxQzQzNi4xNTYgNjkuNjQ3MyA0MzUuOTE2IDcyLjIxMDkgNDM1LjY3NyA3NC44NTM5QzQzNS40MzcgNzcuNDk4MSA0MzUuMjI5IDc5Ljk2NiA0MzUuMDUzIDgyLjI1ODdDNDM1LjA0NSA4Mi4zNjA1IDQzNS4wMzkgODIuNDUyNiA0MzUuMDMxIDgyLjU1MzJDNDM0Ljc1MSA4Mi43ODk2IDQzNC40OCA4My4wMjc3IDQzNC4xOSA4My4yNjE3QzQzMy4wODggODQuMTUzOCA0MzEuOTI4IDg0Ljk1NzQgNDMwLjcxNCA4NS42NzQ0QzQyOS40OTkgODYuMzkxMyA0MjguMjM3IDg2Ljk4MDQgNDI2LjkyNyA4Ny40NDIyQzQyNS42MTYgODcuOTA0IDQyNC4yNzMgODguMTgyOCA0MjIuODk5IDg4LjI3OEw0MjUuODcyIDU2LjU1NzhDNDI2LjA2NCA1NS44ODg3IDQyNS45NjggNTUuMzAwMyA0MjUuNTg1IDU0Ljc5MDZDNDI1LjIwMSA1NC4yODA5IDQyNC43MDUgNTMuOTMwNiA0MjQuMDk4IDUzLjczOTdDNDIzLjQ5MSA1My41NDgyIDQyMi44NDMgNTMuNTY0NSA0MjIuMTU2IDUzLjc4N0M0MjEuNDY5IDU0LjAxMDYgNDIwLjkwMiA1NC41MjAzIDQyMC40NTQgNTUuMzE1NEM0MjAuMjMgNTYuNTI2MyA0MTkuOTk5IDU4LjE4MiA0MTkuNzYgNjAuMjgzOEM0MTkuNTE5IDYyLjM4NTYgNDE5LjI4IDY0LjY3ODkgNDE5LjA0IDY3LjE2MzFDNDE4LjggNjkuNjQ3MyA0MTguNTYxIDcyLjIxMDkgNDE4LjMyMSA3NC44NTM5QzQxOC4wODIgNzcuNDk4MSA0MTcuODczIDc5Ljk2NiA0MTcuNjk4IDgyLjI1ODdDNDE3LjY5NCA4Mi4zMDQ3IDQxNy42OTEgODIuMzQ2NSA0MTcuNjg3IDgyLjM5MjZDNDE3LjE4NSA4Mi42MjQ3IDQxNi42MzggODIuODI4NCA0MTYuMDQzIDgyLjk5OTNDNDE1LjQzNiA4My4xNzUgNDE0Ljc0OSA4My4yNzg2IDQxMy45ODIgODMuMzEwMkM0MTQuMTEgODIuNzM2MiA0MTQuMjEzIDgyLjA5OTMgNDE0LjI5MyA4MS4zOTg3QzQxNC4zNzMgODAuNjk4NyA0MTQuNDM4IDc5Ljk2NiA0MTQuNDg2IDc5LjIwMTFDNDE0LjUzNCA3OC40Mzc1IDQxNC41NDkgNzcuNjcyNyA0MTQuNTM0IDc2LjkwODRDNDE0LjUxNyA3Ni4xNDM2IDQxNC40NzcgNzUuNDQzNiA0MTQuNDE0IDc0LjgwNkM0MTQuMjUzIDczLjQzNzYgNDEzLjk1OCA3Mi4xMzk0IDQxMy41MjcgNzAuOTEyOEM0MTMuMDk1IDY5LjY4NzMgNDEyLjUxMiA2OC42NjA3IDQxMS43NzcgNjcuODMxNkM0MTEuMDQxIDY3LjAwMzcgNDEwLjEyMyA2Ni40NDYyIDQwOS4wMTkgNjYuMTYwMUM0MDcuOTE3IDY1Ljg3MzQgNDA2LjYzIDY1Ljk2ODYgNDA1LjE2MSA2Ni40NDYyQzQwMi45ODYgNjYuMTYwMSA0MDEuMDI5IDY2LjM1OTUgMzk5LjI4NyA2Ny4wNDM3QzM5Ny41NDUgNjcuNzI5MiAzOTYuMDM0IDY4LjcyMzcgMzk0Ljc1NiA3MC4wMjkxQzM5My40NzggNzEuMzM1OCAzOTIuNDMxIDcyLjg3MTUgMzkxLjYxNiA3NC42Mzk0QzM5MC44MDEgNzYuNDA2NiAzOTAuMjU3IDc4LjIyMjQgMzg5Ljk4NiA4MC4wODQ4QzM4OS44NzEgODAuODc0NCAzODkuODE1IDgxLjY2MDUgMzg5Ljc5OCA4Mi40NDQ3QzM4OS4zMDMgODMuNDU0NCAzODguNzYxIDg0LjMzNjggMzg4LjE2NCA4NS4wNzc0QzM4Ny4zMTcgODYuMTI4MyAzODYuNDM4IDg2Ljk4ODMgMzg1LjUyNyA4Ny42NTY4QzM4NC42MTYgODguMzI1OCAzODMuNzEzIDg4LjgzNTUgMzgyLjgxOSA4OS4xODU4QzM4MS45MjMgODkuNTM2NyAzODEuMTI0IDg5Ljc3NTUgMzgwLjQyMSA4OS45MDIyQzM3OS41OSA5MC4wNjE2IDM3OC43OTEgOTAuMDc3OSAzNzguMDI0IDg5Ljk1MDFDMzc3LjI1NyA4OS44MjM0IDM3Ni41NTMgODkuNDU2NyAzNzUuOTE1IDg4Ljg1MTNDMzc1LjQwMyA4OC40MDU4IDM3NS4wMTEgODcuNjg4OSAzNzQuNzQgODYuNzAxNkMzNzQuNDY4IDg1LjcxNDQgMzc0LjMwOSA4NC41OTI2IDM3NC4yNjEgODMuMzMzOEMzNzQuMjEzIDgyLjA3NTYgMzc0LjI2MSA4MC43NjE3IDM3NC40MDQgNzkuMzkyNkMzNzQuNTQ4IDc4LjAyMzYgMzc0Ljc5NSA3Ni43MjU0IDM3NS4xNDcgNzUuNDk5NEMzNzUuNDk5IDc0LjI3MzMgMzc1Ljk0NSA3My4xNzQ2IDM3Ni40OSA3Mi4yMDI0QzM3Ny4wMzIgNzEuMjMyMiAzNzcuNjcyIDcwLjUzODggMzc4LjQwOCA3MC4xMjQ5QzM3OC44MjIgNzAuMTg5MSAzNzkuMDc5IDcwLjQzNTIgMzc5LjE3NSA3MC44NjQ5QzM3OS4yNzEgNzEuMjk1MiAzNzkuMjk0IDcxLjgwNDkgMzc5LjI0NiA3Mi4zOTRDMzc5LjE5OSA3Mi45ODM2IDM3OS4xMjcgNzMuNTg4NSAzNzkuMDMxIDc0LjIwOTFDMzc4LjkzNSA3NC44MzAzIDM3OC44ODcgNzUuMzQ4NSAzNzguODg3IDc1Ljc2MThDMzc5LjA0NyA3Ni42MjE4IDM3OS4zNTggNzcuMjkwOSAzNzkuODIyIDc3Ljc2ODRDMzgwLjI4NSA3OC4yNDYgMzgwLjgwNSA3OC41MjU0IDM4MS4zOCA3OC42MDQyQzM4MS45NTUgNzguNjg0MiAzODIuNTIyIDc4LjU0OSAzODMuMDgzIDc4LjE5ODFDMzgzLjY0MSA3Ny44NDg0IDM4NC4wOTYgNzcuMjkwOSAzODQuNDQ5IDc2LjUyNkMzODQuNDggNzYuNTU4MSAzODQuNTI4IDc2LjU3MzkgMzg0LjU5MiA3Ni41NzM5TDM4NS4yNjQgNzAuNTA3M0MzODUuNDU1IDY5LjY3ODggMzg1LjMyNyA2OC45NDY3IDM4NC44OCA2OC4zMDk4QzM4NC40MzIgNjcuNjcyOCAzODMuODQxIDY3LjMwNjIgMzgzLjEwNiA2Ny4yMTFDMzgyLjE3OSA2NS44NzM0IDM4MC45MjQgNjUuMTY1IDM3OS4zNDIgNjUuMDg1QzM3Ny43NiA2NS4wMDU2IDM3Ni4xMzggNjUuNTIzMSAzNzQuNDc2IDY2LjYzNzdDMzczLjQ1MyA2Ny4zNzEgMzcyLjU1IDY4LjM4MTMgMzcxLjc2NyA2OS42NzFDMzcwLjk4MyA3MC45NjEzIDM3MC4zNDUgNzIuMzk0IDM2OS44NSA3My45NzAzQzM2OS4zNTMgNzUuNTQ2NiAzNjkuMDAyIDc3LjIxMTUgMzY4Ljc5NSA3OC45NjNDMzY4LjU4NyA4MC43MTQ0IDM2OC41NDcgODIuNDE4NyAzNjguNjc0IDg0LjA3MzhDMzY4LjgwMiA4NS43MzA3IDM2OS4wOTggODcuMjkxMyAzNjkuNTYyIDg4Ljc1NTVDMzcwLjAyNSA5MC4yMjEgMzcwLjY3MiA5MS40NDcgMzcxLjUwNCA5Mi40MzM3QzM3Mi4yMDcgOTMuMjkzNyAzNzMuMDA1IDkzLjkyMzMgMzczLjkgOTQuMzIxNUMzNzQuNzk1IDk0LjcxOTcgMzc1LjczIDk0Ljk2NTggMzc2LjcwNSA5NS4wNjE1QzM3Ny42OCA5NS4xNTY3IDM3OC42NDcgOTUuMTE2NyAzNzkuNjA2IDk0Ljk0MjFDMzgwLjU2NSA5NC43Njc2IDM4MS40NzYgOTQuNTIwOSAzODIuMzM5IDk0LjIwMTVDMzgzLjQ1NyA5My43ODgyIDM4NC42MDkgOTMuMjYyMSAzODUuNzkxIDkyLjYyNTJDMzg2Ljk3MyA5MS45ODg4IDM4OC4xMDggOTEuMjI0IDM4OS4xOTUgOTAuMzMxOUMzODkuNzY3IDg5Ljg2MjggMzkwLjMxNyA4OS4zNTEzIDM5MC44NDkgODguODAyOEMzOTEuMDkxIDg5LjQwMTYgMzkxLjM2MiA4OS45ODEgMzkxLjY4OCA5MC41MjM0QzM5Mi41NTEgOTEuOTU2MSAzOTMuNzE3IDkzLjExOTEgMzk1LjE4OCA5NC4wMTA2QzM5Ni42NTcgOTQuOTAyMSAzOTguNDY0IDk1LjMzMTIgNDAwLjYwNSA5NS4zMDAzQzQwMi45MDcgOTUuMjY4MiA0MDUuMDMyIDk0LjY4NzYgNDA2Ljk4MiA5My41NTY3QzQwOC45MzIgOTIuNDI3IDQxMC41MyA5MC43NjE2IDQxMS43NzcgODguNTY0NkM0MTMuNjQ0IDg4LjU2NDYgNDE1LjQ4MSA4OC4yNTggNDE3LjI4NyA4Ny42NDg5QzQxNy4yNzIgODcuODQxNiA0MTcuMjU2IDg4LjA0NDYgNDE3LjI0MiA4OC4yMzA3QzQxNy4xMTUgODkuOTE4NiA0MTcuMDUgOTEuMDY0NiA0MTcuMDUgOTEuNjdDNDE3LjAxOSA5Mi43MjA5IDQxNi45NDcgOTQuMDE4NSA0MTYuODM1IDk1LjU2MjdDNDE2LjcyMyA5Ny4xMDc1IDQxNi42NTEgOTguNzMxOCA0MTYuNjE5IDEwMC40MzVDNDE2LjU4OCAxMDIuMTM5IDQxNi42NTEgMTAzLjg1OSA0MTYuODExIDEwNS41OTVDNDE2Ljk3MSAxMDcuMzMgNDE3LjMwNiAxMDguOTA3IDQxNy44MTggMTEwLjMyNUM0MTguMzI4IDExMS43NDEgNDE5LjA1NSAxMTIuOTQ0IDQxOS45OTkgMTEzLjkzMkM0MjAuOTQxIDExNC45MTggNDIyLjE4IDExNS41MDggNDIzLjcxNSAxMTUuNjk5QzQyNS4zNDUgMTE1LjkyMSA0MjYuNzUxIDExNS42MzUgNDI3LjkzNCAxMTQuODM5QzQyOS4xMTYgMTE0LjA0MiA0MzAuMDc1IDExMi45NTIgNDMwLjgxMSAxMTEuNTY3QzQzMS41NDYgMTEwLjE4MSA0MzIuMDY0IDEwOC41ODEgNDMyLjM2OSAxMDYuNzY2QzQzMi42NzIgMTA0Ljk1IDQzMi43NiAxMDMuMTI3IDQzMi42MzMgMTAxLjI5NUM0MzIuNTA0IDk5LjQ2MzkgNDMyLjE2OCA5Ny43MzY2IDQzMS42MjUgOTYuMTEzQzQzMS4wODIgOTQuNDg4MiA0MzAuMzMgOTMuMTUwNiA0MjkuMzcyIDkyLjA5OTFDNDI5Ljk0OCA5MS45NDA5IDQzMC42MzQgOTEuNjM4NSA0MzEuNDM0IDkxLjE5MTlDNDMyLjIzMiA5MC43NDY0IDQzMy4wNTUgOTAuMjQ0NiA0MzMuOTAzIDg5LjY4N0M0MzQuMTExIDg5LjU1MDEgNDM0LjMxNiA4OS40MDU4IDQzNC41MjQgODkuMjY1MkM0MzQuNDQ2IDkwLjM5MzcgNDM0LjQwNiA5MS4xOTg1IDQzNC40MDYgOTEuNjdDNDM0LjM3NSA5Mi43MjA5IDQzNC4zMDMgOTQuMDE4NSA0MzQuMTkgOTUuNTYyN0M0MzQuMDc5IDk3LjEwNzUgNDM0LjAwNyA5OC43MzE4IDQzMy45NzUgMTAwLjQzNUM0MzMuOTQzIDEwMi4xMzkgNDM0LjAwNyAxMDMuODU5IDQzNC4xNjcgMTA1LjU5NUM0MzQuMzI2IDEwNy4zMyA0MzQuNjYyIDEwOC45MDcgNDM1LjE3MyAxMTAuMzI1QzQzNS42ODQgMTExLjc0MSA0MzYuNDEyIDExMi45NDQgNDM3LjM1NCAxMTMuOTMyQzQzOC4yOTcgMTE0LjkxOCA0MzkuNTM2IDExNS41MDggNDQxLjA3MSAxMTUuNjk5QzQ0Mi43IDExNS45MjEgNDQ0LjEwNiAxMTUuNjM1IDQ0NS4yODkgMTE0LjgzOUM0NDYuNDcyIDExNC4wNDIgNDQ3LjQzMSAxMTIuOTUyIDQ0OC4xNjYgMTExLjU2N0M0NDguOTAxIDExMC4xODEgNDQ5LjQyIDEwOC41ODEgNDQ5LjcyNCAxMDYuNzY2QzQ1MC4wMjggMTA0Ljk1IDQ1MC4xMTUgMTAzLjEyNyA0NDkuOTg4IDEwMS4yOTVDNDQ5Ljg2IDk5LjQ2MzkgNDQ5LjUyNCA5Ny43MzY2IDQ0OC45ODIgOTYuMTEzQzQ0OC40MzcgOTQuNDg4MiA0NDcuNjg3IDkzLjE1MDYgNDQ2LjcyNyA5Mi4wOTkxQzQ0Ny4zMDMgOTEuOTQwOSA0NDcuOTkgOTEuNjM4NSA0NDguNzg5IDkxLjE5MTlDNDQ5LjU4OCA5MC43NDY0IDQ1MC40MTEgOTAuMjQ0NiA0NTEuMjU5IDg5LjY4N0M0NTEuNjk5IDg5LjM5NzQgNDUyLjEzNiA4OS4wOTg2IDQ1Mi41NzMgODguNzkxM0M0NTIuNzM3IDkwLjM0ODggNDUzLjA5MSA5MS43MTQ5IDQ1My42NTUgOTIuODY0QzQ1NC4zNDMgOTQuMjY1OCA0NTUuMjc3IDk1LjM0ODIgNDU2LjQ2IDk2LjExM0M0NTcuNjQyIDk2Ljg3NjYgNDU5LjAzMyA5Ny4yOTkgNDYwLjYzMiA5Ny4zNzg0QzQ2Mi4yMyA5Ny40NTcyIDQ2My45NzEgOTcuMTYzMyA0NjUuODU4IDk2LjQ5NDJDNDY3LjI2NCA5NS45ODUxIDQ2OC40ODYgOTUuMzQ4MiA0NjkuNTI1IDk0LjU4MzlDNDcwLjU2MyA5My44MTkxIDQ3MS40OTggOTIuODg3NiA0NzIuMzMgOTEuNzg5NEM0NzIuMzc4IDkxLjcyNTggNDcyLjQyMyA5MS42NTY3IDQ3Mi40NyA5MS41OTI1QzQ3Mi42MTggOTIuMDM4NSA0NzIuNzgyIDkyLjQ2NyA0NzIuOTc3IDkyLjg2NEM0NzMuNjY1IDk0LjI2NTggNDc0LjYgOTUuMzQ4MiA0NzUuNzgyIDk2LjExM0M0NzYuOTY0IDk2Ljg3NjYgNDc4LjM1NSA5Ny4yOTkgNDc5Ljk1MyA5Ny4zNzg0QzQ4MS41NTEgOTcuNDU3MiA0ODMuMjkzIDk3LjE2MzMgNDg1LjE3OSA5Ni40OTQyQzQ4Ni41ODYgOTUuOTg1MSA0ODcuODA4IDk1LjM0ODIgNDg4Ljg0NyA5NC41ODM5QzQ4OS44ODUgOTMuODE5MSA0OTAuODIgOTIuODg3NiA0OTEuNjUyIDkxLjc4OTRDNDkyLjQ4MyA5MC42OTAxIDQ5My4yNDEgODkuNDI0IDQ5My45MjkgODcuOTkxM0M0OTQuNjE2IDg2LjU1OCA0OTUuMzExIDg0LjkxODYgNDk2LjAxNSA4My4wNzA4QzQ5Ni4xNDIgODIuNTYxNyA0OTYuMDIyIDgyLjEwNzggNDk1LjY1NSA4MS43MDk2WlwiIGZpbGw9XCIjMEQwQzIzXCIvPlxcbicgK1xuICAgIFwiPC9zdmc+XCI7XG4iLCAiaW1wb3J0IEV2ZW50SW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXMvRXZlbnRJbnRlcmZhY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnQ8VD4gaW1wbGVtZW50cyBFdmVudEludGVyZmFjZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBUKSB7fVxuXG4gICAgZ2V0KCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG4iLCAidHlwZSBvYmogPSB7IFtrOiBzdHJpbmddOiBhbnkgfTtcblxuZXhwb3J0IHR5cGUgQ2hhbmdlZDxUPiA9IHsgW0sgaW4ga2V5b2YgVF0/OiBUW0tdIGV4dGVuZHMgb2JqZWN0ID8gQ2hhbmdlZDxUW0tdPiA6IGJvb2xlYW4gfTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdEhlbHBlciB7XG4gICAgcHVibGljIHN0YXRpYyBjb21wYXJlPFQgZXh0ZW5kcyBvYmo+KG9sZDogVCA9IHt9IGFzIFQsIGFjdHVhbDogVCA9IHt9IGFzIFQpOiBDaGFuZ2VkPFQ+IHtcbiAgICAgICAgY29uc3QgY2hhbmdlZDogb2JqID0ge307XG4gICAgICAgIGNvbnN0IGtleXMgPSBbLi4uT2JqZWN0LmtleXMob2xkKSwgLi4uT2JqZWN0LmtleXMoYWN0dWFsKV0uZmlsdGVyKChlLCBpLCBzKSA9PiBzLmluZGV4T2YoZSkgPT09IGkpO1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBvbGRba107XG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSBhY3R1YWxba107XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIChmaXJzdCAhPT0gdW5kZWZpbmVkID8gZmlyc3QgOiBzZWNvbmQpO1xuICAgICAgICAgICAgY29uc3QgdGhlcmVJc051bGwgPSBmaXJzdCA9PT0gbnVsbCB8fCBzZWNvbmQgPT09IG51bGw7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJvYmplY3RcIiAmJiAhdGhlcmVJc051bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaXJzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzRGlmZiA9IGZpcnN0LnNvbWUoeCA9PiAhc2Vjb25kLmluY2x1ZGVzKHgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDaGFuZ2VkID0gaGFzRGlmZiA/IHRydWUgOiBzZWNvbmQuc29tZSgoeDogc3RyaW5nIHwgbnVtYmVyKSA9PiAhZmlyc3QuaW5jbHVkZXMoeCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkW2tdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBPYmplY3RIZWxwZXIuY29tcGFyZShmaXJzdCwgc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoYykuc29tZShlID0+IGUgIT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFtrXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdCAhPT0gc2Vjb25kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWRba10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlZCBhcyBDaGFuZ2VkPFQ+O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZmlsbEZyb208VCBleHRlbmRzIG9iaj4odG86IFQsIGZyb206IFQpOiBUIHtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModG8pKSB7XG4gICAgICAgICAgICBjb25zdCBmdiA9IGZyb21ba107XG4gICAgICAgICAgICBpZiAoZnYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB2O1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoZnYpICYmIHYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0SGVscGVyLmZpbGxGcm9tKHYsIGZ2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHRvW2tdID0gZnY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZW50cmllczxUIGV4dGVuZHMgb2JqZWN0PihvYmplY3Q6IFQpOiBba2V5b2YgVCwgVFtrZXlvZiBUXV1bXSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhvYmplY3QpIGFzIFtrZXlvZiBULCBUW2tleW9mIFRdXVtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdmFsdWVzPFQgZXh0ZW5kcyBvYmplY3Q+KG9iamVjdDogVCk6IFRba2V5b2YgVF1bXSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG9iamVjdCkgYXMgVFtrZXlvZiBUXVtdO1xuICAgIH1cbn1cbiIsICJleHBvcnQgdmFyIE5BTUVEX1RBRyA9ICduYW1lZCc7XHJcbmV4cG9ydCB2YXIgTkFNRV9UQUcgPSAnbmFtZSc7XHJcbmV4cG9ydCB2YXIgVU5NQU5BR0VEX1RBRyA9ICd1bm1hbmFnZWQnO1xyXG5leHBvcnQgdmFyIE9QVElPTkFMX1RBRyA9ICdvcHRpb25hbCc7XHJcbmV4cG9ydCB2YXIgSU5KRUNUX1RBRyA9ICdpbmplY3QnO1xyXG5leHBvcnQgdmFyIE1VTFRJX0lOSkVDVF9UQUcgPSAnbXVsdGlfaW5qZWN0JztcclxuZXhwb3J0IHZhciBUQUdHRUQgPSAnaW52ZXJzaWZ5OnRhZ2dlZCc7XHJcbmV4cG9ydCB2YXIgVEFHR0VEX1BST1AgPSAnaW52ZXJzaWZ5OnRhZ2dlZF9wcm9wcyc7XHJcbmV4cG9ydCB2YXIgUEFSQU1fVFlQRVMgPSAnaW52ZXJzaWZ5OnBhcmFtdHlwZXMnO1xyXG5leHBvcnQgdmFyIERFU0lHTl9QQVJBTV9UWVBFUyA9ICdkZXNpZ246cGFyYW10eXBlcyc7XHJcbmV4cG9ydCB2YXIgUE9TVF9DT05TVFJVQ1QgPSAncG9zdF9jb25zdHJ1Y3QnO1xyXG5leHBvcnQgdmFyIFBSRV9ERVNUUk9ZID0gJ3ByZV9kZXN0cm95JztcclxuZnVuY3Rpb24gZ2V0Tm9uQ3VzdG9tVGFnS2V5cygpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgSU5KRUNUX1RBRyxcclxuICAgICAgICBNVUxUSV9JTkpFQ1RfVEFHLFxyXG4gICAgICAgIE5BTUVfVEFHLFxyXG4gICAgICAgIFVOTUFOQUdFRF9UQUcsXHJcbiAgICAgICAgTkFNRURfVEFHLFxyXG4gICAgICAgIE9QVElPTkFMX1RBRyxcclxuICAgIF07XHJcbn1cclxuZXhwb3J0IHZhciBOT05fQ1VTVE9NX1RBR19LRVlTID0gZ2V0Tm9uQ3VzdG9tVGFnS2V5cygpO1xyXG4iLCAidmFyIEJpbmRpbmdTY29wZUVudW0gPSB7XHJcbiAgICBSZXF1ZXN0OiAnUmVxdWVzdCcsXHJcbiAgICBTaW5nbGV0b246ICdTaW5nbGV0b24nLFxyXG4gICAgVHJhbnNpZW50OiAnVHJhbnNpZW50J1xyXG59O1xyXG52YXIgQmluZGluZ1R5cGVFbnVtID0ge1xyXG4gICAgQ29uc3RhbnRWYWx1ZTogJ0NvbnN0YW50VmFsdWUnLFxyXG4gICAgQ29uc3RydWN0b3I6ICdDb25zdHJ1Y3RvcicsXHJcbiAgICBEeW5hbWljVmFsdWU6ICdEeW5hbWljVmFsdWUnLFxyXG4gICAgRmFjdG9yeTogJ0ZhY3RvcnknLFxyXG4gICAgRnVuY3Rpb246ICdGdW5jdGlvbicsXHJcbiAgICBJbnN0YW5jZTogJ0luc3RhbmNlJyxcclxuICAgIEludmFsaWQ6ICdJbnZhbGlkJyxcclxuICAgIFByb3ZpZGVyOiAnUHJvdmlkZXInXHJcbn07XHJcbnZhciBUYXJnZXRUeXBlRW51bSA9IHtcclxuICAgIENsYXNzUHJvcGVydHk6ICdDbGFzc1Byb3BlcnR5JyxcclxuICAgIENvbnN0cnVjdG9yQXJndW1lbnQ6ICdDb25zdHJ1Y3RvckFyZ3VtZW50JyxcclxuICAgIFZhcmlhYmxlOiAnVmFyaWFibGUnXHJcbn07XHJcbmV4cG9ydCB7IEJpbmRpbmdTY29wZUVudW0sIEJpbmRpbmdUeXBlRW51bSwgVGFyZ2V0VHlwZUVudW0gfTtcclxuIiwgInZhciBpZENvdW50ZXIgPSAwO1xyXG5mdW5jdGlvbiBpZCgpIHtcclxuICAgIHJldHVybiBpZENvdW50ZXIrKztcclxufVxyXG5leHBvcnQgeyBpZCB9O1xyXG4iLCAiaW1wb3J0IHsgQmluZGluZ1Njb3BlRW51bSwgQmluZGluZ1R5cGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgeyBpZCB9IGZyb20gJy4uL3V0aWxzL2lkJztcclxudmFyIEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmluZGluZyhzZXJ2aWNlSWRlbnRpZmllciwgc2NvcGUpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQoKTtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZUlkZW50aWZpZXIgPSBzZXJ2aWNlSWRlbnRpZmllcjtcclxuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gQmluZGluZ1R5cGVFbnVtLkludmFsaWQ7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHsgcmV0dXJuIHRydWU7IH07XHJcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvblR5cGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FjaGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbkFjdGl2YXRpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMub25EZWFjdGl2YXRpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZHluYW1pY1ZhbHVlID0gbnVsbDtcclxuICAgIH1cclxuICAgIEJpbmRpbmcucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBCaW5kaW5nKHRoaXMuc2VydmljZUlkZW50aWZpZXIsIHRoaXMuc2NvcGUpO1xyXG4gICAgICAgIGNsb25lLmFjdGl2YXRlZCA9IChjbG9uZS5zY29wZSA9PT0gQmluZGluZ1Njb3BlRW51bS5TaW5nbGV0b24pID8gdGhpcy5hY3RpdmF0ZWQgOiBmYWxzZTtcclxuICAgICAgICBjbG9uZS5pbXBsZW1lbnRhdGlvblR5cGUgPSB0aGlzLmltcGxlbWVudGF0aW9uVHlwZTtcclxuICAgICAgICBjbG9uZS5keW5hbWljVmFsdWUgPSB0aGlzLmR5bmFtaWNWYWx1ZTtcclxuICAgICAgICBjbG9uZS5zY29wZSA9IHRoaXMuc2NvcGU7XHJcbiAgICAgICAgY2xvbmUudHlwZSA9IHRoaXMudHlwZTtcclxuICAgICAgICBjbG9uZS5mYWN0b3J5ID0gdGhpcy5mYWN0b3J5O1xyXG4gICAgICAgIGNsb25lLnByb3ZpZGVyID0gdGhpcy5wcm92aWRlcjtcclxuICAgICAgICBjbG9uZS5jb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50O1xyXG4gICAgICAgIGNsb25lLm9uQWN0aXZhdGlvbiA9IHRoaXMub25BY3RpdmF0aW9uO1xyXG4gICAgICAgIGNsb25lLm9uRGVhY3RpdmF0aW9uID0gdGhpcy5vbkRlYWN0aXZhdGlvbjtcclxuICAgICAgICBjbG9uZS5jYWNoZSA9IHRoaXMuY2FjaGU7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCaW5kaW5nO1xyXG59KCkpO1xyXG5leHBvcnQgeyBCaW5kaW5nIH07XHJcbiIsICJleHBvcnQgdmFyIERVUExJQ0FURURfSU5KRUNUQUJMRV9ERUNPUkFUT1IgPSAnQ2Fubm90IGFwcGx5IEBpbmplY3RhYmxlIGRlY29yYXRvciBtdWx0aXBsZSB0aW1lcy4nO1xyXG5leHBvcnQgdmFyIERVUExJQ0FURURfTUVUQURBVEEgPSAnTWV0YWRhdGEga2V5IHdhcyB1c2VkIG1vcmUgdGhhbiBvbmNlIGluIGEgcGFyYW1ldGVyOic7XHJcbmV4cG9ydCB2YXIgTlVMTF9BUkdVTUVOVCA9ICdOVUxMIGFyZ3VtZW50JztcclxuZXhwb3J0IHZhciBLRVlfTk9UX0ZPVU5EID0gJ0tleSBOb3QgRm91bmQnO1xyXG5leHBvcnQgdmFyIEFNQklHVU9VU19NQVRDSCA9ICdBbWJpZ3VvdXMgbWF0Y2ggZm91bmQgZm9yIHNlcnZpY2VJZGVudGlmaWVyOic7XHJcbmV4cG9ydCB2YXIgQ0FOTk9UX1VOQklORCA9ICdDb3VsZCBub3QgdW5iaW5kIHNlcnZpY2VJZGVudGlmaWVyOic7XHJcbmV4cG9ydCB2YXIgTk9UX1JFR0lTVEVSRUQgPSAnTm8gbWF0Y2hpbmcgYmluZGluZ3MgZm91bmQgZm9yIHNlcnZpY2VJZGVudGlmaWVyOic7XHJcbmV4cG9ydCB2YXIgTUlTU0lOR19JTkpFQ1RBQkxFX0FOTk9UQVRJT04gPSAnTWlzc2luZyByZXF1aXJlZCBAaW5qZWN0YWJsZSBhbm5vdGF0aW9uIGluOic7XHJcbmV4cG9ydCB2YXIgTUlTU0lOR19JTkpFQ1RfQU5OT1RBVElPTiA9ICdNaXNzaW5nIHJlcXVpcmVkIEBpbmplY3Qgb3IgQG11bHRpSW5qZWN0IGFubm90YXRpb24gaW46JztcclxuZXhwb3J0IHZhciBVTkRFRklORURfSU5KRUNUX0FOTk9UQVRJT04gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgcmV0dXJuIFwiQGluamVjdCBjYWxsZWQgd2l0aCB1bmRlZmluZWQgdGhpcyBjb3VsZCBtZWFuIHRoYXQgdGhlIGNsYXNzIFwiICsgbmFtZSArIFwiIGhhcyBcIiArXHJcbiAgICAgICAgJ2EgY2lyY3VsYXIgZGVwZW5kZW5jeSBwcm9ibGVtLiBZb3UgY2FuIHVzZSBhIExhenlTZXJ2aWNlSWRlbnRpZmllciB0byAgJyArXHJcbiAgICAgICAgJ292ZXJjb21lIHRoaXMgbGltaXRhdGlvbi4nO1xyXG59O1xyXG5leHBvcnQgdmFyIENJUkNVTEFSX0RFUEVOREVOQ1kgPSAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDonO1xyXG5leHBvcnQgdmFyIE5PVF9JTVBMRU1FTlRFRCA9ICdTb3JyeSwgdGhpcyBmZWF0dXJlIGlzIG5vdCBmdWxseSBpbXBsZW1lbnRlZCB5ZXQuJztcclxuZXhwb3J0IHZhciBJTlZBTElEX0JJTkRJTkdfVFlQRSA9ICdJbnZhbGlkIGJpbmRpbmcgdHlwZTonO1xyXG5leHBvcnQgdmFyIE5PX01PUkVfU05BUFNIT1RTX0FWQUlMQUJMRSA9ICdObyBzbmFwc2hvdCBhdmFpbGFibGUgdG8gcmVzdG9yZS4nO1xyXG5leHBvcnQgdmFyIElOVkFMSURfTUlERExFV0FSRV9SRVRVUk4gPSAnSW52YWxpZCByZXR1cm4gdHlwZSBpbiBtaWRkbGV3YXJlLiBNaWRkbGV3YXJlIG11c3QgcmV0dXJuISc7XHJcbmV4cG9ydCB2YXIgSU5WQUxJRF9GVU5DVElPTl9CSU5ESU5HID0gJ1ZhbHVlIHByb3ZpZGVkIHRvIGZ1bmN0aW9uIGJpbmRpbmcgbXVzdCBiZSBhIGZ1bmN0aW9uISc7XHJcbmV4cG9ydCB2YXIgTEFaWV9JTl9TWU5DID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gXCJZb3UgYXJlIGF0dGVtcHRpbmcgdG8gY29uc3RydWN0ICdcIiArIGtleSArIFwiJyBpbiBhIHN5bmNocm9ub3VzIHdheVxcbiBidXQgaXQgaGFzIGFzeW5jaHJvbm91cyBkZXBlbmRlbmNpZXMuXCI7IH07XHJcbmV4cG9ydCB2YXIgSU5WQUxJRF9UT19TRUxGX1ZBTFVFID0gJ1RoZSB0b1NlbGYgZnVuY3Rpb24gY2FuIG9ubHkgYmUgYXBwbGllZCB3aGVuIGEgY29uc3RydWN0b3IgaXMgJyArXHJcbiAgICAndXNlZCBhcyBzZXJ2aWNlIGlkZW50aWZpZXInO1xyXG5leHBvcnQgdmFyIElOVkFMSURfREVDT1JBVE9SX09QRVJBVElPTiA9ICdUaGUgQGluamVjdCBAbXVsdGlJbmplY3QgQHRhZ2dlZCBhbmQgQG5hbWVkIGRlY29yYXRvcnMgJyArXHJcbiAgICAnbXVzdCBiZSBhcHBsaWVkIHRvIHRoZSBwYXJhbWV0ZXJzIG9mIGEgY2xhc3MgY29uc3RydWN0b3Igb3IgYSBjbGFzcyBwcm9wZXJ0eS4nO1xyXG5leHBvcnQgdmFyIEFSR1VNRU5UU19MRU5HVEhfTUlTTUFUQ0ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhbHVlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdUaGUgbnVtYmVyIG9mIGNvbnN0cnVjdG9yIGFyZ3VtZW50cyBpbiB0aGUgZGVyaXZlZCBjbGFzcyAnICtcclxuICAgICAgICAodmFsdWVzWzBdICsgXCIgbXVzdCBiZSA+PSB0aGFuIHRoZSBudW1iZXIgb2YgY29uc3RydWN0b3IgYXJndW1lbnRzIG9mIGl0cyBiYXNlIGNsYXNzLlwiKTtcclxufTtcclxuZXhwb3J0IHZhciBDT05UQUlORVJfT1BUSU9OU19NVVNUX0JFX0FOX09CSkVDVCA9ICdJbnZhbGlkIENvbnRhaW5lciBjb25zdHJ1Y3RvciBhcmd1bWVudC4gQ29udGFpbmVyIG9wdGlvbnMgJyArXHJcbiAgICAnbXVzdCBiZSBhbiBvYmplY3QuJztcclxuZXhwb3J0IHZhciBDT05UQUlORVJfT1BUSU9OU19JTlZBTElEX0RFRkFVTFRfU0NPUEUgPSAnSW52YWxpZCBDb250YWluZXIgb3B0aW9uLiBEZWZhdWx0IHNjb3BlIG11c3QgJyArXHJcbiAgICAnYmUgYSBzdHJpbmcgKFwic2luZ2xldG9uXCIgb3IgXCJ0cmFuc2llbnRcIikuJztcclxuZXhwb3J0IHZhciBDT05UQUlORVJfT1BUSU9OU19JTlZBTElEX0FVVE9fQklORF9JTkpFQ1RBQkxFID0gJ0ludmFsaWQgQ29udGFpbmVyIG9wdGlvbi4gQXV0byBiaW5kIGluamVjdGFibGUgbXVzdCAnICtcclxuICAgICdiZSBhIGJvb2xlYW4nO1xyXG5leHBvcnQgdmFyIENPTlRBSU5FUl9PUFRJT05TX0lOVkFMSURfU0tJUF9CQVNFX0NIRUNLID0gJ0ludmFsaWQgQ29udGFpbmVyIG9wdGlvbi4gU2tpcCBiYXNlIGNoZWNrIG11c3QgJyArXHJcbiAgICAnYmUgYSBib29sZWFuJztcclxuZXhwb3J0IHZhciBNVUxUSVBMRV9QUkVfREVTVFJPWV9NRVRIT0RTID0gJ0Nhbm5vdCBhcHBseSBAcHJlRGVzdHJveSBkZWNvcmF0b3IgbXVsdGlwbGUgdGltZXMgaW4gdGhlIHNhbWUgY2xhc3MnO1xyXG5leHBvcnQgdmFyIE1VTFRJUExFX1BPU1RfQ09OU1RSVUNUX01FVEhPRFMgPSAnQ2Fubm90IGFwcGx5IEBwb3N0Q29uc3RydWN0IGRlY29yYXRvciBtdWx0aXBsZSB0aW1lcyBpbiB0aGUgc2FtZSBjbGFzcyc7XHJcbmV4cG9ydCB2YXIgQVNZTkNfVU5CSU5EX1JFUVVJUkVEID0gJ0F0dGVtcHRpbmcgdG8gdW5iaW5kIGRlcGVuZGVuY3kgd2l0aCBhc3luY2hyb25vdXMgZGVzdHJ1Y3Rpb24gKEBwcmVEZXN0cm95IG9yIG9uRGVhY3RpdmF0aW9uKSc7XHJcbmV4cG9ydCB2YXIgUE9TVF9DT05TVFJVQ1RfRVJST1IgPSBmdW5jdGlvbiAoY2xhenosIGVycm9yTWVzc2FnZSkgeyByZXR1cm4gXCJAcG9zdENvbnN0cnVjdCBlcnJvciBpbiBjbGFzcyBcIiArIGNsYXp6ICsgXCI6IFwiICsgZXJyb3JNZXNzYWdlOyB9O1xyXG5leHBvcnQgdmFyIFBSRV9ERVNUUk9ZX0VSUk9SID0gZnVuY3Rpb24gKGNsYXp6LCBlcnJvck1lc3NhZ2UpIHsgcmV0dXJuIFwiQHByZURlc3Ryb3kgZXJyb3IgaW4gY2xhc3MgXCIgKyBjbGF6eiArIFwiOiBcIiArIGVycm9yTWVzc2FnZTsgfTtcclxuZXhwb3J0IHZhciBPTl9ERUFDVElWQVRJT05fRVJST1IgPSBmdW5jdGlvbiAoY2xhenosIGVycm9yTWVzc2FnZSkgeyByZXR1cm4gXCJvbkRlYWN0aXZhdGlvbigpIGVycm9yIGluIGNsYXNzIFwiICsgY2xhenogKyBcIjogXCIgKyBlcnJvck1lc3NhZ2U7IH07XHJcbmV4cG9ydCB2YXIgQ0lSQ1VMQVJfREVQRU5ERU5DWV9JTl9GQUNUT1JZID0gZnVuY3Rpb24gKGZhY3RvcnlUeXBlLCBzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIFwiSXQgbG9va3MgbGlrZSB0aGVyZSBpcyBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgaW4gb25lIG9mIHRoZSAnXCIgKyBmYWN0b3J5VHlwZSArIFwiJyBiaW5kaW5ncy4gUGxlYXNlIGludmVzdGlnYXRlIGJpbmRpbmdzIHdpdGggXCIgK1xyXG4gICAgICAgIChcInNlcnZpY2UgaWRlbnRpZmllciAnXCIgKyBzZXJ2aWNlSWRlbnRpZmllciArIFwiJy5cIik7XHJcbn07XHJcbmV4cG9ydCB2YXIgU1RBQ0tfT1ZFUkZMT1cgPSAnTWF4aW11bSBjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWQnO1xyXG4iLCAiaW1wb3J0ICogYXMgTUVUQURBVEFfS0VZIGZyb20gJy4uL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzJztcclxudmFyIE1ldGFkYXRhUmVhZGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1ldGFkYXRhUmVhZGVyKCkge1xyXG4gICAgfVxyXG4gICAgTWV0YWRhdGFSZWFkZXIucHJvdG90eXBlLmdldENvbnN0cnVjdG9yTWV0YWRhdGEgPSBmdW5jdGlvbiAoY29uc3RydWN0b3JGdW5jKSB7XHJcbiAgICAgICAgdmFyIGNvbXBpbGVyR2VuZXJhdGVkTWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKE1FVEFEQVRBX0tFWS5QQVJBTV9UWVBFUywgY29uc3RydWN0b3JGdW5jKTtcclxuICAgICAgICB2YXIgdXNlckdlbmVyYXRlZE1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YShNRVRBREFUQV9LRVkuVEFHR0VELCBjb25zdHJ1Y3RvckZ1bmMpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbXBpbGVyR2VuZXJhdGVkTWV0YWRhdGE6IGNvbXBpbGVyR2VuZXJhdGVkTWV0YWRhdGEsXHJcbiAgICAgICAgICAgIHVzZXJHZW5lcmF0ZWRNZXRhZGF0YTogdXNlckdlbmVyYXRlZE1ldGFkYXRhIHx8IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBNZXRhZGF0YVJlYWRlci5wcm90b3R5cGUuZ2V0UHJvcGVydGllc01ldGFkYXRhID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yRnVuYykge1xyXG4gICAgICAgIHZhciB1c2VyR2VuZXJhdGVkTWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKE1FVEFEQVRBX0tFWS5UQUdHRURfUFJPUCwgY29uc3RydWN0b3JGdW5jKSB8fCBbXTtcclxuICAgICAgICByZXR1cm4gdXNlckdlbmVyYXRlZE1ldGFkYXRhO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNZXRhZGF0YVJlYWRlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgTWV0YWRhdGFSZWFkZXIgfTtcclxuIiwgImV4cG9ydCB2YXIgQmluZGluZ0NvdW50ID0ge1xyXG4gICAgTXVsdGlwbGVCaW5kaW5nc0F2YWlsYWJsZTogMixcclxuICAgIE5vQmluZGluZ3NBdmFpbGFibGU6IDAsXHJcbiAgICBPbmx5T25lQmluZGluZ0F2YWlsYWJsZTogMVxyXG59O1xyXG4iLCAiaW1wb3J0ICogYXMgRVJST1JfTVNHUyBmcm9tICcuLi9jb25zdGFudHMvZXJyb3JfbXNncyc7XHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N0YWNrT3ZlcmZsb3dFeGVwdGlvbihlcnJvcikge1xyXG4gICAgcmV0dXJuIChlcnJvciBpbnN0YW5jZW9mIFJhbmdlRXJyb3IgfHxcclxuICAgICAgICBlcnJvci5tZXNzYWdlID09PSBFUlJPUl9NU0dTLlNUQUNLX09WRVJGTE9XKTtcclxufVxyXG5leHBvcnQgdmFyIHRyeUFuZFRocm93RXJyb3JJZlN0YWNrT3ZlcmZsb3cgPSBmdW5jdGlvbiAoZm4sIGVycm9yQ2FsbGJhY2spIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoaXNTdGFja092ZXJmbG93RXhlcHRpb24oZXJyb3IpKSB7XHJcbiAgICAgICAgICAgIGVycm9yID0gZXJyb3JDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufTtcclxuIiwgImltcG9ydCAqIGFzIEVSUk9SX01TR1MgZnJvbSAnLi4vY29uc3RhbnRzL2Vycm9yX21zZ3MnO1xyXG5mdW5jdGlvbiBnZXRTZXJ2aWNlSWRlbnRpZmllckFzU3RyaW5nKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICBpZiAodHlwZW9mIHNlcnZpY2VJZGVudGlmaWVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdmFyIF9zZXJ2aWNlSWRlbnRpZmllciA9IHNlcnZpY2VJZGVudGlmaWVyO1xyXG4gICAgICAgIHJldHVybiBfc2VydmljZUlkZW50aWZpZXIubmFtZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBzZXJ2aWNlSWRlbnRpZmllciA9PT0gJ3N5bWJvbCcpIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZUlkZW50aWZpZXIudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBfc2VydmljZUlkZW50aWZpZXIgPSBzZXJ2aWNlSWRlbnRpZmllcjtcclxuICAgICAgICByZXR1cm4gX3NlcnZpY2VJZGVudGlmaWVyO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGxpc3RSZWdpc3RlcmVkQmluZGluZ3NGb3JTZXJ2aWNlSWRlbnRpZmllcihjb250YWluZXIsIHNlcnZpY2VJZGVudGlmaWVyLCBnZXRCaW5kaW5ncykge1xyXG4gICAgdmFyIHJlZ2lzdGVyZWRCaW5kaW5nc0xpc3QgPSAnJztcclxuICAgIHZhciByZWdpc3RlcmVkQmluZGluZ3MgPSBnZXRCaW5kaW5ncyhjb250YWluZXIsIHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgIGlmIChyZWdpc3RlcmVkQmluZGluZ3MubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgcmVnaXN0ZXJlZEJpbmRpbmdzTGlzdCA9ICdcXG5SZWdpc3RlcmVkIGJpbmRpbmdzOic7XHJcbiAgICAgICAgcmVnaXN0ZXJlZEJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24gKGJpbmRpbmcpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSAnT2JqZWN0JztcclxuICAgICAgICAgICAgaWYgKGJpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKGJpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWdpc3RlcmVkQmluZGluZ3NMaXN0ID0gcmVnaXN0ZXJlZEJpbmRpbmdzTGlzdCArIFwiXFxuIFwiICsgbmFtZTtcclxuICAgICAgICAgICAgaWYgKGJpbmRpbmcuY29uc3RyYWludC5tZXRhRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZEJpbmRpbmdzTGlzdCA9IHJlZ2lzdGVyZWRCaW5kaW5nc0xpc3QgKyBcIiAtIFwiICsgYmluZGluZy5jb25zdHJhaW50Lm1ldGFEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVnaXN0ZXJlZEJpbmRpbmdzTGlzdDtcclxufVxyXG5mdW5jdGlvbiBhbHJlYWR5RGVwZW5kZW5jeUNoYWluKHJlcXVlc3QsIHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICBpZiAocmVxdWVzdC5wYXJlbnRSZXF1ZXN0ID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocmVxdWVzdC5wYXJlbnRSZXF1ZXN0LnNlcnZpY2VJZGVudGlmaWVyID09PSBzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGFscmVhZHlEZXBlbmRlbmN5Q2hhaW4ocmVxdWVzdC5wYXJlbnRSZXF1ZXN0LCBzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGVwZW5kZW5jeUNoYWluVG9TdHJpbmcocmVxdWVzdCkge1xyXG4gICAgZnVuY3Rpb24gX2NyZWF0ZVN0cmluZ0FycihyZXEsIHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgeyByZXN1bHQgPSBbXTsgfVxyXG4gICAgICAgIHZhciBzZXJ2aWNlSWRlbnRpZmllciA9IGdldFNlcnZpY2VJZGVudGlmaWVyQXNTdHJpbmcocmVxLnNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICByZXN1bHQucHVzaChzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKHJlcS5wYXJlbnRSZXF1ZXN0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlU3RyaW5nQXJyKHJlcS5wYXJlbnRSZXF1ZXN0LCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgdmFyIHN0cmluZ0FyciA9IF9jcmVhdGVTdHJpbmdBcnIocmVxdWVzdCk7XHJcbiAgICByZXR1cm4gc3RyaW5nQXJyLnJldmVyc2UoKS5qb2luKCcgLS0+ICcpO1xyXG59XHJcbmZ1bmN0aW9uIGNpcmN1bGFyRGVwZW5kZW5jeVRvRXhjZXB0aW9uKHJlcXVlc3QpIHtcclxuICAgIHJlcXVlc3QuY2hpbGRSZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZFJlcXVlc3QpIHtcclxuICAgICAgICBpZiAoYWxyZWFkeURlcGVuZGVuY3lDaGFpbihjaGlsZFJlcXVlc3QsIGNoaWxkUmVxdWVzdC5zZXJ2aWNlSWRlbnRpZmllcikpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2VzID0gZGVwZW5kZW5jeUNoYWluVG9TdHJpbmcoY2hpbGRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuQ0lSQ1VMQVJfREVQRU5ERU5DWSArIFwiIFwiICsgc2VydmljZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2lyY3VsYXJEZXBlbmRlbmN5VG9FeGNlcHRpb24oY2hpbGRSZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBsaXN0TWV0YWRhdGFGb3JUYXJnZXQoc2VydmljZUlkZW50aWZpZXJTdHJpbmcsIHRhcmdldCkge1xyXG4gICAgaWYgKHRhcmdldC5pc1RhZ2dlZCgpIHx8IHRhcmdldC5pc05hbWVkKCkpIHtcclxuICAgICAgICB2YXIgbV8xID0gJyc7XHJcbiAgICAgICAgdmFyIG5hbWVkVGFnID0gdGFyZ2V0LmdldE5hbWVkVGFnKCk7XHJcbiAgICAgICAgdmFyIG90aGVyVGFncyA9IHRhcmdldC5nZXRDdXN0b21UYWdzKCk7XHJcbiAgICAgICAgaWYgKG5hbWVkVGFnICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG1fMSArPSBuYW1lZFRhZy50b1N0cmluZygpICsgJ1xcbic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvdGhlclRhZ3MgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgb3RoZXJUYWdzLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xyXG4gICAgICAgICAgICAgICAgbV8xICs9IHRhZy50b1N0cmluZygpICsgJ1xcbic7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCIgXCIgKyBzZXJ2aWNlSWRlbnRpZmllclN0cmluZyArIFwiXFxuIFwiICsgc2VydmljZUlkZW50aWZpZXJTdHJpbmcgKyBcIiAtIFwiICsgbV8xO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFwiIFwiICsgc2VydmljZUlkZW50aWZpZXJTdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZ1bmMpIHtcclxuICAgIGlmIChmdW5jLm5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZnVuYy5uYW1lO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIG5hbWVfMSA9IGZ1bmMudG9TdHJpbmcoKTtcclxuICAgICAgICB2YXIgbWF0Y2ggPSBuYW1lXzEubWF0Y2goL15mdW5jdGlvblxccyooW15cXHMoXSspLyk7XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBcIkFub255bW91cyBmdW5jdGlvbjogXCIgKyBuYW1lXzE7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0U3ltYm9sRGVzY3JpcHRpb24oc3ltYm9sKSB7XHJcbiAgICByZXR1cm4gc3ltYm9sLnRvU3RyaW5nKCkuc2xpY2UoNywgLTEpO1xyXG59XHJcbmV4cG9ydCB7IGdldEZ1bmN0aW9uTmFtZSwgZ2V0U2VydmljZUlkZW50aWZpZXJBc1N0cmluZywgbGlzdFJlZ2lzdGVyZWRCaW5kaW5nc0ZvclNlcnZpY2VJZGVudGlmaWVyLCBsaXN0TWV0YWRhdGFGb3JUYXJnZXQsIGNpcmN1bGFyRGVwZW5kZW5jeVRvRXhjZXB0aW9uLCBnZXRTeW1ib2xEZXNjcmlwdGlvbiB9O1xyXG4iLCAiaW1wb3J0IHsgaWQgfSBmcm9tICcuLi91dGlscy9pZCc7XHJcbnZhciBDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbnRleHQoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkKCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBDb250ZXh0LnByb3RvdHlwZS5hZGRQbGFuID0gZnVuY3Rpb24gKHBsYW4pIHtcclxuICAgICAgICB0aGlzLnBsYW4gPSBwbGFuO1xyXG4gICAgfTtcclxuICAgIENvbnRleHQucHJvdG90eXBlLnNldEN1cnJlbnRSZXF1ZXN0ID0gZnVuY3Rpb24gKGN1cnJlbnRSZXF1ZXN0KSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UmVxdWVzdCA9IGN1cnJlbnRSZXF1ZXN0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb250ZXh0O1xyXG59KCkpO1xyXG5leHBvcnQgeyBDb250ZXh0IH07XHJcbiIsICJpbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG52YXIgTWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTWV0YWRhdGEoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIE1ldGFkYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5rZXkgPT09IE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwibmFtZWQ6IFwiICsgU3RyaW5nKHRoaXMudmFsdWUpLnRvU3RyaW5nKCkgKyBcIiBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcInRhZ2dlZDogeyBrZXk6XCIgKyB0aGlzLmtleS50b1N0cmluZygpICsgXCIsIHZhbHVlOiBcIiArIFN0cmluZyh0aGlzLnZhbHVlKSArIFwiIH1cIjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1ldGFkYXRhO1xyXG59KCkpO1xyXG5leHBvcnQgeyBNZXRhZGF0YSB9O1xyXG4iLCAidmFyIFBsYW4gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGxhbihwYXJlbnRDb250ZXh0LCByb290UmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dCA9IHBhcmVudENvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5yb290UmVxdWVzdCA9IHJvb3RSZXF1ZXN0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFBsYW47XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFBsYW4gfTtcclxuIiwgInZhciBMYXp5U2VydmljZUlkZW50aWZpZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTGF6eVNlcnZpY2VJZGVudGlmaWVyKGNiKSB7XHJcbiAgICAgICAgdGhpcy5fY2IgPSBjYjtcclxuICAgIH1cclxuICAgIExhenlTZXJ2aWNlSWRlbnRpZmllci5wcm90b3R5cGUudW53cmFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBMYXp5U2VydmljZUlkZW50aWZpZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IExhenlTZXJ2aWNlSWRlbnRpZmllciB9O1xyXG4iLCAidmFyIFF1ZXJ5YWJsZVN0cmluZyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBRdWVyeWFibGVTdHJpbmcoc3RyKSB7XHJcbiAgICAgICAgdGhpcy5zdHIgPSBzdHI7XHJcbiAgICB9XHJcbiAgICBRdWVyeWFibGVTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nKSA9PT0gMDtcclxuICAgIH07XHJcbiAgICBRdWVyeWFibGVTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZykge1xyXG4gICAgICAgIHZhciByZXZlcnNlU3RyaW5nID0gJyc7XHJcbiAgICAgICAgdmFyIHJldmVyc2VTZWFyY2hTdHJpbmcgPSBzZWFyY2hTdHJpbmcuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcclxuICAgICAgICByZXZlcnNlU3RyaW5nID0gdGhpcy5zdHIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydHNXaXRoLmNhbGwoeyBzdHI6IHJldmVyc2VTdHJpbmcgfSwgcmV2ZXJzZVNlYXJjaFN0cmluZyk7XHJcbiAgICB9O1xyXG4gICAgUXVlcnlhYmxlU3RyaW5nLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChzZWFyY2hTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nKSAhPT0gLTEpO1xyXG4gICAgfTtcclxuICAgIFF1ZXJ5YWJsZVN0cmluZy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKGNvbXBhcmVTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHIgPT09IGNvbXBhcmVTdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgUXVlcnlhYmxlU3RyaW5nLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFF1ZXJ5YWJsZVN0cmluZztcclxufSgpKTtcclxuZXhwb3J0IHsgUXVlcnlhYmxlU3RyaW5nIH07XHJcbiIsICJpbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG5pbXBvcnQgeyBpZCB9IGZyb20gJy4uL3V0aWxzL2lkJztcclxuaW1wb3J0IHsgZ2V0U3ltYm9sRGVzY3JpcHRpb24gfSBmcm9tICcuLi91dGlscy9zZXJpYWxpemF0aW9uJztcclxuaW1wb3J0IHsgTWV0YWRhdGEgfSBmcm9tICcuL21ldGFkYXRhJztcclxuaW1wb3J0IHsgUXVlcnlhYmxlU3RyaW5nIH0gZnJvbSAnLi9xdWVyeWFibGVfc3RyaW5nJztcclxudmFyIFRhcmdldCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUYXJnZXQodHlwZSwgaWRlbnRpZmllciwgc2VydmljZUlkZW50aWZpZXIsIG5hbWVkT3JUYWdnZWQpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQoKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZUlkZW50aWZpZXIgPSBzZXJ2aWNlSWRlbnRpZmllcjtcclxuICAgICAgICB2YXIgcXVlcnlhYmxlTmFtZSA9IHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3ltYm9sJyA/IGdldFN5bWJvbERlc2NyaXB0aW9uKGlkZW50aWZpZXIpIDogaWRlbnRpZmllcjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuZXcgUXVlcnlhYmxlU3RyaW5nKHF1ZXJ5YWJsZU5hbWUgfHwgJycpO1xyXG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XHJcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHZhciBtZXRhZGF0YUl0ZW0gPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZWRPclRhZ2dlZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtID0gbmV3IE1ldGFkYXRhKE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkT3JUYWdnZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuYW1lZE9yVGFnZ2VkIGluc3RhbmNlb2YgTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgbWV0YWRhdGFJdGVtID0gbmFtZWRPclRhZ2dlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1ldGFkYXRhSXRlbSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnB1c2gobWV0YWRhdGFJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBUYXJnZXQucHJvdG90eXBlLmhhc1RhZyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5tZXRhZGF0YTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChtLmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5pc0FycmF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhc1RhZyhNRVRBREFUQV9LRVkuTVVMVElfSU5KRUNUX1RBRyk7XHJcbiAgICB9O1xyXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5tYXRjaGVzQXJyYXkgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hdGNoZXNUYWcoTUVUQURBVEFfS0VZLk1VTFRJX0lOSkVDVF9UQUcpKG5hbWUpO1xyXG4gICAgfTtcclxuICAgIFRhcmdldC5wcm90b3R5cGUuaXNOYW1lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNUYWcoTUVUQURBVEFfS0VZLk5BTUVEX1RBRyk7XHJcbiAgICB9O1xyXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5pc1RhZ2dlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5zb21lKGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gTUVUQURBVEFfS0VZLk5PTl9DVVNUT01fVEFHX0tFWVMuZXZlcnkoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gbWV0YWRhdGEua2V5ICE9PSBrZXk7IH0pOyB9KTtcclxuICAgIH07XHJcbiAgICBUYXJnZXQucHJvdG90eXBlLmlzT3B0aW9uYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2hlc1RhZyhNRVRBREFUQV9LRVkuT1BUSU9OQUxfVEFHKSh0cnVlKTtcclxuICAgIH07XHJcbiAgICBUYXJnZXQucHJvdG90eXBlLmdldE5hbWVkVGFnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTmFtZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ua2V5ID09PSBNRVRBREFUQV9LRVkuTkFNRURfVEFHOyB9KVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG4gICAgVGFyZ2V0LnByb3RvdHlwZS5nZXRDdXN0b21UYWdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVGFnZ2VkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGEuZmlsdGVyKGZ1bmN0aW9uIChtZXRhZGF0YSkgeyByZXR1cm4gTUVUQURBVEFfS0VZLk5PTl9DVVNUT01fVEFHX0tFWVMuZXZlcnkoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gbWV0YWRhdGEua2V5ICE9PSBrZXk7IH0pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUYXJnZXQucHJvdG90eXBlLm1hdGNoZXNOYW1lZFRhZyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2hlc1RhZyhNRVRBREFUQV9LRVkuTkFNRURfVEFHKShuYW1lKTtcclxuICAgIH07XHJcbiAgICBUYXJnZXQucHJvdG90eXBlLm1hdGNoZXNUYWcgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5tZXRhZGF0YTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG0ua2V5ID09PSBrZXkgJiYgbS52YWx1ZSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGFyZ2V0O1xyXG59KCkpO1xyXG5leHBvcnQgeyBUYXJnZXQgfTtcclxuIiwgInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn07XHJcbmltcG9ydCB7IExhenlTZXJ2aWNlSWRlbnRpZmllciB9IGZyb20gJy4uL2Fubm90YXRpb24vbGF6eV9zZXJ2aWNlX2lkZW50aWZpZXInO1xyXG5pbXBvcnQgKiBhcyBFUlJPUl9NU0dTIGZyb20gJy4uL2NvbnN0YW50cy9lcnJvcl9tc2dzJztcclxuaW1wb3J0IHsgVGFyZ2V0VHlwZUVudW0gfSBmcm9tICcuLi9jb25zdGFudHMvbGl0ZXJhbF90eXBlcyc7XHJcbmltcG9ydCAqIGFzIE1FVEFEQVRBX0tFWSBmcm9tICcuLi9jb25zdGFudHMvbWV0YWRhdGFfa2V5cyc7XHJcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gJy4uL3V0aWxzL3NlcmlhbGl6YXRpb24nO1xyXG5pbXBvcnQgeyBUYXJnZXQgfSBmcm9tICcuL3RhcmdldCc7XHJcbmZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhtZXRhZGF0YVJlYWRlciwgZnVuYykge1xyXG4gICAgdmFyIGNvbnN0cnVjdG9yTmFtZSA9IGdldEZ1bmN0aW9uTmFtZShmdW5jKTtcclxuICAgIHJldHVybiBnZXRUYXJnZXRzKG1ldGFkYXRhUmVhZGVyLCBjb25zdHJ1Y3Rvck5hbWUsIGZ1bmMsIGZhbHNlKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXRzKG1ldGFkYXRhUmVhZGVyLCBjb25zdHJ1Y3Rvck5hbWUsIGZ1bmMsIGlzQmFzZUNsYXNzKSB7XHJcbiAgICB2YXIgbWV0YWRhdGEgPSBtZXRhZGF0YVJlYWRlci5nZXRDb25zdHJ1Y3Rvck1ldGFkYXRhKGZ1bmMpO1xyXG4gICAgdmFyIHNlcnZpY2VJZGVudGlmaWVycyA9IG1ldGFkYXRhLmNvbXBpbGVyR2VuZXJhdGVkTWV0YWRhdGE7XHJcbiAgICBpZiAoc2VydmljZUlkZW50aWZpZXJzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YXIgbXNnID0gRVJST1JfTVNHUy5NSVNTSU5HX0lOSkVDVEFCTEVfQU5OT1RBVElPTiArIFwiIFwiICsgY29uc3RydWN0b3JOYW1lICsgXCIuXCI7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XHJcbiAgICB9XHJcbiAgICB2YXIgY29uc3RydWN0b3JBcmdzTWV0YWRhdGEgPSBtZXRhZGF0YS51c2VyR2VuZXJhdGVkTWV0YWRhdGE7XHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbnN0cnVjdG9yQXJnc01ldGFkYXRhKTtcclxuICAgIHZhciBoYXNVc2VyRGVjbGFyZWRVbmtub3duSW5qZWN0aW9ucyA9IChmdW5jLmxlbmd0aCA9PT0gMCAmJiBrZXlzLmxlbmd0aCA+IDApO1xyXG4gICAgdmFyIGhhc09wdGlvbmFsUGFyYW1ldGVycyA9IGtleXMubGVuZ3RoID4gZnVuYy5sZW5ndGg7XHJcbiAgICB2YXIgaXRlcmF0aW9ucyA9IChoYXNVc2VyRGVjbGFyZWRVbmtub3duSW5qZWN0aW9ucyB8fCBoYXNPcHRpb25hbFBhcmFtZXRlcnMpID8ga2V5cy5sZW5ndGggOiBmdW5jLmxlbmd0aDtcclxuICAgIHZhciBjb25zdHJ1Y3RvclRhcmdldHMgPSBnZXRDb25zdHJ1Y3RvckFyZ3NBc1RhcmdldHMoaXNCYXNlQ2xhc3MsIGNvbnN0cnVjdG9yTmFtZSwgc2VydmljZUlkZW50aWZpZXJzLCBjb25zdHJ1Y3RvckFyZ3NNZXRhZGF0YSwgaXRlcmF0aW9ucyk7XHJcbiAgICB2YXIgcHJvcGVydHlUYXJnZXRzID0gZ2V0Q2xhc3NQcm9wc0FzVGFyZ2V0cyhtZXRhZGF0YVJlYWRlciwgZnVuYywgY29uc3RydWN0b3JOYW1lKTtcclxuICAgIHZhciB0YXJnZXRzID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCBjb25zdHJ1Y3RvclRhcmdldHMsIHRydWUpLCBwcm9wZXJ0eVRhcmdldHMsIHRydWUpO1xyXG4gICAgcmV0dXJuIHRhcmdldHM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29uc3RydWN0b3JBcmdzQXNUYXJnZXQoaW5kZXgsIGlzQmFzZUNsYXNzLCBjb25zdHJ1Y3Rvck5hbWUsIHNlcnZpY2VJZGVudGlmaWVycywgY29uc3RydWN0b3JBcmdzTWV0YWRhdGEpIHtcclxuICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IGNvbnN0cnVjdG9yQXJnc01ldGFkYXRhW2luZGV4LnRvU3RyaW5nKCldIHx8IFtdO1xyXG4gICAgdmFyIG1ldGFkYXRhID0gZm9ybWF0VGFyZ2V0TWV0YWRhdGEodGFyZ2V0TWV0YWRhdGEpO1xyXG4gICAgdmFyIGlzTWFuYWdlZCA9IG1ldGFkYXRhLnVubWFuYWdlZCAhPT0gdHJ1ZTtcclxuICAgIHZhciBzZXJ2aWNlSWRlbnRpZmllciA9IHNlcnZpY2VJZGVudGlmaWVyc1tpbmRleF07XHJcbiAgICB2YXIgaW5qZWN0SWRlbnRpZmllciA9IG1ldGFkYXRhLmluamVjdCB8fCBtZXRhZGF0YS5tdWx0aUluamVjdDtcclxuICAgIHNlcnZpY2VJZGVudGlmaWVyID0gKGluamVjdElkZW50aWZpZXIgPyBpbmplY3RJZGVudGlmaWVyIDogc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgaWYgKHNlcnZpY2VJZGVudGlmaWVyIGluc3RhbmNlb2YgTGF6eVNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgc2VydmljZUlkZW50aWZpZXIgPSBzZXJ2aWNlSWRlbnRpZmllci51bndyYXAoKTtcclxuICAgIH1cclxuICAgIGlmIChpc01hbmFnZWQpIHtcclxuICAgICAgICB2YXIgaXNPYmplY3QgPSBzZXJ2aWNlSWRlbnRpZmllciA9PT0gT2JqZWN0O1xyXG4gICAgICAgIHZhciBpc0Z1bmN0aW9uID0gc2VydmljZUlkZW50aWZpZXIgPT09IEZ1bmN0aW9uO1xyXG4gICAgICAgIHZhciBpc1VuZGVmaW5lZCA9IHNlcnZpY2VJZGVudGlmaWVyID09PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGlzVW5rbm93blR5cGUgPSBpc09iamVjdCB8fCBpc0Z1bmN0aW9uIHx8IGlzVW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICghaXNCYXNlQ2xhc3MgJiYgaXNVbmtub3duVHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgbXNnID0gRVJST1JfTVNHUy5NSVNTSU5HX0lOSkVDVF9BTk5PVEFUSU9OICsgXCIgYXJndW1lbnQgXCIgKyBpbmRleCArIFwiIGluIGNsYXNzIFwiICsgY29uc3RydWN0b3JOYW1lICsgXCIuXCI7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGFyZ2V0ID0gbmV3IFRhcmdldChUYXJnZXRUeXBlRW51bS5Db25zdHJ1Y3RvckFyZ3VtZW50LCBtZXRhZGF0YS50YXJnZXROYW1lLCBzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgdGFyZ2V0Lm1ldGFkYXRhID0gdGFyZ2V0TWV0YWRhdGE7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbnN0cnVjdG9yQXJnc0FzVGFyZ2V0cyhpc0Jhc2VDbGFzcywgY29uc3RydWN0b3JOYW1lLCBzZXJ2aWNlSWRlbnRpZmllcnMsIGNvbnN0cnVjdG9yQXJnc01ldGFkYXRhLCBpdGVyYXRpb25zKSB7XHJcbiAgICB2YXIgdGFyZ2V0cyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyBpKyspIHtcclxuICAgICAgICB2YXIgaW5kZXggPSBpO1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSBnZXRDb25zdHJ1Y3RvckFyZ3NBc1RhcmdldChpbmRleCwgaXNCYXNlQ2xhc3MsIGNvbnN0cnVjdG9yTmFtZSwgc2VydmljZUlkZW50aWZpZXJzLCBjb25zdHJ1Y3RvckFyZ3NNZXRhZGF0YSk7XHJcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0YXJnZXRzLnB1c2godGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFyZ2V0cztcclxufVxyXG5mdW5jdGlvbiBfZ2V0U2VydmljZUlkZW50aWZpZXJGb3JQcm9wZXJ0eShpbmplY3QsIG11bHRpSW5qZWN0LCBwcm9wZXJ0eU5hbWUsIGNsYXNzTmFtZSkge1xyXG4gICAgdmFyIHNlcnZpY2VJZGVudGlmaWVyID0gKGluamVjdCB8fCBtdWx0aUluamVjdCk7XHJcbiAgICBpZiAoc2VydmljZUlkZW50aWZpZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhciBtc2cgPSBFUlJPUl9NU0dTLk1JU1NJTkdfSU5KRUNUQUJMRV9BTk5PVEFUSU9OICsgXCIgZm9yIHByb3BlcnR5IFwiICsgU3RyaW5nKHByb3BlcnR5TmFtZSkgKyBcIiBpbiBjbGFzcyBcIiArIGNsYXNzTmFtZSArIFwiLlwiO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNlcnZpY2VJZGVudGlmaWVyO1xyXG59XHJcbmZ1bmN0aW9uIGdldENsYXNzUHJvcHNBc1RhcmdldHMobWV0YWRhdGFSZWFkZXIsIGNvbnN0cnVjdG9yRnVuYywgY29uc3RydWN0b3JOYW1lKSB7XHJcbiAgICB2YXIgY2xhc3NQcm9wc01ldGFkYXRhID0gbWV0YWRhdGFSZWFkZXIuZ2V0UHJvcGVydGllc01ldGFkYXRhKGNvbnN0cnVjdG9yRnVuYyk7XHJcbiAgICB2YXIgdGFyZ2V0cyA9IFtdO1xyXG4gICAgdmFyIHN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGNsYXNzUHJvcHNNZXRhZGF0YSk7XHJcbiAgICB2YXIgc3RyaW5nS2V5cyA9IE9iamVjdC5rZXlzKGNsYXNzUHJvcHNNZXRhZGF0YSk7XHJcbiAgICB2YXIga2V5cyA9IHN0cmluZ0tleXMuY29uY2F0KHN5bWJvbEtleXMpO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzXzEgPSBrZXlzOyBfaSA8IGtleXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5c18xW19pXTtcclxuICAgICAgICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBjbGFzc1Byb3BzTWV0YWRhdGFba2V5XTtcclxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBmb3JtYXRUYXJnZXRNZXRhZGF0YSh0YXJnZXRNZXRhZGF0YSk7XHJcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBtZXRhZGF0YS50YXJnZXROYW1lIHx8IGtleTtcclxuICAgICAgICB2YXIgc2VydmljZUlkZW50aWZpZXIgPSBfZ2V0U2VydmljZUlkZW50aWZpZXJGb3JQcm9wZXJ0eShtZXRhZGF0YS5pbmplY3QsIG1ldGFkYXRhLm11bHRpSW5qZWN0LCBrZXksIGNvbnN0cnVjdG9yTmFtZSk7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IG5ldyBUYXJnZXQoVGFyZ2V0VHlwZUVudW0uQ2xhc3NQcm9wZXJ0eSwgaWRlbnRpZmllciwgc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRhcmdldC5tZXRhZGF0YSA9IHRhcmdldE1ldGFkYXRhO1xyXG4gICAgICAgIHRhcmdldHMucHVzaCh0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgdmFyIGJhc2VDb25zdHJ1Y3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb25zdHJ1Y3RvckZ1bmMucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcclxuICAgIGlmIChiYXNlQ29uc3RydWN0b3IgIT09IE9iamVjdCkge1xyXG4gICAgICAgIHZhciBiYXNlVGFyZ2V0cyA9IGdldENsYXNzUHJvcHNBc1RhcmdldHMobWV0YWRhdGFSZWFkZXIsIGJhc2VDb25zdHJ1Y3RvciwgY29uc3RydWN0b3JOYW1lKTtcclxuICAgICAgICB0YXJnZXRzID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCB0YXJnZXRzLCB0cnVlKSwgYmFzZVRhcmdldHMsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldHM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QmFzZUNsYXNzRGVwZW5kZW5jeUNvdW50KG1ldGFkYXRhUmVhZGVyLCBmdW5jKSB7XHJcbiAgICB2YXIgYmFzZUNvbnN0cnVjdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmMucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtcclxuICAgIGlmIChiYXNlQ29uc3RydWN0b3IgIT09IE9iamVjdCkge1xyXG4gICAgICAgIHZhciBiYXNlQ29uc3RydWN0b3JOYW1lID0gZ2V0RnVuY3Rpb25OYW1lKGJhc2VDb25zdHJ1Y3Rvcik7XHJcbiAgICAgICAgdmFyIHRhcmdldHMgPSBnZXRUYXJnZXRzKG1ldGFkYXRhUmVhZGVyLCBiYXNlQ29uc3RydWN0b3JOYW1lLCBiYXNlQ29uc3RydWN0b3IsIHRydWUpO1xyXG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHRhcmdldHMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Lm1ldGFkYXRhLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5rZXkgPT09IE1FVEFEQVRBX0tFWS5VTk1BTkFHRURfVEFHOyB9KTsgfSk7XHJcbiAgICAgICAgdmFyIHVubWFuYWdlZENvdW50ID0gW10uY29uY2F0LmFwcGx5KFtdLCBtZXRhZGF0YSkubGVuZ3RoO1xyXG4gICAgICAgIHZhciBkZXBlbmRlbmN5Q291bnQgPSB0YXJnZXRzLmxlbmd0aCAtIHVubWFuYWdlZENvdW50O1xyXG4gICAgICAgIGlmIChkZXBlbmRlbmN5Q291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5Q291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QmFzZUNsYXNzRGVwZW5kZW5jeUNvdW50KG1ldGFkYXRhUmVhZGVyLCBiYXNlQ29uc3RydWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFRhcmdldE1ldGFkYXRhKHRhcmdldE1ldGFkYXRhKSB7XHJcbiAgICB2YXIgdGFyZ2V0TWV0YWRhdGFNYXAgPSB7fTtcclxuICAgIHRhcmdldE1ldGFkYXRhLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICB0YXJnZXRNZXRhZGF0YU1hcFttLmtleS50b1N0cmluZygpXSA9IG0udmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5qZWN0OiB0YXJnZXRNZXRhZGF0YU1hcFtNRVRBREFUQV9LRVkuSU5KRUNUX1RBR10sXHJcbiAgICAgICAgbXVsdGlJbmplY3Q6IHRhcmdldE1ldGFkYXRhTWFwW01FVEFEQVRBX0tFWS5NVUxUSV9JTkpFQ1RfVEFHXSxcclxuICAgICAgICB0YXJnZXROYW1lOiB0YXJnZXRNZXRhZGF0YU1hcFtNRVRBREFUQV9LRVkuTkFNRV9UQUddLFxyXG4gICAgICAgIHVubWFuYWdlZDogdGFyZ2V0TWV0YWRhdGFNYXBbTUVUQURBVEFfS0VZLlVOTUFOQUdFRF9UQUddXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydCB7IGdldERlcGVuZGVuY2llcywgZ2V0QmFzZUNsYXNzRGVwZW5kZW5jeUNvdW50LCBnZXRGdW5jdGlvbk5hbWUgfTtcclxuIiwgImltcG9ydCB7IGlkIH0gZnJvbSAnLi4vdXRpbHMvaWQnO1xyXG52YXIgUmVxdWVzdCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBSZXF1ZXN0KHNlcnZpY2VJZGVudGlmaWVyLCBwYXJlbnRDb250ZXh0LCBwYXJlbnRSZXF1ZXN0LCBiaW5kaW5ncywgdGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkKCk7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlSWRlbnRpZmllciA9IHNlcnZpY2VJZGVudGlmaWVyO1xyXG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dCA9IHBhcmVudENvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRSZXF1ZXN0ID0gcGFyZW50UmVxdWVzdDtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICB0aGlzLmNoaWxkUmVxdWVzdHMgPSBbXTtcclxuICAgICAgICB0aGlzLmJpbmRpbmdzID0gKEFycmF5LmlzQXJyYXkoYmluZGluZ3MpID8gYmluZGluZ3MgOiBbYmluZGluZ3NdKTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTY29wZSA9IHBhcmVudFJlcXVlc3QgPT09IG51bGxcclxuICAgICAgICAgICAgPyBuZXcgTWFwKClcclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgUmVxdWVzdC5wcm90b3R5cGUuYWRkQ2hpbGRSZXF1ZXN0ID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBiaW5kaW5ncywgdGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IFJlcXVlc3Qoc2VydmljZUlkZW50aWZpZXIsIHRoaXMucGFyZW50Q29udGV4dCwgdGhpcywgYmluZGluZ3MsIHRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZFJlcXVlc3RzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVxdWVzdDtcclxufSgpKTtcclxuZXhwb3J0IHsgUmVxdWVzdCB9O1xyXG4iLCAiaW1wb3J0IHsgQmluZGluZ0NvdW50IH0gZnJvbSAnLi4vYmluZGluZ3MvYmluZGluZ19jb3VudCc7XHJcbmltcG9ydCAqIGFzIEVSUk9SX01TR1MgZnJvbSAnLi4vY29uc3RhbnRzL2Vycm9yX21zZ3MnO1xyXG5pbXBvcnQgeyBCaW5kaW5nVHlwZUVudW0sIFRhcmdldFR5cGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG5pbXBvcnQgeyBpc1N0YWNrT3ZlcmZsb3dFeGVwdGlvbiB9IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbnMnO1xyXG5pbXBvcnQgeyBjaXJjdWxhckRlcGVuZGVuY3lUb0V4Y2VwdGlvbiwgZ2V0U2VydmljZUlkZW50aWZpZXJBc1N0cmluZywgbGlzdE1ldGFkYXRhRm9yVGFyZ2V0LCBsaXN0UmVnaXN0ZXJlZEJpbmRpbmdzRm9yU2VydmljZUlkZW50aWZpZXIgfSBmcm9tICcuLi91dGlscy9zZXJpYWxpemF0aW9uJztcclxuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4vY29udGV4dCc7XHJcbmltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnLi9tZXRhZGF0YSc7XHJcbmltcG9ydCB7IFBsYW4gfSBmcm9tICcuL3BsYW4nO1xyXG5pbXBvcnQgeyBnZXRCYXNlQ2xhc3NEZXBlbmRlbmN5Q291bnQsIGdldERlcGVuZGVuY2llcywgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSAnLi9yZWZsZWN0aW9uX3V0aWxzJztcclxuaW1wb3J0IHsgUmVxdWVzdCB9IGZyb20gJy4vcmVxdWVzdCc7XHJcbmltcG9ydCB7IFRhcmdldCB9IGZyb20gJy4vdGFyZ2V0JztcclxuZnVuY3Rpb24gZ2V0QmluZGluZ0RpY3Rpb25hcnkoY250bnIpIHtcclxuICAgIHJldHVybiBjbnRuci5fYmluZGluZ0RpY3Rpb25hcnk7XHJcbn1cclxuZnVuY3Rpb24gX2NyZWF0ZVRhcmdldChpc011bHRpSW5qZWN0LCB0YXJnZXRUeXBlLCBzZXJ2aWNlSWRlbnRpZmllciwgbmFtZSwga2V5LCB2YWx1ZSkge1xyXG4gICAgdmFyIG1ldGFkYXRhS2V5ID0gaXNNdWx0aUluamVjdCA/IE1FVEFEQVRBX0tFWS5NVUxUSV9JTkpFQ1RfVEFHIDogTUVUQURBVEFfS0VZLklOSkVDVF9UQUc7XHJcbiAgICB2YXIgaW5qZWN0TWV0YWRhdGEgPSBuZXcgTWV0YWRhdGEobWV0YWRhdGFLZXksIHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgIHZhciB0YXJnZXQgPSBuZXcgVGFyZ2V0KHRhcmdldFR5cGUsIG5hbWUsIHNlcnZpY2VJZGVudGlmaWVyLCBpbmplY3RNZXRhZGF0YSk7XHJcbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YXIgdGFnTWV0YWRhdGEgPSBuZXcgTWV0YWRhdGEoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgdGFyZ2V0Lm1ldGFkYXRhLnB1c2godGFnTWV0YWRhdGEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBfZ2V0QWN0aXZlQmluZGluZ3MobWV0YWRhdGFSZWFkZXIsIGF2b2lkQ29uc3RyYWludHMsIGNvbnRleHQsIHBhcmVudFJlcXVlc3QsIHRhcmdldCkge1xyXG4gICAgdmFyIGJpbmRpbmdzID0gZ2V0QmluZGluZ3MoY29udGV4dC5jb250YWluZXIsIHRhcmdldC5zZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICB2YXIgYWN0aXZlQmluZGluZ3MgPSBbXTtcclxuICAgIGlmIChiaW5kaW5ncy5sZW5ndGggPT09IEJpbmRpbmdDb3VudC5Ob0JpbmRpbmdzQXZhaWxhYmxlICYmXHJcbiAgICAgICAgY29udGV4dC5jb250YWluZXIub3B0aW9ucy5hdXRvQmluZEluamVjdGFibGUgJiZcclxuICAgICAgICB0eXBlb2YgdGFyZ2V0LnNlcnZpY2VJZGVudGlmaWVyID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgbWV0YWRhdGFSZWFkZXIuZ2V0Q29uc3RydWN0b3JNZXRhZGF0YSh0YXJnZXQuc2VydmljZUlkZW50aWZpZXIpLmNvbXBpbGVyR2VuZXJhdGVkTWV0YWRhdGEpIHtcclxuICAgICAgICBjb250ZXh0LmNvbnRhaW5lci5iaW5kKHRhcmdldC5zZXJ2aWNlSWRlbnRpZmllcikudG9TZWxmKCk7XHJcbiAgICAgICAgYmluZGluZ3MgPSBnZXRCaW5kaW5ncyhjb250ZXh0LmNvbnRhaW5lciwgdGFyZ2V0LnNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgIH1cclxuICAgIGlmICghYXZvaWRDb25zdHJhaW50cykge1xyXG4gICAgICAgIGFjdGl2ZUJpbmRpbmdzID0gYmluZGluZ3MuZmlsdGVyKGZ1bmN0aW9uIChiaW5kaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoYmluZGluZy5zZXJ2aWNlSWRlbnRpZmllciwgY29udGV4dCwgcGFyZW50UmVxdWVzdCwgYmluZGluZywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmcuY29uc3RyYWludChyZXF1ZXN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFjdGl2ZUJpbmRpbmdzID0gYmluZGluZ3M7XHJcbiAgICB9XHJcbiAgICBfdmFsaWRhdGVBY3RpdmVCaW5kaW5nQ291bnQodGFyZ2V0LnNlcnZpY2VJZGVudGlmaWVyLCBhY3RpdmVCaW5kaW5ncywgdGFyZ2V0LCBjb250ZXh0LmNvbnRhaW5lcik7XHJcbiAgICByZXR1cm4gYWN0aXZlQmluZGluZ3M7XHJcbn1cclxuZnVuY3Rpb24gX3ZhbGlkYXRlQWN0aXZlQmluZGluZ0NvdW50KHNlcnZpY2VJZGVudGlmaWVyLCBiaW5kaW5ncywgdGFyZ2V0LCBjb250YWluZXIpIHtcclxuICAgIHN3aXRjaCAoYmluZGluZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nQ291bnQuTm9CaW5kaW5nc0F2YWlsYWJsZTpcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5pc09wdGlvbmFsKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kaW5ncztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlSWRlbnRpZmllclN0cmluZyA9IGdldFNlcnZpY2VJZGVudGlmaWVyQXNTdHJpbmcoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IEVSUk9SX01TR1MuTk9UX1JFR0lTVEVSRUQ7XHJcbiAgICAgICAgICAgICAgICBtc2cgKz0gbGlzdE1ldGFkYXRhRm9yVGFyZ2V0KHNlcnZpY2VJZGVudGlmaWVyU3RyaW5nLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgbXNnICs9IGxpc3RSZWdpc3RlcmVkQmluZGluZ3NGb3JTZXJ2aWNlSWRlbnRpZmllcihjb250YWluZXIsIHNlcnZpY2VJZGVudGlmaWVyU3RyaW5nLCBnZXRCaW5kaW5ncyk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgQmluZGluZ0NvdW50Lk9ubHlPbmVCaW5kaW5nQXZhaWxhYmxlOlxyXG4gICAgICAgICAgICByZXR1cm4gYmluZGluZ3M7XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nQ291bnQuTXVsdGlwbGVCaW5kaW5nc0F2YWlsYWJsZTpcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBpZiAoIXRhcmdldC5pc0FycmF5KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlSWRlbnRpZmllclN0cmluZyA9IGdldFNlcnZpY2VJZGVudGlmaWVyQXNTdHJpbmcoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IEVSUk9SX01TR1MuQU1CSUdVT1VTX01BVENIICsgXCIgXCIgKyBzZXJ2aWNlSWRlbnRpZmllclN0cmluZztcclxuICAgICAgICAgICAgICAgIG1zZyArPSBsaXN0UmVnaXN0ZXJlZEJpbmRpbmdzRm9yU2VydmljZUlkZW50aWZpZXIoY29udGFpbmVyLCBzZXJ2aWNlSWRlbnRpZmllclN0cmluZywgZ2V0QmluZGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZGluZ3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBfY3JlYXRlU3ViUmVxdWVzdHMobWV0YWRhdGFSZWFkZXIsIGF2b2lkQ29uc3RyYWludHMsIHNlcnZpY2VJZGVudGlmaWVyLCBjb250ZXh0LCBwYXJlbnRSZXF1ZXN0LCB0YXJnZXQpIHtcclxuICAgIHZhciBhY3RpdmVCaW5kaW5ncztcclxuICAgIHZhciBjaGlsZFJlcXVlc3Q7XHJcbiAgICBpZiAocGFyZW50UmVxdWVzdCA9PT0gbnVsbCkge1xyXG4gICAgICAgIGFjdGl2ZUJpbmRpbmdzID0gX2dldEFjdGl2ZUJpbmRpbmdzKG1ldGFkYXRhUmVhZGVyLCBhdm9pZENvbnN0cmFpbnRzLCBjb250ZXh0LCBudWxsLCB0YXJnZXQpO1xyXG4gICAgICAgIGNoaWxkUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHNlcnZpY2VJZGVudGlmaWVyLCBjb250ZXh0LCBudWxsLCBhY3RpdmVCaW5kaW5ncywgdGFyZ2V0KTtcclxuICAgICAgICB2YXIgdGhlUGxhbiA9IG5ldyBQbGFuKGNvbnRleHQsIGNoaWxkUmVxdWVzdCk7XHJcbiAgICAgICAgY29udGV4dC5hZGRQbGFuKHRoZVBsYW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlQmluZGluZ3MgPSBfZ2V0QWN0aXZlQmluZGluZ3MobWV0YWRhdGFSZWFkZXIsIGF2b2lkQ29uc3RyYWludHMsIGNvbnRleHQsIHBhcmVudFJlcXVlc3QsIHRhcmdldCk7XHJcbiAgICAgICAgY2hpbGRSZXF1ZXN0ID0gcGFyZW50UmVxdWVzdC5hZGRDaGlsZFJlcXVlc3QodGFyZ2V0LnNlcnZpY2VJZGVudGlmaWVyLCBhY3RpdmVCaW5kaW5ncywgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIGFjdGl2ZUJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24gKGJpbmRpbmcpIHtcclxuICAgICAgICB2YXIgc3ViQ2hpbGRSZXF1ZXN0ID0gbnVsbDtcclxuICAgICAgICBpZiAodGFyZ2V0LmlzQXJyYXkoKSkge1xyXG4gICAgICAgICAgICBzdWJDaGlsZFJlcXVlc3QgPSBjaGlsZFJlcXVlc3QuYWRkQ2hpbGRSZXF1ZXN0KGJpbmRpbmcuc2VydmljZUlkZW50aWZpZXIsIGJpbmRpbmcsIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoYmluZGluZy5jYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1YkNoaWxkUmVxdWVzdCA9IGNoaWxkUmVxdWVzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJpbmRpbmcudHlwZSA9PT0gQmluZGluZ1R5cGVFbnVtLkluc3RhbmNlICYmIGJpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMobWV0YWRhdGFSZWFkZXIsIGJpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlKTtcclxuICAgICAgICAgICAgaWYgKCFjb250ZXh0LmNvbnRhaW5lci5vcHRpb25zLnNraXBCYXNlQ2xhc3NDaGVja3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiYXNlQ2xhc3NEZXBlbmRlbmN5Q291bnQgPSBnZXRCYXNlQ2xhc3NEZXBlbmRlbmN5Q291bnQobWV0YWRhdGFSZWFkZXIsIGJpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmNpZXMubGVuZ3RoIDwgYmFzZUNsYXNzRGVwZW5kZW5jeUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gRVJST1JfTVNHUy5BUkdVTUVOVFNfTEVOR1RIX01JU01BVENIKGdldEZ1bmN0aW9uTmFtZShiaW5kaW5nLmltcGxlbWVudGF0aW9uVHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGRlcGVuZGVuY3kpIHtcclxuICAgICAgICAgICAgICAgIF9jcmVhdGVTdWJSZXF1ZXN0cyhtZXRhZGF0YVJlYWRlciwgZmFsc2UsIGRlcGVuZGVuY3kuc2VydmljZUlkZW50aWZpZXIsIGNvbnRleHQsIHN1YkNoaWxkUmVxdWVzdCwgZGVwZW5kZW5jeSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldEJpbmRpbmdzKGNvbnRhaW5lciwgc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgIHZhciBiaW5kaW5ncyA9IFtdO1xyXG4gICAgdmFyIGJpbmRpbmdEaWN0aW9uYXJ5ID0gZ2V0QmluZGluZ0RpY3Rpb25hcnkoY29udGFpbmVyKTtcclxuICAgIGlmIChiaW5kaW5nRGljdGlvbmFyeS5oYXNLZXkoc2VydmljZUlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5nRGljdGlvbmFyeS5nZXQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoY29udGFpbmVyLnBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgIGJpbmRpbmdzID0gZ2V0QmluZGluZ3MoY29udGFpbmVyLnBhcmVudCwgc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xyXG59XHJcbmZ1bmN0aW9uIHBsYW4obWV0YWRhdGFSZWFkZXIsIGNvbnRhaW5lciwgaXNNdWx0aUluamVjdCwgdGFyZ2V0VHlwZSwgc2VydmljZUlkZW50aWZpZXIsIGtleSwgdmFsdWUsIGF2b2lkQ29uc3RyYWludHMpIHtcclxuICAgIGlmIChhdm9pZENvbnN0cmFpbnRzID09PSB2b2lkIDApIHsgYXZvaWRDb25zdHJhaW50cyA9IGZhbHNlOyB9XHJcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KGNvbnRhaW5lcik7XHJcbiAgICB2YXIgdGFyZ2V0ID0gX2NyZWF0ZVRhcmdldChpc011bHRpSW5qZWN0LCB0YXJnZXRUeXBlLCBzZXJ2aWNlSWRlbnRpZmllciwgJycsIGtleSwgdmFsdWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBfY3JlYXRlU3ViUmVxdWVzdHMobWV0YWRhdGFSZWFkZXIsIGF2b2lkQ29uc3RyYWludHMsIHNlcnZpY2VJZGVudGlmaWVyLCBjb250ZXh0LCBudWxsLCB0YXJnZXQpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGlzU3RhY2tPdmVyZmxvd0V4ZXB0aW9uKGVycm9yKSkge1xyXG4gICAgICAgICAgICBjaXJjdWxhckRlcGVuZGVuY3lUb0V4Y2VwdGlvbihjb250ZXh0LnBsYW4ucm9vdFJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVNb2NrUmVxdWVzdChjb250YWluZXIsIHNlcnZpY2VJZGVudGlmaWVyLCBrZXksIHZhbHVlKSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gbmV3IFRhcmdldChUYXJnZXRUeXBlRW51bS5WYXJpYWJsZSwgJycsIHNlcnZpY2VJZGVudGlmaWVyLCBuZXcgTWV0YWRhdGEoa2V5LCB2YWx1ZSkpO1xyXG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dChjb250YWluZXIpO1xyXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChzZXJ2aWNlSWRlbnRpZmllciwgY29udGV4dCwgbnVsbCwgW10sIHRhcmdldCk7XHJcbiAgICByZXR1cm4gcmVxdWVzdDtcclxufVxyXG5leHBvcnQgeyBwbGFuLCBjcmVhdGVNb2NrUmVxdWVzdCwgZ2V0QmluZGluZ0RpY3Rpb25hcnkgfTtcclxuIiwgImZ1bmN0aW9uIGlzUHJvbWlzZShvYmplY3QpIHtcclxuICAgIHZhciBpc09iamVjdE9yRnVuY3Rpb24gPSAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB8fCB0eXBlb2Ygb2JqZWN0ID09PSAnZnVuY3Rpb24nO1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0T3JGdW5jdGlvbiAmJiB0eXBlb2Ygb2JqZWN0LnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcclxufVxyXG5mdW5jdGlvbiBpc1Byb21pc2VPckNvbnRhaW5zUHJvbWlzZShvYmplY3QpIHtcclxuICAgIGlmIChpc1Byb21pc2Uob2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqZWN0KSAmJiBvYmplY3Quc29tZShpc1Byb21pc2UpO1xyXG59XHJcbmV4cG9ydCB7IGlzUHJvbWlzZSwgaXNQcm9taXNlT3JDb250YWluc1Byb21pc2UgfTtcclxuIiwgInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5pbXBvcnQgeyBCaW5kaW5nU2NvcGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlscy9hc3luYyc7XHJcbmV4cG9ydCB2YXIgdHJ5R2V0RnJvbVNjb3BlID0gZnVuY3Rpb24gKHJlcXVlc3RTY29wZSwgYmluZGluZykge1xyXG4gICAgaWYgKChiaW5kaW5nLnNjb3BlID09PSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbikgJiYgYmluZGluZy5hY3RpdmF0ZWQpIHtcclxuICAgICAgICByZXR1cm4gYmluZGluZy5jYWNoZTtcclxuICAgIH1cclxuICAgIGlmIChiaW5kaW5nLnNjb3BlID09PSBCaW5kaW5nU2NvcGVFbnVtLlJlcXVlc3QgJiZcclxuICAgICAgICByZXF1ZXN0U2NvcGUuaGFzKGJpbmRpbmcuaWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RTY29wZS5nZXQoYmluZGluZy5pZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuZXhwb3J0IHZhciBzYXZlVG9TY29wZSA9IGZ1bmN0aW9uIChyZXF1ZXN0U2NvcGUsIGJpbmRpbmcsIHJlc3VsdCkge1xyXG4gICAgaWYgKGJpbmRpbmcuc2NvcGUgPT09IEJpbmRpbmdTY29wZUVudW0uU2luZ2xldG9uKSB7XHJcbiAgICAgICAgX3NhdmVUb1NpbmdsZXRvblNjb3BlKGJpbmRpbmcsIHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmluZGluZy5zY29wZSA9PT0gQmluZGluZ1Njb3BlRW51bS5SZXF1ZXN0KSB7XHJcbiAgICAgICAgX3NhdmVUb1JlcXVlc3RTY29wZShyZXF1ZXN0U2NvcGUsIGJpbmRpbmcsIHJlc3VsdCk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBfc2F2ZVRvUmVxdWVzdFNjb3BlID0gZnVuY3Rpb24gKHJlcXVlc3RTY29wZSwgYmluZGluZywgcmVzdWx0KSB7XHJcbiAgICBpZiAoIXJlcXVlc3RTY29wZS5oYXMoYmluZGluZy5pZCkpIHtcclxuICAgICAgICByZXF1ZXN0U2NvcGUuc2V0KGJpbmRpbmcuaWQsIHJlc3VsdCk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBfc2F2ZVRvU2luZ2xldG9uU2NvcGUgPSBmdW5jdGlvbiAoYmluZGluZywgcmVzdWx0KSB7XHJcbiAgICBiaW5kaW5nLmNhY2hlID0gcmVzdWx0O1xyXG4gICAgYmluZGluZy5hY3RpdmF0ZWQgPSB0cnVlO1xyXG4gICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XHJcbiAgICAgICAgdm9pZCBfc2F2ZUFzeW5jUmVzdWx0VG9TaW5nbGV0b25TY29wZShiaW5kaW5nLCByZXN1bHQpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgX3NhdmVBc3luY1Jlc3VsdFRvU2luZ2xldG9uU2NvcGUgPSBmdW5jdGlvbiAoYmluZGluZywgYXN5bmNSZXN1bHQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcmVzdWx0LCBleF8xO1xyXG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAyLCAsIDNdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbNCwgYXN5bmNSZXN1bHRdO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmNhY2hlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFszLCAzXTtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgZXhfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgIGJpbmRpbmcuY2FjaGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgYmluZGluZy5hY3RpdmF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRocm93IGV4XzE7XHJcbiAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyXTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7IH07XHJcbiIsICJleHBvcnQgdmFyIEZhY3RvcnlUeXBlO1xyXG4oZnVuY3Rpb24gKEZhY3RvcnlUeXBlKSB7XHJcbiAgICBGYWN0b3J5VHlwZVtcIkR5bmFtaWNWYWx1ZVwiXSA9IFwidG9EeW5hbWljVmFsdWVcIjtcclxuICAgIEZhY3RvcnlUeXBlW1wiRmFjdG9yeVwiXSA9IFwidG9GYWN0b3J5XCI7XHJcbiAgICBGYWN0b3J5VHlwZVtcIlByb3ZpZGVyXCJdID0gXCJ0b1Byb3ZpZGVyXCI7XHJcbn0pKEZhY3RvcnlUeXBlIHx8IChGYWN0b3J5VHlwZSA9IHt9KSk7XHJcbiIsICJpbXBvcnQgeyBnZXRTZXJ2aWNlSWRlbnRpZmllckFzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMvc2VyaWFsaXphdGlvbic7XHJcbmltcG9ydCAqIGFzIEVSUk9SX01TR1MgZnJvbSAnLi4vY29uc3RhbnRzL2Vycm9yX21zZ3MnO1xyXG5pbXBvcnQgeyBCaW5kaW5nVHlwZUVudW0gfSBmcm9tICcuLi9jb25zdGFudHMvbGl0ZXJhbF90eXBlcyc7XHJcbmltcG9ydCB7IEZhY3RvcnlUeXBlIH0gZnJvbSAnLi9mYWN0b3J5X3R5cGUnO1xyXG5leHBvcnQgdmFyIG11bHRpQmluZFRvU2VydmljZSA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoc2VydmljZSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdHlwZXNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodCkgeyByZXR1cm4gY29udGFpbmVyLmJpbmQodCkudG9TZXJ2aWNlKHNlcnZpY2UpOyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufTtcclxuZXhwb3J0IHZhciBlbnN1cmVGdWxseUJvdW5kID0gZnVuY3Rpb24gKGJpbmRpbmcpIHtcclxuICAgIHZhciBib3VuZFZhbHVlID0gbnVsbDtcclxuICAgIHN3aXRjaCAoYmluZGluZy50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nVHlwZUVudW0uQ29uc3RhbnRWYWx1ZTpcclxuICAgICAgICBjYXNlIEJpbmRpbmdUeXBlRW51bS5GdW5jdGlvbjpcclxuICAgICAgICAgICAgYm91bmRWYWx1ZSA9IGJpbmRpbmcuY2FjaGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkNvbnN0cnVjdG9yOlxyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkluc3RhbmNlOlxyXG4gICAgICAgICAgICBib3VuZFZhbHVlID0gYmluZGluZy5pbXBsZW1lbnRhdGlvblR5cGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkR5bmFtaWNWYWx1ZTpcclxuICAgICAgICAgICAgYm91bmRWYWx1ZSA9IGJpbmRpbmcuZHluYW1pY1ZhbHVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEJpbmRpbmdUeXBlRW51bS5Qcm92aWRlcjpcclxuICAgICAgICAgICAgYm91bmRWYWx1ZSA9IGJpbmRpbmcucHJvdmlkZXI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkZhY3Rvcnk6XHJcbiAgICAgICAgICAgIGJvdW5kVmFsdWUgPSBiaW5kaW5nLmZhY3Rvcnk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvdW5kVmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICB2YXIgc2VydmljZUlkZW50aWZpZXJBc1N0cmluZyA9IGdldFNlcnZpY2VJZGVudGlmaWVyQXNTdHJpbmcoYmluZGluZy5zZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuSU5WQUxJRF9CSU5ESU5HX1RZUEUgKyBcIiBcIiArIHNlcnZpY2VJZGVudGlmaWVyQXNTdHJpbmcpO1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgdmFyIGdldEZhY3RvcnlEZXRhaWxzID0gZnVuY3Rpb24gKGJpbmRpbmcpIHtcclxuICAgIHN3aXRjaCAoYmluZGluZy50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nVHlwZUVudW0uRmFjdG9yeTpcclxuICAgICAgICAgICAgcmV0dXJuIHsgZmFjdG9yeTogYmluZGluZy5mYWN0b3J5LCBmYWN0b3J5VHlwZTogRmFjdG9yeVR5cGUuRmFjdG9yeSB9O1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLlByb3ZpZGVyOlxyXG4gICAgICAgICAgICByZXR1cm4geyBmYWN0b3J5OiBiaW5kaW5nLnByb3ZpZGVyLCBmYWN0b3J5VHlwZTogRmFjdG9yeVR5cGUuUHJvdmlkZXIgfTtcclxuICAgICAgICBjYXNlIEJpbmRpbmdUeXBlRW51bS5EeW5hbWljVmFsdWU6XHJcbiAgICAgICAgICAgIHJldHVybiB7IGZhY3Rvcnk6IGJpbmRpbmcuZHluYW1pY1ZhbHVlLCBmYWN0b3J5VHlwZTogRmFjdG9yeVR5cGUuRHluYW1pY1ZhbHVlIH07XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBmYWN0b3J5IHR5cGUgXCIgKyBiaW5kaW5nLnR5cGUpO1xyXG4gICAgfVxyXG59O1xyXG4iLCAidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufTtcclxuaW1wb3J0IHsgT05fREVBQ1RJVkFUSU9OX0VSUk9SLCBQT1NUX0NPTlNUUlVDVF9FUlJPUiwgUFJFX0RFU1RST1lfRVJST1IgfSBmcm9tICcuLi9jb25zdGFudHMvZXJyb3JfbXNncyc7XHJcbmltcG9ydCB7IEJpbmRpbmdTY29wZUVudW0sIFRhcmdldFR5cGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG5pbXBvcnQgeyBpc1Byb21pc2UsIGlzUHJvbWlzZU9yQ29udGFpbnNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMnO1xyXG5mdW5jdGlvbiBfcmVzb2x2ZVJlcXVlc3RzKGNoaWxkUmVxdWVzdHMsIHJlc29sdmVSZXF1ZXN0KSB7XHJcbiAgICByZXR1cm4gY2hpbGRSZXF1ZXN0cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc29sdmVkUmVxdWVzdHMsIGNoaWxkUmVxdWVzdCkge1xyXG4gICAgICAgIHZhciBpbmplY3Rpb24gPSByZXNvbHZlUmVxdWVzdChjaGlsZFJlcXVlc3QpO1xyXG4gICAgICAgIHZhciB0YXJnZXRUeXBlID0gY2hpbGRSZXF1ZXN0LnRhcmdldC50eXBlO1xyXG4gICAgICAgIGlmICh0YXJnZXRUeXBlID09PSBUYXJnZXRUeXBlRW51bS5Db25zdHJ1Y3RvckFyZ3VtZW50KSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdHMuY29uc3RydWN0b3JJbmplY3Rpb25zLnB1c2goaW5qZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdHMucHJvcGVydHlSZXF1ZXN0cy5wdXNoKGNoaWxkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHJlc29sdmVkUmVxdWVzdHMucHJvcGVydHlJbmplY3Rpb25zLnB1c2goaW5qZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZXNvbHZlZFJlcXVlc3RzLmlzQXN5bmMpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRSZXF1ZXN0cy5pc0FzeW5jID0gaXNQcm9taXNlT3JDb250YWluc1Byb21pc2UoaW5qZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUmVxdWVzdHM7XHJcbiAgICB9LCB7IGNvbnN0cnVjdG9ySW5qZWN0aW9uczogW10sIHByb3BlcnR5SW5qZWN0aW9uczogW10sIHByb3BlcnR5UmVxdWVzdHM6IFtdLCBpc0FzeW5jOiBmYWxzZSB9KTtcclxufVxyXG5mdW5jdGlvbiBfY3JlYXRlSW5zdGFuY2UoY29uc3RyLCBjaGlsZFJlcXVlc3RzLCByZXNvbHZlUmVxdWVzdCkge1xyXG4gICAgdmFyIHJlc3VsdDtcclxuICAgIGlmIChjaGlsZFJlcXVlc3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgcmVzb2x2ZWQgPSBfcmVzb2x2ZVJlcXVlc3RzKGNoaWxkUmVxdWVzdHMsIHJlc29sdmVSZXF1ZXN0KTtcclxuICAgICAgICB2YXIgY3JlYXRlSW5zdGFuY2VXaXRoSW5qZWN0aW9uc0FyZyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXNvbHZlZCksIHsgY29uc3RyOiBjb25zdHIgfSk7XHJcbiAgICAgICAgaWYgKHJlc29sdmVkLmlzQXN5bmMpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gY3JlYXRlSW5zdGFuY2VXaXRoSW5qZWN0aW9uc0FzeW5jKGNyZWF0ZUluc3RhbmNlV2l0aEluamVjdGlvbnNBcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gY3JlYXRlSW5zdGFuY2VXaXRoSW5qZWN0aW9ucyhjcmVhdGVJbnN0YW5jZVdpdGhJbmplY3Rpb25zQXJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXN1bHQgPSBuZXcgY29uc3RyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlV2l0aEluamVjdGlvbnMoYXJncykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgdmFyIGluc3RhbmNlID0gbmV3ICgoX2EgPSBhcmdzLmNvbnN0cikuYmluZC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbdm9pZCAwXSwgYXJncy5jb25zdHJ1Y3RvckluamVjdGlvbnMsIGZhbHNlKSkpKCk7XHJcbiAgICBhcmdzLnByb3BlcnR5UmVxdWVzdHMuZm9yRWFjaChmdW5jdGlvbiAociwgaW5kZXgpIHtcclxuICAgICAgICB2YXIgcHJvcGVydHkgPSByLnRhcmdldC5pZGVudGlmaWVyO1xyXG4gICAgICAgIHZhciBpbmplY3Rpb24gPSBhcmdzLnByb3BlcnR5SW5qZWN0aW9uc1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFyLnRhcmdldC5pc09wdGlvbmFsKCkgfHwgaW5qZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2VbcHJvcGVydHldID0gaW5qZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlV2l0aEluamVjdGlvbnNBc3luYyhhcmdzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9ySW5qZWN0aW9ucywgcHJvcGVydHlJbmplY3Rpb25zO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIHBvc3NpYmx5V2FpdEluamVjdGlvbnMoYXJncy5jb25zdHJ1Y3RvckluamVjdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvckluamVjdGlvbnMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBwb3NzaWJseVdhaXRJbmplY3Rpb25zKGFyZ3MucHJvcGVydHlJbmplY3Rpb25zKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlJbmplY3Rpb25zID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgY3JlYXRlSW5zdGFuY2VXaXRoSW5qZWN0aW9ucyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYXJncyksIHsgY29uc3RydWN0b3JJbmplY3Rpb25zOiBjb25zdHJ1Y3RvckluamVjdGlvbnMsIHByb3BlcnR5SW5qZWN0aW9uczogcHJvcGVydHlJbmplY3Rpb25zIH0pKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHBvc3NpYmx5V2FpdEluamVjdGlvbnMocG9zc2libGVQcm9taXNlaW5qZWN0aW9ucykge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbmplY3Rpb25zLCBfaSwgcG9zc2libGVQcm9taXNlaW5qZWN0aW9uc18xLCBpbmplY3Rpb247XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBpbmplY3Rpb25zID0gW107XHJcbiAgICAgICAgICAgIGZvciAoX2kgPSAwLCBwb3NzaWJsZVByb21pc2VpbmplY3Rpb25zXzEgPSBwb3NzaWJsZVByb21pc2VpbmplY3Rpb25zOyBfaSA8IHBvc3NpYmxlUHJvbWlzZWluamVjdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGluamVjdGlvbiA9IHBvc3NpYmxlUHJvbWlzZWluamVjdGlvbnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmplY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0aW9ucy5wdXNoKFByb21pc2UuYWxsKGluamVjdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0aW9ucy5wdXNoKGluamVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFsyLCBQcm9taXNlLmFsbChpbmplY3Rpb25zKV07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBfZ2V0SW5zdGFuY2VBZnRlclBvc3RDb25zdHJ1Y3QoY29uc3RyLCByZXN1bHQpIHtcclxuICAgIHZhciBwb3N0Q29uc3RydWN0UmVzdWx0ID0gX3Bvc3RDb25zdHJ1Y3QoY29uc3RyLCByZXN1bHQpO1xyXG4gICAgaWYgKGlzUHJvbWlzZShwb3N0Q29uc3RydWN0UmVzdWx0KSkge1xyXG4gICAgICAgIHJldHVybiBwb3N0Q29uc3RydWN0UmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzdWx0OyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gX3Bvc3RDb25zdHJ1Y3QoY29uc3RyLCBpbnN0YW5jZSkge1xyXG4gICAgdmFyIF9hLCBfYjtcclxuICAgIGlmIChSZWZsZWN0Lmhhc01ldGFkYXRhKE1FVEFEQVRBX0tFWS5QT1NUX0NPTlNUUlVDVCwgY29uc3RyKSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YShNRVRBREFUQV9LRVkuUE9TVF9DT05TVFJVQ1QsIGNvbnN0cik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGluc3RhbmNlKVtkYXRhLnZhbHVlXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoUE9TVF9DT05TVFJVQ1RfRVJST1IoY29uc3RyLm5hbWUsIGUubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIF92YWxpZGF0ZUluc3RhbmNlUmVzb2x1dGlvbihiaW5kaW5nLCBjb25zdHIpIHtcclxuICAgIGlmIChiaW5kaW5nLnNjb3BlICE9PSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbikge1xyXG4gICAgICAgIF90aHJvd0lmSGFuZGxpbmdEZWFjdGl2YXRpb24oYmluZGluZywgY29uc3RyKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBfdGhyb3dJZkhhbmRsaW5nRGVhY3RpdmF0aW9uKGJpbmRpbmcsIGNvbnN0cikge1xyXG4gICAgdmFyIHNjb3BlRXJyb3JNZXNzYWdlID0gXCJDbGFzcyBjYW5ub3QgYmUgaW5zdGFudGlhdGVkIGluIFwiICsgKGJpbmRpbmcuc2NvcGUgPT09IEJpbmRpbmdTY29wZUVudW0uUmVxdWVzdCA/XHJcbiAgICAgICAgJ3JlcXVlc3QnIDpcclxuICAgICAgICAndHJhbnNpZW50JykgKyBcIiBzY29wZS5cIjtcclxuICAgIGlmICh0eXBlb2YgYmluZGluZy5vbkRlYWN0aXZhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihPTl9ERUFDVElWQVRJT05fRVJST1IoY29uc3RyLm5hbWUsIHNjb3BlRXJyb3JNZXNzYWdlKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoUmVmbGVjdC5oYXNNZXRhZGF0YShNRVRBREFUQV9LRVkuUFJFX0RFU1RST1ksIGNvbnN0cikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoUFJFX0RFU1RST1lfRVJST1IoY29uc3RyLm5hbWUsIHNjb3BlRXJyb3JNZXNzYWdlKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZUluc3RhbmNlKGJpbmRpbmcsIGNvbnN0ciwgY2hpbGRSZXF1ZXN0cywgcmVzb2x2ZVJlcXVlc3QpIHtcclxuICAgIF92YWxpZGF0ZUluc3RhbmNlUmVzb2x1dGlvbihiaW5kaW5nLCBjb25zdHIpO1xyXG4gICAgdmFyIHJlc3VsdCA9IF9jcmVhdGVJbnN0YW5jZShjb25zdHIsIGNoaWxkUmVxdWVzdHMsIHJlc29sdmVSZXF1ZXN0KTtcclxuICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzb2x2ZWRSZXN1bHQpIHsgcmV0dXJuIF9nZXRJbnN0YW5jZUFmdGVyUG9zdENvbnN0cnVjdChjb25zdHIsIHJlc29sdmVkUmVzdWx0KTsgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gX2dldEluc3RhbmNlQWZ0ZXJQb3N0Q29uc3RydWN0KGNvbnN0ciwgcmVzdWx0KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyByZXNvbHZlSW5zdGFuY2UgfTtcclxuIiwgInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG5pbXBvcnQgKiBhcyBFUlJPUl9NU0dTIGZyb20gJy4uL2NvbnN0YW50cy9lcnJvcl9tc2dzJztcclxuaW1wb3J0IHsgQmluZGluZ1R5cGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgeyBnZXRCaW5kaW5nRGljdGlvbmFyeSB9IGZyb20gJy4uL3BsYW5uaW5nL3BsYW5uZXInO1xyXG5pbXBvcnQgeyBzYXZlVG9TY29wZSwgdHJ5R2V0RnJvbVNjb3BlIH0gZnJvbSAnLi4vc2NvcGUvc2NvcGUnO1xyXG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlscy9hc3luYyc7XHJcbmltcG9ydCB7IGdldEZhY3RvcnlEZXRhaWxzLCBlbnN1cmVGdWxseUJvdW5kIH0gZnJvbSAnLi4vdXRpbHMvYmluZGluZ191dGlscyc7XHJcbmltcG9ydCB7IHRyeUFuZFRocm93RXJyb3JJZlN0YWNrT3ZlcmZsb3cgfSBmcm9tICcuLi91dGlscy9leGNlcHRpb25zJztcclxuaW1wb3J0IHsgcmVzb2x2ZUluc3RhbmNlIH0gZnJvbSAnLi9pbnN0YW50aWF0aW9uJztcclxudmFyIF9yZXNvbHZlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXF1ZXN0U2NvcGUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgIHJlcXVlc3QucGFyZW50Q29udGV4dC5zZXRDdXJyZW50UmVxdWVzdChyZXF1ZXN0KTtcclxuICAgICAgICB2YXIgYmluZGluZ3MgPSByZXF1ZXN0LmJpbmRpbmdzO1xyXG4gICAgICAgIHZhciBjaGlsZFJlcXVlc3RzID0gcmVxdWVzdC5jaGlsZFJlcXVlc3RzO1xyXG4gICAgICAgIHZhciB0YXJnZXRJc0FuQXJyYXkgPSByZXF1ZXN0LnRhcmdldCAmJiByZXF1ZXN0LnRhcmdldC5pc0FycmF5KCk7XHJcbiAgICAgICAgdmFyIHRhcmdldFBhcmVudElzTm90QW5BcnJheSA9ICFyZXF1ZXN0LnBhcmVudFJlcXVlc3QgfHxcclxuICAgICAgICAgICAgIXJlcXVlc3QucGFyZW50UmVxdWVzdC50YXJnZXQgfHxcclxuICAgICAgICAgICAgIXJlcXVlc3QudGFyZ2V0IHx8XHJcbiAgICAgICAgICAgICFyZXF1ZXN0LnBhcmVudFJlcXVlc3QudGFyZ2V0Lm1hdGNoZXNBcnJheShyZXF1ZXN0LnRhcmdldC5zZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKHRhcmdldElzQW5BcnJheSAmJiB0YXJnZXRQYXJlbnRJc05vdEFuQXJyYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkUmVxdWVzdHMubWFwKGZ1bmN0aW9uIChjaGlsZFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZiA9IF9yZXNvbHZlUmVxdWVzdChyZXF1ZXN0U2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mKGNoaWxkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QudGFyZ2V0LmlzT3B0aW9uYWwoKSAmJiBiaW5kaW5ncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGJpbmRpbmcgPSBiaW5kaW5nc1swXTtcclxuICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlQmluZGluZyhyZXF1ZXN0U2NvcGUsIHJlcXVlc3QsIGJpbmRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcbnZhciBfcmVzb2x2ZUZhY3RvcnlGcm9tQmluZGluZyA9IGZ1bmN0aW9uIChiaW5kaW5nLCBjb250ZXh0KSB7XHJcbiAgICB2YXIgZmFjdG9yeURldGFpbHMgPSBnZXRGYWN0b3J5RGV0YWlscyhiaW5kaW5nKTtcclxuICAgIHJldHVybiB0cnlBbmRUaHJvd0Vycm9ySWZTdGFja092ZXJmbG93KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhY3RvcnlEZXRhaWxzLmZhY3RvcnkuYmluZChiaW5kaW5nKShjb250ZXh0KTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEVycm9yKEVSUk9SX01TR1MuQ0lSQ1VMQVJfREVQRU5ERU5DWV9JTl9GQUNUT1JZKGZhY3RvcnlEZXRhaWxzLmZhY3RvcnlUeXBlLCBjb250ZXh0LmN1cnJlbnRSZXF1ZXN0LnNlcnZpY2VJZGVudGlmaWVyLnRvU3RyaW5nKCkpKTsgfSk7XHJcbn07XHJcbnZhciBfZ2V0UmVzb2x2ZWRGcm9tQmluZGluZyA9IGZ1bmN0aW9uIChyZXF1ZXN0U2NvcGUsIHJlcXVlc3QsIGJpbmRpbmcpIHtcclxuICAgIHZhciByZXN1bHQ7XHJcbiAgICB2YXIgY2hpbGRSZXF1ZXN0cyA9IHJlcXVlc3QuY2hpbGRSZXF1ZXN0cztcclxuICAgIGVuc3VyZUZ1bGx5Qm91bmQoYmluZGluZyk7XHJcbiAgICBzd2l0Y2ggKGJpbmRpbmcudHlwZSkge1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkNvbnN0YW50VmFsdWU6XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nVHlwZUVudW0uRnVuY3Rpb246XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGJpbmRpbmcuY2FjaGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQmluZGluZ1R5cGVFbnVtLkNvbnN0cnVjdG9yOlxyXG4gICAgICAgICAgICByZXN1bHQgPSBiaW5kaW5nLmltcGxlbWVudGF0aW9uVHlwZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBCaW5kaW5nVHlwZUVudW0uSW5zdGFuY2U6XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc29sdmVJbnN0YW5jZShiaW5kaW5nLCBiaW5kaW5nLmltcGxlbWVudGF0aW9uVHlwZSwgY2hpbGRSZXF1ZXN0cywgX3Jlc29sdmVSZXF1ZXN0KHJlcXVlc3RTY29wZSkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXN1bHQgPSBfcmVzb2x2ZUZhY3RvcnlGcm9tQmluZGluZyhiaW5kaW5nLCByZXF1ZXN0LnBhcmVudENvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxudmFyIF9yZXNvbHZlSW5TY29wZSA9IGZ1bmN0aW9uIChyZXF1ZXN0U2NvcGUsIGJpbmRpbmcsIHJlc29sdmVGcm9tQmluZGluZykge1xyXG4gICAgdmFyIHJlc3VsdCA9IHRyeUdldEZyb21TY29wZShyZXF1ZXN0U2NvcGUsIGJpbmRpbmcpO1xyXG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXN1bHQgPSByZXNvbHZlRnJvbUJpbmRpbmcoKTtcclxuICAgIHNhdmVUb1Njb3BlKHJlcXVlc3RTY29wZSwgYmluZGluZywgcmVzdWx0KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBfcmVzb2x2ZUJpbmRpbmcgPSBmdW5jdGlvbiAocmVxdWVzdFNjb3BlLCByZXF1ZXN0LCBiaW5kaW5nKSB7XHJcbiAgICByZXR1cm4gX3Jlc29sdmVJblNjb3BlKHJlcXVlc3RTY29wZSwgYmluZGluZywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBfZ2V0UmVzb2x2ZWRGcm9tQmluZGluZyhyZXF1ZXN0U2NvcGUsIHJlcXVlc3QsIGJpbmRpbmcpO1xyXG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzb2x2ZWQpIHsgcmV0dXJuIF9vbkFjdGl2YXRpb24ocmVxdWVzdCwgYmluZGluZywgcmVzb2x2ZWQpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IF9vbkFjdGl2YXRpb24ocmVxdWVzdCwgYmluZGluZywgcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0pO1xyXG59O1xyXG5mdW5jdGlvbiBfb25BY3RpdmF0aW9uKHJlcXVlc3QsIGJpbmRpbmcsIHJlc29sdmVkKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gX2JpbmRpbmdBY3RpdmF0aW9uKHJlcXVlc3QucGFyZW50Q29udGV4dCwgYmluZGluZywgcmVzb2x2ZWQpO1xyXG4gICAgdmFyIGNvbnRhaW5lcnNJdGVyYXRvciA9IF9nZXRDb250YWluZXJzSXRlcmF0b3IocmVxdWVzdC5wYXJlbnRDb250ZXh0LmNvbnRhaW5lcik7XHJcbiAgICB2YXIgY29udGFpbmVyO1xyXG4gICAgdmFyIGNvbnRhaW5lcnNJdGVyYXRvclJlc3VsdCA9IGNvbnRhaW5lcnNJdGVyYXRvci5uZXh0KCk7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyc0l0ZXJhdG9yUmVzdWx0LnZhbHVlO1xyXG4gICAgICAgIHZhciBjb250ZXh0XzEgPSByZXF1ZXN0LnBhcmVudENvbnRleHQ7XHJcbiAgICAgICAgdmFyIHNlcnZpY2VJZGVudGlmaWVyID0gcmVxdWVzdC5zZXJ2aWNlSWRlbnRpZmllcjtcclxuICAgICAgICB2YXIgYWN0aXZhdGlvbnNJdGVyYXRvciA9IF9nZXRDb250YWluZXJBY3RpdmF0aW9uc0ZvclNlcnZpY2UoY29udGFpbmVyLCBzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IF9hY3RpdmF0ZUNvbnRhaW5lckFzeW5jKGFjdGl2YXRpb25zSXRlcmF0b3IsIGNvbnRleHRfMSwgcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IF9hY3RpdmF0ZUNvbnRhaW5lcihhY3RpdmF0aW9uc0l0ZXJhdG9yLCBjb250ZXh0XzEsIHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRhaW5lcnNJdGVyYXRvclJlc3VsdCA9IGNvbnRhaW5lcnNJdGVyYXRvci5uZXh0KCk7XHJcbiAgICB9IHdoaWxlIChjb250YWluZXJzSXRlcmF0b3JSZXN1bHQuZG9uZSAhPT0gdHJ1ZSAmJiAhZ2V0QmluZGluZ0RpY3Rpb25hcnkoY29udGFpbmVyKS5oYXNLZXkocmVxdWVzdC5zZXJ2aWNlSWRlbnRpZmllcikpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG52YXIgX2JpbmRpbmdBY3RpdmF0aW9uID0gZnVuY3Rpb24gKGNvbnRleHQsIGJpbmRpbmcsIHByZXZpb3VzUmVzdWx0KSB7XHJcbiAgICB2YXIgcmVzdWx0O1xyXG4gICAgaWYgKHR5cGVvZiBiaW5kaW5nLm9uQWN0aXZhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJlc3VsdCA9IGJpbmRpbmcub25BY3RpdmF0aW9uKGNvbnRleHQsIHByZXZpb3VzUmVzdWx0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJlc3VsdCA9IHByZXZpb3VzUmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxudmFyIF9hY3RpdmF0ZUNvbnRhaW5lciA9IGZ1bmN0aW9uIChhY3RpdmF0aW9uc0l0ZXJhdG9yLCBjb250ZXh0LCByZXN1bHQpIHtcclxuICAgIHZhciBhY3RpdmF0aW9uID0gYWN0aXZhdGlvbnNJdGVyYXRvci5uZXh0KCk7XHJcbiAgICB3aGlsZSAoIWFjdGl2YXRpb24uZG9uZSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGFjdGl2YXRpb24udmFsdWUoY29udGV4dCwgcmVzdWx0KTtcclxuICAgICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9hY3RpdmF0ZUNvbnRhaW5lckFzeW5jKGFjdGl2YXRpb25zSXRlcmF0b3IsIGNvbnRleHQsIHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2YXRpb24gPSBhY3RpdmF0aW9uc0l0ZXJhdG9yLm5leHQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBfYWN0aXZhdGVDb250YWluZXJBc3luYyA9IGZ1bmN0aW9uIChhY3RpdmF0aW9uc0l0ZXJhdG9yLCBjb250ZXh0LCByZXN1bHRQcm9taXNlKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHJlc3VsdCwgYWN0aXZhdGlvbjtcclxuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0LCByZXN1bHRQcm9taXNlXTtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGlvbiA9IGFjdGl2YXRpb25zSXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBpZiAoISFhY3RpdmF0aW9uLmRvbmUpIHJldHVybiBbMywgNF07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGFjdGl2YXRpb24udmFsdWUoY29udGV4dCwgcmVzdWx0KV07XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2YXRpb24gPSBhY3RpdmF0aW9uc0l0ZXJhdG9yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMywgMl07XHJcbiAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyLCByZXN1bHRdO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsgfTtcclxudmFyIF9nZXRDb250YWluZXJBY3RpdmF0aW9uc0ZvclNlcnZpY2UgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgdmFyIGFjdGl2YXRpb25zID0gY29udGFpbmVyLl9hY3RpdmF0aW9ucztcclxuICAgIHJldHVybiBhY3RpdmF0aW9ucy5oYXNLZXkoc2VydmljZUlkZW50aWZpZXIpID8gYWN0aXZhdGlvbnMuZ2V0KHNlcnZpY2VJZGVudGlmaWVyKS52YWx1ZXMoKSA6IFtdLnZhbHVlcygpO1xyXG59O1xyXG52YXIgX2dldENvbnRhaW5lcnNJdGVyYXRvciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgIHZhciBjb250YWluZXJzU3RhY2sgPSBbY29udGFpbmVyXTtcclxuICAgIHZhciBwYXJlbnQgPSBjb250YWluZXIucGFyZW50O1xyXG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnRhaW5lcnNTdGFjay5wdXNoKHBhcmVudCk7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgIH1cclxuICAgIHZhciBnZXROZXh0Q29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBuZXh0Q29udGFpbmVyID0gY29udGFpbmVyc1N0YWNrLnBvcCgpO1xyXG4gICAgICAgIGlmIChuZXh0Q29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBuZXh0Q29udGFpbmVyIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjb250YWluZXJzSXRlcmF0b3IgPSB7XHJcbiAgICAgICAgbmV4dDogZ2V0TmV4dENvbnRhaW5lcixcclxuICAgIH07XHJcbiAgICByZXR1cm4gY29udGFpbmVyc0l0ZXJhdG9yO1xyXG59O1xyXG5mdW5jdGlvbiByZXNvbHZlKGNvbnRleHQpIHtcclxuICAgIHZhciBfZiA9IF9yZXNvbHZlUmVxdWVzdChjb250ZXh0LnBsYW4ucm9vdFJlcXVlc3QucmVxdWVzdFNjb3BlKTtcclxuICAgIHJldHVybiBfZihjb250ZXh0LnBsYW4ucm9vdFJlcXVlc3QpO1xyXG59XHJcbmV4cG9ydCB7IHJlc29sdmUgfTtcclxuIiwgImltcG9ydCAqIGFzIE1FVEFEQVRBX0tFWSBmcm9tICcuLi9jb25zdGFudHMvbWV0YWRhdGFfa2V5cyc7XHJcbmltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnLi4vcGxhbm5pbmcvbWV0YWRhdGEnO1xyXG52YXIgdHJhdmVyc2VBbmNlcnN0b3JzID0gZnVuY3Rpb24gKHJlcXVlc3QsIGNvbnN0cmFpbnQpIHtcclxuICAgIHZhciBwYXJlbnQgPSByZXF1ZXN0LnBhcmVudFJlcXVlc3Q7XHJcbiAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnQocGFyZW50KSA/IHRydWUgOiB0cmF2ZXJzZUFuY2Vyc3RvcnMocGFyZW50LCBjb25zdHJhaW50KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxudmFyIHRhZ2dlZENvbnN0cmFpbnQgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIHZhciBjb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gcmVxdWVzdCAhPT0gbnVsbCAmJiByZXF1ZXN0LnRhcmdldCAhPT0gbnVsbCAmJiByZXF1ZXN0LnRhcmdldC5tYXRjaGVzVGFnKGtleSkodmFsdWUpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0cmFpbnQubWV0YURhdGEgPSBuZXcgTWV0YWRhdGEoa2V5LCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gY29uc3RyYWludDtcclxufTsgfTtcclxudmFyIG5hbWVkQ29uc3RyYWludCA9IHRhZ2dlZENvbnN0cmFpbnQoTUVUQURBVEFfS0VZLk5BTUVEX1RBRyk7XHJcbnZhciB0eXBlQ29uc3RyYWludCA9IGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgdmFyIGJpbmRpbmcgPSBudWxsO1xyXG4gICAgaWYgKHJlcXVlc3QgIT09IG51bGwpIHtcclxuICAgICAgICBiaW5kaW5nID0gcmVxdWVzdC5iaW5kaW5nc1swXTtcclxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlSWRlbnRpZmllciA9IGJpbmRpbmcuc2VydmljZUlkZW50aWZpZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlSWRlbnRpZmllciA9PT0gdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHJlcXVlc3QuYmluZGluZ3NbMF0uaW1wbGVtZW50YXRpb25UeXBlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gY29uc3RydWN0b3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59OyB9O1xyXG5leHBvcnQgeyB0cmF2ZXJzZUFuY2Vyc3RvcnMsIHRhZ2dlZENvbnN0cmFpbnQsIG5hbWVkQ29uc3RyYWludCwgdHlwZUNvbnN0cmFpbnQgfTtcclxuIiwgImltcG9ydCB7IEJpbmRpbmdPblN5bnRheCB9IGZyb20gJy4vYmluZGluZ19vbl9zeW50YXgnO1xyXG5pbXBvcnQgeyBuYW1lZENvbnN0cmFpbnQsIHRhZ2dlZENvbnN0cmFpbnQsIHRyYXZlcnNlQW5jZXJzdG9ycywgdHlwZUNvbnN0cmFpbnQgfSBmcm9tICcuL2NvbnN0cmFpbnRfaGVscGVycyc7XHJcbnZhciBCaW5kaW5nV2hlblN5bnRheCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCaW5kaW5nV2hlblN5bnRheChiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZyA9IGJpbmRpbmc7XHJcbiAgICB9XHJcbiAgICBCaW5kaW5nV2hlblN5bnRheC5wcm90b3R5cGUud2hlbiA9IGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gY29uc3RyYWludDtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlblN5bnRheC5wcm90b3R5cGUud2hlblRhcmdldE5hbWVkID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmNvbnN0cmFpbnQgPSBuYW1lZENvbnN0cmFpbnQobmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5UYXJnZXRJc0RlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0SXNEZWZhdWx0ID0gKHJlcXVlc3QudGFyZ2V0ICE9PSBudWxsKSAmJlxyXG4gICAgICAgICAgICAgICAgKCFyZXF1ZXN0LnRhcmdldC5pc05hbWVkKCkpICYmXHJcbiAgICAgICAgICAgICAgICAoIXJlcXVlc3QudGFyZ2V0LmlzVGFnZ2VkKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0SXNEZWZhdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5UYXJnZXRUYWdnZWQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuY29uc3RyYWludCA9IHRhZ2dlZENvbnN0cmFpbnQodGFnKSh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5JbmplY3RlZEludG8gPSBmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgdHlwZUNvbnN0cmFpbnQocGFyZW50KShyZXF1ZXN0LnBhcmVudFJlcXVlc3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5QYXJlbnROYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgbmFtZWRDb25zdHJhaW50KG5hbWUpKHJlcXVlc3QucGFyZW50UmVxdWVzdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlblN5bnRheC5wcm90b3R5cGUud2hlblBhcmVudFRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgdGFnZ2VkQ29uc3RyYWludCh0YWcpKHZhbHVlKShyZXF1ZXN0LnBhcmVudFJlcXVlc3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3RvcklzID0gZnVuY3Rpb24gKGFuY2VzdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgdHJhdmVyc2VBbmNlcnN0b3JzKHJlcXVlc3QsIHR5cGVDb25zdHJhaW50KGFuY2VzdG9yKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlblN5bnRheC5wcm90b3R5cGUud2hlbk5vQW5jZXN0b3JJcyA9IGZ1bmN0aW9uIChhbmNlc3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuY29uc3RyYWludCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ICE9PSBudWxsICYmICF0cmF2ZXJzZUFuY2Vyc3RvcnMocmVxdWVzdCwgdHlwZUNvbnN0cmFpbnQoYW5jZXN0b3IpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ09uU3ludGF4KHRoaXMuX2JpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuU3ludGF4LnByb3RvdHlwZS53aGVuQW55QW5jZXN0b3JOYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgdHJhdmVyc2VBbmNlcnN0b3JzKHJlcXVlc3QsIG5hbWVkQ29uc3RyYWludChuYW1lKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlblN5bnRheC5wcm90b3R5cGUud2hlbk5vQW5jZXN0b3JOYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgIXRyYXZlcnNlQW5jZXJzdG9ycyhyZXF1ZXN0LCBuYW1lZENvbnN0cmFpbnQobmFtZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3RvclRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5jb25zdHJhaW50ID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QgIT09IG51bGwgJiYgdHJhdmVyc2VBbmNlcnN0b3JzKHJlcXVlc3QsIHRhZ2dlZENvbnN0cmFpbnQodGFnKSh2YWx1ZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5Ob0FuY2VzdG9yVGFnZ2VkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmNvbnN0cmFpbnQgPSBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdCAhPT0gbnVsbCAmJiAhdHJhdmVyc2VBbmNlcnN0b3JzKHJlcXVlc3QsIHRhZ2dlZENvbnN0cmFpbnQodGFnKSh2YWx1ZSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3Rvck1hdGNoZXMgPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuY29uc3RyYWludCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ICE9PSBudWxsICYmIHRyYXZlcnNlQW5jZXJzdG9ycyhyZXF1ZXN0LCBjb25zdHJhaW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ09uU3ludGF4KHRoaXMuX2JpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuU3ludGF4LnByb3RvdHlwZS53aGVuTm9BbmNlc3Rvck1hdGNoZXMgPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuY29uc3RyYWludCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ICE9PSBudWxsICYmICF0cmF2ZXJzZUFuY2Vyc3RvcnMocmVxdWVzdCwgY29uc3RyYWludCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmluZGluZ1doZW5TeW50YXg7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEJpbmRpbmdXaGVuU3ludGF4IH07XHJcbiIsICJpbXBvcnQgeyBCaW5kaW5nV2hlblN5bnRheCB9IGZyb20gJy4vYmluZGluZ193aGVuX3N5bnRheCc7XHJcbnZhciBCaW5kaW5nT25TeW50YXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmluZGluZ09uU3ludGF4KGJpbmRpbmcpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nID0gYmluZGluZztcclxuICAgIH1cclxuICAgIEJpbmRpbmdPblN5bnRheC5wcm90b3R5cGUub25BY3RpdmF0aW9uID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLm9uQWN0aXZhdGlvbiA9IGhhbmRsZXI7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nV2hlblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nT25TeW50YXgucHJvdG90eXBlLm9uRGVhY3RpdmF0aW9uID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLm9uRGVhY3RpdmF0aW9uID0gaGFuZGxlcjtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdXaGVuU3ludGF4KHRoaXMuX2JpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCaW5kaW5nT25TeW50YXg7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEJpbmRpbmdPblN5bnRheCB9O1xyXG4iLCAiaW1wb3J0IHsgQmluZGluZ09uU3ludGF4IH0gZnJvbSAnLi9iaW5kaW5nX29uX3N5bnRheCc7XHJcbmltcG9ydCB7IEJpbmRpbmdXaGVuU3ludGF4IH0gZnJvbSAnLi9iaW5kaW5nX3doZW5fc3ludGF4JztcclxudmFyIEJpbmRpbmdXaGVuT25TeW50YXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQmluZGluZ1doZW5PblN5bnRheChiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZyA9IGJpbmRpbmc7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZ1doZW5TeW50YXggPSBuZXcgQmluZGluZ1doZW5TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZ09uU3ludGF4ID0gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH1cclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW4gPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuKGNvbnN0cmFpbnQpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5UYXJnZXROYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5UYXJnZXROYW1lZChuYW1lKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuVGFyZ2V0SXNEZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuVGFyZ2V0SXNEZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5PblN5bnRheC5wcm90b3R5cGUud2hlblRhcmdldFRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5UYXJnZXRUYWdnZWQodGFnLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5PblN5bnRheC5wcm90b3R5cGUud2hlbkluamVjdGVkSW50byA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlbkluamVjdGVkSW50byhwYXJlbnQpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5QYXJlbnROYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5QYXJlbnROYW1lZChuYW1lKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuUGFyZW50VGFnZ2VkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlblBhcmVudFRhZ2dlZCh0YWcsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuQW55QW5jZXN0b3JJcyA9IGZ1bmN0aW9uIChhbmNlc3Rvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuQW55QW5jZXN0b3JJcyhhbmNlc3Rvcik7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1doZW5PblN5bnRheC5wcm90b3R5cGUud2hlbk5vQW5jZXN0b3JJcyA9IGZ1bmN0aW9uIChhbmNlc3Rvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuTm9BbmNlc3RvcklzKGFuY2VzdG9yKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuQW55QW5jZXN0b3JOYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5BbnlBbmNlc3Rvck5hbWVkKG5hbWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3RvclRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5BbnlBbmNlc3RvclRhZ2dlZCh0YWcsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuTm9BbmNlc3Rvck5hbWVkID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlbk5vQW5jZXN0b3JOYW1lZChuYW1lKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuTm9BbmNlc3RvclRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5Ob0FuY2VzdG9yVGFnZ2VkKHRhZywgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3Rvck1hdGNoZXMgPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuQW55QW5jZXN0b3JNYXRjaGVzKGNvbnN0cmFpbnQpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5Ob0FuY2VzdG9yTWF0Y2hlcyA9IGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5Ob0FuY2VzdG9yTWF0Y2hlcyhjb25zdHJhaW50KTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nV2hlbk9uU3ludGF4LnByb3RvdHlwZS5vbkFjdGl2YXRpb24gPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nT25TeW50YXgub25BY3RpdmF0aW9uKGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdXaGVuT25TeW50YXgucHJvdG90eXBlLm9uRGVhY3RpdmF0aW9uID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ09uU3ludGF4Lm9uRGVhY3RpdmF0aW9uKGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCaW5kaW5nV2hlbk9uU3ludGF4O1xyXG59KCkpO1xyXG5leHBvcnQgeyBCaW5kaW5nV2hlbk9uU3ludGF4IH07XHJcbiIsICJpbXBvcnQgeyBCaW5kaW5nU2NvcGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgeyBCaW5kaW5nV2hlbk9uU3ludGF4IH0gZnJvbSAnLi9iaW5kaW5nX3doZW5fb25fc3ludGF4JztcclxudmFyIEJpbmRpbmdJblN5bnRheCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCaW5kaW5nSW5TeW50YXgoYmluZGluZykge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcgPSBiaW5kaW5nO1xyXG4gICAgfVxyXG4gICAgQmluZGluZ0luU3ludGF4LnByb3RvdHlwZS5pblJlcXVlc3RTY29wZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLnNjb3BlID0gQmluZGluZ1Njb3BlRW51bS5SZXF1ZXN0O1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1doZW5PblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nSW5TeW50YXgucHJvdG90eXBlLmluU2luZ2xldG9uU2NvcGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5zY29wZSA9IEJpbmRpbmdTY29wZUVudW0uU2luZ2xldG9uO1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1doZW5PblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nSW5TeW50YXgucHJvdG90eXBlLmluVHJhbnNpZW50U2NvcGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5zY29wZSA9IEJpbmRpbmdTY29wZUVudW0uVHJhbnNpZW50O1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1doZW5PblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmluZGluZ0luU3ludGF4O1xyXG59KCkpO1xyXG5leHBvcnQgeyBCaW5kaW5nSW5TeW50YXggfTtcclxuIiwgImltcG9ydCB7IEJpbmRpbmdJblN5bnRheCB9IGZyb20gJy4vYmluZGluZ19pbl9zeW50YXgnO1xyXG5pbXBvcnQgeyBCaW5kaW5nT25TeW50YXggfSBmcm9tICcuL2JpbmRpbmdfb25fc3ludGF4JztcclxuaW1wb3J0IHsgQmluZGluZ1doZW5TeW50YXggfSBmcm9tICcuL2JpbmRpbmdfd2hlbl9zeW50YXgnO1xyXG52YXIgQmluZGluZ0luV2hlbk9uU3ludGF4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJpbmRpbmdJbldoZW5PblN5bnRheChiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZyA9IGJpbmRpbmc7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZ1doZW5TeW50YXggPSBuZXcgQmluZGluZ1doZW5TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZ09uU3ludGF4ID0gbmV3IEJpbmRpbmdPblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nSW5TeW50YXggPSBuZXcgQmluZGluZ0luU3ludGF4KGJpbmRpbmcpO1xyXG4gICAgfVxyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS5pblJlcXVlc3RTY29wZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ0luU3ludGF4LmluUmVxdWVzdFNjb3BlKCk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS5pblNpbmdsZXRvblNjb3BlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nSW5TeW50YXguaW5TaW5nbGV0b25TY29wZSgpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUuaW5UcmFuc2llbnRTY29wZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ0luU3ludGF4LmluVHJhbnNpZW50U2NvcGUoKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nSW5XaGVuT25TeW50YXgucHJvdG90eXBlLndoZW4gPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuKGNvbnN0cmFpbnQpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlblRhcmdldE5hbWVkID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlblRhcmdldE5hbWVkKG5hbWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlblRhcmdldElzRGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlblRhcmdldElzRGVmYXVsdCgpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlblRhcmdldFRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5UYXJnZXRUYWdnZWQodGFnLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuSW5qZWN0ZWRJbnRvID0gZnVuY3Rpb24gKHBhcmVudCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuSW5qZWN0ZWRJbnRvKHBhcmVudCk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuUGFyZW50TmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuUGFyZW50TmFtZWQobmFtZSk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuUGFyZW50VGFnZ2VkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlblBhcmVudFRhZ2dlZCh0YWcsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nSW5XaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5BbnlBbmNlc3RvcklzID0gZnVuY3Rpb24gKGFuY2VzdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5BbnlBbmNlc3RvcklzKGFuY2VzdG9yKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nSW5XaGVuT25TeW50YXgucHJvdG90eXBlLndoZW5Ob0FuY2VzdG9ySXMgPSBmdW5jdGlvbiAoYW5jZXN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlbk5vQW5jZXN0b3JJcyhhbmNlc3Rvcik7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuQW55QW5jZXN0b3JOYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5BbnlBbmNlc3Rvck5hbWVkKG5hbWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlbkFueUFuY2VzdG9yVGFnZ2VkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ1doZW5TeW50YXgud2hlbkFueUFuY2VzdG9yVGFnZ2VkKHRhZywgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlbk5vQW5jZXN0b3JOYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5Ob0FuY2VzdG9yTmFtZWQobmFtZSk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuTm9BbmNlc3RvclRhZ2dlZCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5Ob0FuY2VzdG9yVGFnZ2VkKHRhZywgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUud2hlbkFueUFuY2VzdG9yTWF0Y2hlcyA9IGZ1bmN0aW9uIChjb25zdHJhaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JpbmRpbmdXaGVuU3ludGF4LndoZW5BbnlBbmNlc3Rvck1hdGNoZXMoY29uc3RyYWludCk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS53aGVuTm9BbmNlc3Rvck1hdGNoZXMgPSBmdW5jdGlvbiAoY29uc3RyYWludCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nV2hlblN5bnRheC53aGVuTm9BbmNlc3Rvck1hdGNoZXMoY29uc3RyYWludCk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ0luV2hlbk9uU3ludGF4LnByb3RvdHlwZS5vbkFjdGl2YXRpb24gPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nT25TeW50YXgub25BY3RpdmF0aW9uKGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdJbldoZW5PblN5bnRheC5wcm90b3R5cGUub25EZWFjdGl2YXRpb24gPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nT25TeW50YXgub25EZWFjdGl2YXRpb24oaGFuZGxlcik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJpbmRpbmdJbldoZW5PblN5bnRheDtcclxufSgpKTtcclxuZXhwb3J0IHsgQmluZGluZ0luV2hlbk9uU3ludGF4IH07XHJcbiIsICJpbXBvcnQgKiBhcyBFUlJPUl9NU0dTIGZyb20gXCIuLi9jb25zdGFudHMvZXJyb3JfbXNnc1wiO1xyXG5pbXBvcnQgeyBCaW5kaW5nU2NvcGVFbnVtLCBCaW5kaW5nVHlwZUVudW0gfSBmcm9tIFwiLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXNcIjtcclxuaW1wb3J0IHsgQmluZGluZ0luV2hlbk9uU3ludGF4IH0gZnJvbSBcIi4vYmluZGluZ19pbl93aGVuX29uX3N5bnRheFwiO1xyXG5pbXBvcnQgeyBCaW5kaW5nV2hlbk9uU3ludGF4IH0gZnJvbSBcIi4vYmluZGluZ193aGVuX29uX3N5bnRheFwiO1xyXG52YXIgQmluZGluZ1RvU3ludGF4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJpbmRpbmdUb1N5bnRheChiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZyA9IGJpbmRpbmc7XHJcbiAgICB9XHJcbiAgICBCaW5kaW5nVG9TeW50YXgucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy50eXBlID0gQmluZGluZ1R5cGVFbnVtLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuaW1wbGVtZW50YXRpb25UeXBlID0gY29uc3RydWN0b3I7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nSW5XaGVuT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1RvU3ludGF4LnByb3RvdHlwZS50b1NlbGYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9iaW5kaW5nLnNlcnZpY2VJZGVudGlmaWVyICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIgKyBFUlJPUl9NU0dTLklOVkFMSURfVE9fU0VMRl9WQUxVRSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcy5fYmluZGluZy5zZXJ2aWNlSWRlbnRpZmllcjtcclxuICAgICAgICByZXR1cm4gdGhpcy50byhzZWxmKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nVG9TeW50YXgucHJvdG90eXBlLnRvQ29uc3RhbnRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcudHlwZSA9IEJpbmRpbmdUeXBlRW51bS5Db25zdGFudFZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuY2FjaGUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmR5bmFtaWNWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5pbXBsZW1lbnRhdGlvblR5cGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuc2NvcGUgPSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbjtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdXaGVuT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1RvU3ludGF4LnByb3RvdHlwZS50b0R5bmFtaWNWYWx1ZSA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy50eXBlID0gQmluZGluZ1R5cGVFbnVtLkR5bmFtaWNWYWx1ZTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmNhY2hlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmR5bmFtaWNWYWx1ZSA9IGZ1bmM7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5pbXBsZW1lbnRhdGlvblR5cGUgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ0luV2hlbk9uU3ludGF4KHRoaXMuX2JpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdUb1N5bnRheC5wcm90b3R5cGUudG9Db25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcudHlwZSA9IEJpbmRpbmdUeXBlRW51bS5Db25zdHJ1Y3RvcjtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmltcGxlbWVudGF0aW9uVHlwZSA9IGNvbnN0cnVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuc2NvcGUgPSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbjtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdXaGVuT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1RvU3ludGF4LnByb3RvdHlwZS50b0ZhY3RvcnkgPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcudHlwZSA9IEJpbmRpbmdUeXBlRW51bS5GYWN0b3J5O1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuZmFjdG9yeSA9IGZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5zY29wZSA9IEJpbmRpbmdTY29wZUVudW0uU2luZ2xldG9uO1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1doZW5PblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nVG9TeW50YXgucHJvdG90eXBlLnRvRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9NU0dTLklOVkFMSURfRlVOQ1RJT05fQklORElORyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiaW5kaW5nV2hlbk9uU3ludGF4ID0gdGhpcy50b0NvbnN0YW50VmFsdWUoZnVuYyk7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy50eXBlID0gQmluZGluZ1R5cGVFbnVtLkZ1bmN0aW9uO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuc2NvcGUgPSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbjtcclxuICAgICAgICByZXR1cm4gYmluZGluZ1doZW5PblN5bnRheDtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nVG9TeW50YXgucHJvdG90eXBlLnRvQXV0b0ZhY3RvcnkgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLnR5cGUgPSBCaW5kaW5nVHlwZUVudW0uRmFjdG9yeTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLmZhY3RvcnkgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgYXV0b2ZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb250ZXh0LmNvbnRhaW5lci5nZXQoc2VydmljZUlkZW50aWZpZXIpOyB9O1xyXG4gICAgICAgICAgICByZXR1cm4gYXV0b2ZhY3Rvcnk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLnNjb3BlID0gQmluZGluZ1Njb3BlRW51bS5TaW5nbGV0b247XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nV2hlbk9uU3ludGF4KHRoaXMuX2JpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIEJpbmRpbmdUb1N5bnRheC5wcm90b3R5cGUudG9BdXRvTmFtZWRGYWN0b3J5ID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy50eXBlID0gQmluZGluZ1R5cGVFbnVtLkZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5mYWN0b3J5ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lZCkgeyByZXR1cm4gY29udGV4dC5jb250YWluZXIuZ2V0TmFtZWQoc2VydmljZUlkZW50aWZpZXIsIG5hbWVkKTsgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1doZW5PblN5bnRheCh0aGlzLl9iaW5kaW5nKTtcclxuICAgIH07XHJcbiAgICBCaW5kaW5nVG9TeW50YXgucHJvdG90eXBlLnRvUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nLnR5cGUgPSBCaW5kaW5nVHlwZUVudW0uUHJvdmlkZXI7XHJcbiAgICAgICAgdGhpcy5fYmluZGluZy5wcm92aWRlciA9IHByb3ZpZGVyO1xyXG4gICAgICAgIHRoaXMuX2JpbmRpbmcuc2NvcGUgPSBCaW5kaW5nU2NvcGVFbnVtLlNpbmdsZXRvbjtcclxuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdXaGVuT25TeW50YXgodGhpcy5fYmluZGluZyk7XHJcbiAgICB9O1xyXG4gICAgQmluZGluZ1RvU3ludGF4LnByb3RvdHlwZS50b1NlcnZpY2UgPSBmdW5jdGlvbiAoc2VydmljZSkge1xyXG4gICAgICAgIHRoaXMudG9EeW5hbWljVmFsdWUoZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuY29udGFpbmVyLmdldChzZXJ2aWNlKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJpbmRpbmdUb1N5bnRheDtcclxufSgpKTtcclxuZXhwb3J0IHsgQmluZGluZ1RvU3ludGF4IH07XHJcbiIsICJ2YXIgQ29udGFpbmVyU25hcHNob3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyU25hcHNob3QoKSB7XHJcbiAgICB9XHJcbiAgICBDb250YWluZXJTbmFwc2hvdC5vZiA9IGZ1bmN0aW9uIChiaW5kaW5ncywgbWlkZGxld2FyZSwgYWN0aXZhdGlvbnMsIGRlYWN0aXZhdGlvbnMsIG1vZHVsZUFjdGl2YXRpb25TdG9yZSkge1xyXG4gICAgICAgIHZhciBzbmFwc2hvdCA9IG5ldyBDb250YWluZXJTbmFwc2hvdCgpO1xyXG4gICAgICAgIHNuYXBzaG90LmJpbmRpbmdzID0gYmluZGluZ3M7XHJcbiAgICAgICAgc25hcHNob3QubWlkZGxld2FyZSA9IG1pZGRsZXdhcmU7XHJcbiAgICAgICAgc25hcHNob3QuZGVhY3RpdmF0aW9ucyA9IGRlYWN0aXZhdGlvbnM7XHJcbiAgICAgICAgc25hcHNob3QuYWN0aXZhdGlvbnMgPSBhY3RpdmF0aW9ucztcclxuICAgICAgICBzbmFwc2hvdC5tb2R1bGVBY3RpdmF0aW9uU3RvcmUgPSBtb2R1bGVBY3RpdmF0aW9uU3RvcmU7XHJcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb250YWluZXJTbmFwc2hvdDtcclxufSgpKTtcclxuZXhwb3J0IHsgQ29udGFpbmVyU25hcHNob3QgfTtcclxuIiwgImZ1bmN0aW9uIGlzQ2xvbmFibGUob2JqKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKVxyXG4gICAgICAgICYmIChvYmogIT09IG51bGwpXHJcbiAgICAgICAgJiYgKCdjbG9uZScgaW4gb2JqKVxyXG4gICAgICAgICYmIHR5cGVvZiBvYmouY2xvbmUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuZXhwb3J0IHsgaXNDbG9uYWJsZSB9O1xyXG4iLCAiaW1wb3J0ICogYXMgRVJST1JfTVNHUyBmcm9tICcuLi9jb25zdGFudHMvZXJyb3JfbXNncyc7XHJcbmltcG9ydCB7IGlzQ2xvbmFibGUgfSBmcm9tICcuLi91dGlscy9jbG9uYWJsZSc7XHJcbnZhciBMb29rdXAgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTG9va3VwKCkge1xyXG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIExvb2t1cC5wcm90b3R5cGUuZ2V0TWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXA7XHJcbiAgICB9O1xyXG4gICAgTG9va3VwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHNlcnZpY2VJZGVudGlmaWVyID09PSBudWxsIHx8IHNlcnZpY2VJZGVudGlmaWVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuTlVMTF9BUkdVTUVOVCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9NU0dTLk5VTExfQVJHVU1FTlQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9tYXAuZ2V0KHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoZW50cnkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBlbnRyeS5wdXNoKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoc2VydmljZUlkZW50aWZpZXIsIFt2YWx1ZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBMb29rdXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmIChzZXJ2aWNlSWRlbnRpZmllciA9PT0gbnVsbCB8fCBzZXJ2aWNlSWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9NU0dTLk5VTExfQVJHVU1FTlQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9tYXAuZ2V0KHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoZW50cnkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW50cnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5LRVlfTk9UX0ZPVU5EKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTG9va3VwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoc2VydmljZUlkZW50aWZpZXIgPT09IG51bGwgfHwgc2VydmljZUlkZW50aWZpZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5OVUxMX0FSR1VNRU5UKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuZGVsZXRlKHNlcnZpY2VJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5LRVlfTk9UX0ZPVU5EKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgTG9va3VwLnByb3RvdHlwZS5yZW1vdmVJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAobG9va3VwKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnRyYXZlcnNlKGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGxvb2t1cEFjdGl2YXRpb25zID0gbG9va3VwLmhhc0tleShzZXJ2aWNlSWRlbnRpZmllcikgPyBsb29rdXAuZ2V0KHNlcnZpY2VJZGVudGlmaWVyKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKGxvb2t1cEFjdGl2YXRpb25zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZFZhbHVlcyA9IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAobG9va3VwVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWxvb2t1cEFjdGl2YXRpb25zLnNvbWUoZnVuY3Rpb24gKG1vZHVsZUFjdGl2YXRpb24pIHsgcmV0dXJuIGxvb2t1cFZhbHVlID09PSBtb2R1bGVBY3RpdmF0aW9uOyB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NldFZhbHVlKHNlcnZpY2VJZGVudGlmaWVyLCBmaWx0ZXJlZFZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBMb29rdXAucHJvdG90eXBlLnJlbW92ZUJ5Q29uZGl0aW9uID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJlbW92YWxzID0gW107XHJcbiAgICAgICAgdGhpcy5fbWFwLmZvckVhY2goZnVuY3Rpb24gKGVudHJpZXMsIGtleSkge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZEVudHJpZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfaSA8IGVudHJpZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gY29uZGl0aW9uKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmFscy5wdXNoKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFbnRyaWVzLnB1c2goZW50cnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLl9zZXRWYWx1ZShrZXksIHVwZGF0ZWRFbnRyaWVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVtb3ZhbHM7XHJcbiAgICB9O1xyXG4gICAgTG9va3VwLnByb3RvdHlwZS5oYXNLZXkgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoc2VydmljZUlkZW50aWZpZXIgPT09IG51bGwgfHwgc2VydmljZUlkZW50aWZpZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5OVUxMX0FSR1VNRU5UKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIExvb2t1cC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvcHkgPSBuZXcgTG9va3VwKCk7XHJcbiAgICAgICAgdGhpcy5fbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoYikgeyByZXR1cm4gY29weS5hZGQoa2V5LCBpc0Nsb25hYmxlKGIpID8gYi5jbG9uZSgpIDogYik7IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBjb3B5O1xyXG4gICAgfTtcclxuICAgIExvb2t1cC5wcm90b3R5cGUudHJhdmVyc2UgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgICAgIHRoaXMuX21hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgIGZ1bmMoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTG9va3VwLnByb3RvdHlwZS5fc2V0VmFsdWUgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChzZXJ2aWNlSWRlbnRpZmllciwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBMb29rdXA7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IExvb2t1cCB9O1xyXG4iLCAiaW1wb3J0IHsgTG9va3VwIH0gZnJvbSAnLi9sb29rdXAnO1xyXG52YXIgTW9kdWxlQWN0aXZhdGlvblN0b3JlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE1vZHVsZUFjdGl2YXRpb25TdG9yZSgpIHtcclxuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBNb2R1bGVBY3RpdmF0aW9uU3RvcmUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9tYXAuaGFzKG1vZHVsZUlkKSkge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9tYXAuZ2V0KG1vZHVsZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShtb2R1bGVJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVycztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEVtcHR5SGFuZGxlcnNTdG9yZSgpO1xyXG4gICAgfTtcclxuICAgIE1vZHVsZUFjdGl2YXRpb25TdG9yZS5wcm90b3R5cGUuYWRkRGVhY3RpdmF0aW9uID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBzZXJ2aWNlSWRlbnRpZmllciwgb25EZWFjdGl2YXRpb24pIHtcclxuICAgICAgICB0aGlzLl9nZXRNb2R1bGVBY3RpdmF0aW9uSGFuZGxlcnMobW9kdWxlSWQpXHJcbiAgICAgICAgICAgIC5vbkRlYWN0aXZhdGlvbnMuYWRkKHNlcnZpY2VJZGVudGlmaWVyLCBvbkRlYWN0aXZhdGlvbik7XHJcbiAgICB9O1xyXG4gICAgTW9kdWxlQWN0aXZhdGlvblN0b3JlLnByb3RvdHlwZS5hZGRBY3RpdmF0aW9uID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBzZXJ2aWNlSWRlbnRpZmllciwgb25BY3RpdmF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fZ2V0TW9kdWxlQWN0aXZhdGlvbkhhbmRsZXJzKG1vZHVsZUlkKVxyXG4gICAgICAgICAgICAub25BY3RpdmF0aW9ucy5hZGQoc2VydmljZUlkZW50aWZpZXIsIG9uQWN0aXZhdGlvbik7XHJcbiAgICB9O1xyXG4gICAgTW9kdWxlQWN0aXZhdGlvblN0b3JlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2xvbmUgPSBuZXcgTW9kdWxlQWN0aXZhdGlvblN0b3JlKCk7XHJcbiAgICAgICAgdGhpcy5fbWFwLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXJzU3RvcmUsIG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgIGNsb25lLl9tYXAuc2V0KG1vZHVsZUlkLCB7XHJcbiAgICAgICAgICAgICAgICBvbkFjdGl2YXRpb25zOiBoYW5kbGVyc1N0b3JlLm9uQWN0aXZhdGlvbnMuY2xvbmUoKSxcclxuICAgICAgICAgICAgICAgIG9uRGVhY3RpdmF0aW9uczogaGFuZGxlcnNTdG9yZS5vbkRlYWN0aXZhdGlvbnMuY2xvbmUoKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfTtcclxuICAgIE1vZHVsZUFjdGl2YXRpb25TdG9yZS5wcm90b3R5cGUuX2dldE1vZHVsZUFjdGl2YXRpb25IYW5kbGVycyA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgIHZhciBtb2R1bGVBY3RpdmF0aW9uSGFuZGxlcnMgPSB0aGlzLl9tYXAuZ2V0KG1vZHVsZUlkKTtcclxuICAgICAgICBpZiAobW9kdWxlQWN0aXZhdGlvbkhhbmRsZXJzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbW9kdWxlQWN0aXZhdGlvbkhhbmRsZXJzID0gdGhpcy5fZ2V0RW1wdHlIYW5kbGVyc1N0b3JlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQobW9kdWxlSWQsIG1vZHVsZUFjdGl2YXRpb25IYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2R1bGVBY3RpdmF0aW9uSGFuZGxlcnM7XHJcbiAgICB9O1xyXG4gICAgTW9kdWxlQWN0aXZhdGlvblN0b3JlLnByb3RvdHlwZS5fZ2V0RW1wdHlIYW5kbGVyc1N0b3JlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyc1N0b3JlID0ge1xyXG4gICAgICAgICAgICBvbkFjdGl2YXRpb25zOiBuZXcgTG9va3VwKCksXHJcbiAgICAgICAgICAgIG9uRGVhY3RpdmF0aW9uczogbmV3IExvb2t1cCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gaGFuZGxlcnNTdG9yZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTW9kdWxlQWN0aXZhdGlvblN0b3JlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBNb2R1bGVBY3RpdmF0aW9uU3RvcmUgfTtcclxuIiwgInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn07XHJcbmltcG9ydCB7IEJpbmRpbmcgfSBmcm9tICcuLi9iaW5kaW5ncy9iaW5kaW5nJztcclxuaW1wb3J0ICogYXMgRVJST1JfTVNHUyBmcm9tICcuLi9jb25zdGFudHMvZXJyb3JfbXNncyc7XHJcbmltcG9ydCB7IEJpbmRpbmdTY29wZUVudW0sIFRhcmdldFR5cGVFbnVtIH0gZnJvbSAnLi4vY29uc3RhbnRzL2xpdGVyYWxfdHlwZXMnO1xyXG5pbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG5pbXBvcnQgeyBNZXRhZGF0YVJlYWRlciB9IGZyb20gJy4uL3BsYW5uaW5nL21ldGFkYXRhX3JlYWRlcic7XHJcbmltcG9ydCB7IGNyZWF0ZU1vY2tSZXF1ZXN0LCBnZXRCaW5kaW5nRGljdGlvbmFyeSwgcGxhbiB9IGZyb20gJy4uL3BsYW5uaW5nL3BsYW5uZXInO1xyXG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAnLi4vcmVzb2x1dGlvbi9yZXNvbHZlcic7XHJcbmltcG9ydCB7IEJpbmRpbmdUb1N5bnRheCB9IGZyb20gJy4uL3N5bnRheC9iaW5kaW5nX3RvX3N5bnRheCc7XHJcbmltcG9ydCB7IGlzUHJvbWlzZSwgaXNQcm9taXNlT3JDb250YWluc1Byb21pc2UgfSBmcm9tICcuLi91dGlscy9hc3luYyc7XHJcbmltcG9ydCB7IGlkIH0gZnJvbSAnLi4vdXRpbHMvaWQnO1xyXG5pbXBvcnQgeyBnZXRTZXJ2aWNlSWRlbnRpZmllckFzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMvc2VyaWFsaXphdGlvbic7XHJcbmltcG9ydCB7IENvbnRhaW5lclNuYXBzaG90IH0gZnJvbSAnLi9jb250YWluZXJfc25hcHNob3QnO1xyXG5pbXBvcnQgeyBMb29rdXAgfSBmcm9tICcuL2xvb2t1cCc7XHJcbmltcG9ydCB7IE1vZHVsZUFjdGl2YXRpb25TdG9yZSB9IGZyb20gJy4vbW9kdWxlX2FjdGl2YXRpb25fc3RvcmUnO1xyXG52YXIgQ29udGFpbmVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbnRhaW5lcihjb250YWluZXJPcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBjb250YWluZXJPcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIgKyBFUlJPUl9NU0dTLkNPTlRBSU5FUl9PUFRJT05TX01VU1RfQkVfQU5fT0JKRUNUKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVmYXVsdFNjb3BlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5kZWZhdWx0U2NvcGUgPSBCaW5kaW5nU2NvcGVFbnVtLlRyYW5zaWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5kZWZhdWx0U2NvcGUgIT09IEJpbmRpbmdTY29wZUVudW0uU2luZ2xldG9uICYmXHJcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmYXVsdFNjb3BlICE9PSBCaW5kaW5nU2NvcGVFbnVtLlRyYW5zaWVudCAmJlxyXG4gICAgICAgICAgICBvcHRpb25zLmRlZmF1bHRTY29wZSAhPT0gQmluZGluZ1Njb3BlRW51bS5SZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlwiICsgRVJST1JfTVNHUy5DT05UQUlORVJfT1BUSU9OU19JTlZBTElEX0RFRkFVTFRfU0NPUEUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvQmluZEluamVjdGFibGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmF1dG9CaW5kSW5qZWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5hdXRvQmluZEluamVjdGFibGUgIT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIiArIEVSUk9SX01TR1MuQ09OVEFJTkVSX09QVElPTlNfSU5WQUxJRF9BVVRPX0JJTkRfSU5KRUNUQUJMRSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLnNraXBCYXNlQ2xhc3NDaGVja3MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvcHRpb25zLnNraXBCYXNlQ2xhc3NDaGVja3MgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuc2tpcEJhc2VDbGFzc0NoZWNrcyAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlwiICsgRVJST1JfTVNHUy5DT05UQUlORVJfT1BUSU9OU19JTlZBTElEX1NLSVBfQkFTRV9DSEVDSyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgYXV0b0JpbmRJbmplY3RhYmxlOiBvcHRpb25zLmF1dG9CaW5kSW5qZWN0YWJsZSxcclxuICAgICAgICAgICAgZGVmYXVsdFNjb3BlOiBvcHRpb25zLmRlZmF1bHRTY29wZSxcclxuICAgICAgICAgICAgc2tpcEJhc2VDbGFzc0NoZWNrczogb3B0aW9ucy5za2lwQmFzZUNsYXNzQ2hlY2tzXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlkID0gaWQoKTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeSA9IG5ldyBMb29rdXAoKTtcclxuICAgICAgICB0aGlzLl9zbmFwc2hvdHMgPSBbXTtcclxuICAgICAgICB0aGlzLl9taWRkbGV3YXJlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9hY3RpdmF0aW9ucyA9IG5ldyBMb29rdXAoKTtcclxuICAgICAgICB0aGlzLl9kZWFjdGl2YXRpb25zID0gbmV3IExvb2t1cCgpO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9tZXRhZGF0YVJlYWRlciA9IG5ldyBNZXRhZGF0YVJlYWRlcigpO1xyXG4gICAgICAgIHRoaXMuX21vZHVsZUFjdGl2YXRpb25TdG9yZSA9IG5ldyBNb2R1bGVBY3RpdmF0aW9uU3RvcmUoKTtcclxuICAgIH1cclxuICAgIENvbnRhaW5lci5tZXJnZSA9IGZ1bmN0aW9uIChjb250YWluZXIxLCBjb250YWluZXIyKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjb250YWluZXJzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgICAgIHZhciB0YXJnZXRDb250YWluZXJzID0gX19zcHJlYWRBcnJheShbY29udGFpbmVyMSwgY29udGFpbmVyMl0sIGNvbnRhaW5lcnMsIHRydWUpLm1hcChmdW5jdGlvbiAodGFyZ2V0Q29udGFpbmVyKSB7IHJldHVybiBnZXRCaW5kaW5nRGljdGlvbmFyeSh0YXJnZXRDb250YWluZXIpOyB9KTtcclxuICAgICAgICB2YXIgYmluZGluZ0RpY3Rpb25hcnkgPSBnZXRCaW5kaW5nRGljdGlvbmFyeShjb250YWluZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNvcHlEaWN0aW9uYXJ5KG9yaWdpbiwgZGVzdGluYXRpb24pIHtcclxuICAgICAgICAgICAgb3JpZ2luLnRyYXZlcnNlKGZ1bmN0aW9uIChfa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoYmluZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChiaW5kaW5nLnNlcnZpY2VJZGVudGlmaWVyLCBiaW5kaW5nLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRDb250YWluZXJzLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldEJpbmRpbmdEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgIGNvcHlEaWN0aW9uYXJ5KHRhcmdldEJpbmRpbmdEaWN0aW9uYXJ5LCBiaW5kaW5nRGljdGlvbmFyeSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1vZHVsZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBtb2R1bGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnZXRIZWxwZXJzID0gdGhpcy5fZ2V0Q29udGFpbmVyTW9kdWxlSGVscGVyc0ZhY3RvcnkoKTtcclxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIG1vZHVsZXNfMSA9IG1vZHVsZXM7IF9hIDwgbW9kdWxlc18xLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE1vZHVsZSA9IG1vZHVsZXNfMVtfYV07XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJNb2R1bGVIZWxwZXJzID0gZ2V0SGVscGVycyhjdXJyZW50TW9kdWxlLmlkKTtcclxuICAgICAgICAgICAgY3VycmVudE1vZHVsZS5yZWdpc3RyeShjb250YWluZXJNb2R1bGVIZWxwZXJzLmJpbmRGdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy51bmJpbmRGdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy5pc2JvdW5kRnVuY3Rpb24sIGNvbnRhaW5lck1vZHVsZUhlbHBlcnMucmViaW5kRnVuY3Rpb24sIGNvbnRhaW5lck1vZHVsZUhlbHBlcnMudW5iaW5kQXN5bmNGdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy5vbkFjdGl2YXRpb25GdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy5vbkRlYWN0aXZhdGlvbkZ1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5sb2FkQXN5bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1vZHVsZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBtb2R1bGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdldEhlbHBlcnMsIF9hLCBtb2R1bGVzXzIsIGN1cnJlbnRNb2R1bGUsIGNvbnRhaW5lck1vZHVsZUhlbHBlcnM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEhlbHBlcnMgPSB0aGlzLl9nZXRDb250YWluZXJNb2R1bGVIZWxwZXJzRmFjdG9yeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IDAsIG1vZHVsZXNfMiA9IG1vZHVsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9hIDwgbW9kdWxlc18yLmxlbmd0aCkpIHJldHVybiBbMywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb2R1bGUgPSBtb2R1bGVzXzJbX2FdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNb2R1bGVIZWxwZXJzID0gZ2V0SGVscGVycyhjdXJyZW50TW9kdWxlLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBjdXJyZW50TW9kdWxlLnJlZ2lzdHJ5KGNvbnRhaW5lck1vZHVsZUhlbHBlcnMuYmluZEZ1bmN0aW9uLCBjb250YWluZXJNb2R1bGVIZWxwZXJzLnVuYmluZEZ1bmN0aW9uLCBjb250YWluZXJNb2R1bGVIZWxwZXJzLmlzYm91bmRGdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy5yZWJpbmRGdW5jdGlvbiwgY29udGFpbmVyTW9kdWxlSGVscGVycy51bmJpbmRBc3luY0Z1bmN0aW9uLCBjb250YWluZXJNb2R1bGVIZWxwZXJzLm9uQWN0aXZhdGlvbkZ1bmN0aW9uLCBjb250YWluZXJNb2R1bGVIZWxwZXJzLm9uRGVhY3RpdmF0aW9uRnVuY3Rpb24pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ErKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG1vZHVsZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBtb2R1bGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWFjdGl2YXRpb25zID0gX3RoaXMuX3JlbW92ZU1vZHVsZUJpbmRpbmdzKG1vZHVsZS5pZCk7XHJcbiAgICAgICAgICAgIF90aGlzLl9kZWFjdGl2YXRlU2luZ2xldG9ucyhkZWFjdGl2YXRpb25zKTtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbW92ZU1vZHVsZUhhbmRsZXJzKG1vZHVsZS5pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51bmxvYWRBc3luYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbW9kdWxlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIG1vZHVsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EsIG1vZHVsZXNfMywgbW9kdWxlXzEsIGRlYWN0aXZhdGlvbnM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gMCwgbW9kdWxlc18zID0gbW9kdWxlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2EgPCBtb2R1bGVzXzMubGVuZ3RoKSkgcmV0dXJuIFszLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlXzEgPSBtb2R1bGVzXzNbX2FdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRpb25zID0gdGhpcy5fcmVtb3ZlTW9kdWxlQmluZGluZ3MobW9kdWxlXzEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuX2RlYWN0aXZhdGVTaW5nbGV0b25zQXN5bmMoZGVhY3RpdmF0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVNb2R1bGVIYW5kbGVycyhtb2R1bGVfMS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdFNjb3BlIHx8IEJpbmRpbmdTY29wZUVudW0uVHJhbnNpZW50O1xyXG4gICAgICAgIHZhciBiaW5kaW5nID0gbmV3IEJpbmRpbmcoc2VydmljZUlkZW50aWZpZXIsIHNjb3BlKTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5hZGQoc2VydmljZUlkZW50aWZpZXIsIGJpbmRpbmcpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1RvU3ludGF4KGJpbmRpbmcpO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmViaW5kID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdGhpcy51bmJpbmQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmViaW5kQXN5bmMgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCwgdGhpcy51bmJpbmRBc3luYyhzZXJ2aWNlSWRlbnRpZmllcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIHRoaXMuYmluZChzZXJ2aWNlSWRlbnRpZmllcildO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmICh0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5oYXNLZXkoc2VydmljZUlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHZhciBiaW5kaW5ncyA9IHRoaXMuX2JpbmRpbmdEaWN0aW9uYXJ5LmdldChzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGVTaW5nbGV0b25zKGJpbmRpbmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2VydmljZUZyb21EaWN0aW9uYXJ5KHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnVuYmluZEFzeW5jID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYmluZGluZ3M7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYmluZGluZ0RpY3Rpb25hcnkuaGFzS2V5KHNlcnZpY2VJZGVudGlmaWVyKSkgcmV0dXJuIFszLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ3MgPSB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5nZXQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuX2RlYWN0aXZhdGVTaW5nbGV0b25zQXN5bmMoYmluZGluZ3MpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU2VydmljZUZyb21EaWN0aW9uYXJ5KHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS50cmF2ZXJzZShmdW5jdGlvbiAoX2tleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2RlYWN0aXZhdGVTaW5nbGV0b25zKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeSA9IG5ldyBMb29rdXAoKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnVuYmluZEFsbEFzeW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHByb21pc2VzO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS50cmF2ZXJzZShmdW5jdGlvbiAoX2tleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMuX2RlYWN0aXZhdGVTaW5nbGV0b25zQXN5bmModmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZGluZ0RpY3Rpb25hcnkgPSBuZXcgTG9va3VwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25BY3RpdmF0aW9uID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBvbkFjdGl2YXRpb24pIHtcclxuICAgICAgICB0aGlzLl9hY3RpdmF0aW9ucy5hZGQoc2VydmljZUlkZW50aWZpZXIsIG9uQWN0aXZhdGlvbik7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkRlYWN0aXZhdGlvbiA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllciwgb25EZWFjdGl2YXRpb24pIHtcclxuICAgICAgICB0aGlzLl9kZWFjdGl2YXRpb25zLmFkZChzZXJ2aWNlSWRlbnRpZmllciwgb25EZWFjdGl2YXRpb24pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuaXNCb3VuZCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBib3VuZCA9IHRoaXMuX2JpbmRpbmdEaWN0aW9uYXJ5Lmhhc0tleShzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFib3VuZCAmJiB0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICBib3VuZCA9IHRoaXMucGFyZW50LmlzQm91bmQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm91bmQ7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5pc0N1cnJlbnRCb3VuZCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5oYXNLZXkoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuaXNCb3VuZE5hbWVkID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBuYW1lZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQm91bmRUYWdnZWQoc2VydmljZUlkZW50aWZpZXIsIE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmlzQm91bmRUYWdnZWQgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIGtleSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgYm91bmQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5fYmluZGluZ0RpY3Rpb25hcnkuaGFzS2V5KHNlcnZpY2VJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB2YXIgYmluZGluZ3MgPSB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5nZXQoc2VydmljZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdF8xID0gY3JlYXRlTW9ja1JlcXVlc3QodGhpcywgc2VydmljZUlkZW50aWZpZXIsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgICBib3VuZCA9IGJpbmRpbmdzLnNvbWUoZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGIuY29uc3RyYWludChyZXF1ZXN0XzEpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFib3VuZCAmJiB0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICBib3VuZCA9IHRoaXMucGFyZW50LmlzQm91bmRUYWdnZWQoc2VydmljZUlkZW50aWZpZXIsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYm91bmQ7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zbmFwc2hvdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9zbmFwc2hvdHMucHVzaChDb250YWluZXJTbmFwc2hvdC5vZih0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5jbG9uZSgpLCB0aGlzLl9taWRkbGV3YXJlLCB0aGlzLl9hY3RpdmF0aW9ucy5jbG9uZSgpLCB0aGlzLl9kZWFjdGl2YXRpb25zLmNsb25lKCksIHRoaXMuX21vZHVsZUFjdGl2YXRpb25TdG9yZS5jbG9uZSgpKSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzbmFwc2hvdCA9IHRoaXMuX3NuYXBzaG90cy5wb3AoKTtcclxuICAgICAgICBpZiAoc25hcHNob3QgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5OT19NT1JFX1NOQVBTSE9UU19BVkFJTEFCTEUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeSA9IHNuYXBzaG90LmJpbmRpbmdzO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2YXRpb25zID0gc25hcHNob3QuYWN0aXZhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5fZGVhY3RpdmF0aW9ucyA9IHNuYXBzaG90LmRlYWN0aXZhdGlvbnM7XHJcbiAgICAgICAgdGhpcy5fbWlkZGxld2FyZSA9IHNuYXBzaG90Lm1pZGRsZXdhcmU7XHJcbiAgICAgICAgdGhpcy5fbW9kdWxlQWN0aXZhdGlvblN0b3JlID0gc25hcHNob3QubW9kdWxlQWN0aXZhdGlvblN0b3JlO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY3JlYXRlQ2hpbGQgPSBmdW5jdGlvbiAoY29udGFpbmVyT3B0aW9ucykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyBDb250YWluZXIoY29udGFpbmVyT3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYXBwbHlNaWRkbGV3YXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtaWRkbGV3YXJlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbml0aWFsID0gKHRoaXMuX21pZGRsZXdhcmUpID8gdGhpcy5fbWlkZGxld2FyZSA6IHRoaXMuX3BsYW5BbmRSZXNvbHZlKCk7XHJcbiAgICAgICAgdGhpcy5fbWlkZGxld2FyZSA9IG1pZGRsZXdhcmVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycikgeyByZXR1cm4gY3VycihwcmV2KTsgfSwgaW5pdGlhbCk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hcHBseUN1c3RvbU1ldGFkYXRhUmVhZGVyID0gZnVuY3Rpb24gKG1ldGFkYXRhUmVhZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fbWV0YWRhdGFSZWFkZXIgPSBtZXRhZGF0YVJlYWRlcjtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBnZXRBcmdzID0gdGhpcy5fZ2V0Tm90QWxsQXJncyhzZXJ2aWNlSWRlbnRpZmllciwgZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCdXRUaHJvd0lmQXN5bmMoZ2V0QXJncyk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRBc3luYyA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdldEFyZ3M7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIGdldEFyZ3MgPSB0aGlzLl9nZXROb3RBbGxBcmdzKHNlcnZpY2VJZGVudGlmaWVyLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIsIHRoaXMuX2dldChnZXRBcmdzKV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0VGFnZ2VkID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGdldEFyZ3MgPSB0aGlzLl9nZXROb3RBbGxBcmdzKHNlcnZpY2VJZGVudGlmaWVyLCBmYWxzZSwga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ1dFRocm93SWZBc3luYyhnZXRBcmdzKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldFRhZ2dlZEFzeW5jID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2V0QXJncztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgZ2V0QXJncyA9IHRoaXMuX2dldE5vdEFsbEFyZ3Moc2VydmljZUlkZW50aWZpZXIsIGZhbHNlLCBrZXksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbMiwgdGhpcy5fZ2V0KGdldEFyZ3MpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXROYW1lZCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllciwgbmFtZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUYWdnZWQoc2VydmljZUlkZW50aWZpZXIsIE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldE5hbWVkQXN5bmMgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIG5hbWVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFnZ2VkQXN5bmMoc2VydmljZUlkZW50aWZpZXIsIE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBnZXRBcmdzID0gdGhpcy5fZ2V0QWxsQXJncyhzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ1dFRocm93SWZBc3luYyhnZXRBcmdzKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldEFsbEFzeW5jID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIGdldEFyZ3MgPSB0aGlzLl9nZXRBbGxBcmdzKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWxsKGdldEFyZ3MpO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0QWxsVGFnZ2VkID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGdldEFyZ3MgPSB0aGlzLl9nZXROb3RBbGxBcmdzKHNlcnZpY2VJZGVudGlmaWVyLCB0cnVlLCBrZXksIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnV0VGhyb3dJZkFzeW5jKGdldEFyZ3MpO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0QWxsVGFnZ2VkQXN5bmMgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIGtleSwgdmFsdWUpIHtcclxuICAgICAgICB2YXIgZ2V0QXJncyA9IHRoaXMuX2dldE5vdEFsbEFyZ3Moc2VydmljZUlkZW50aWZpZXIsIHRydWUsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRBbGwoZ2V0QXJncyk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRBbGxOYW1lZCA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllciwgbmFtZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxUYWdnZWQoc2VydmljZUlkZW50aWZpZXIsIE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldEFsbE5hbWVkQXN5bmMgPSBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIsIG5hbWVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsVGFnZ2VkQXN5bmMoc2VydmljZUlkZW50aWZpZXIsIE1FVEFEQVRBX0tFWS5OQU1FRF9UQUcsIG5hbWVkKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoY29uc3RydWN0b3JGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciBpc0JvdW5kID0gdGhpcy5pc0JvdW5kKGNvbnN0cnVjdG9yRnVuY3Rpb24pO1xyXG4gICAgICAgIGlmICghaXNCb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmQoY29uc3RydWN0b3JGdW5jdGlvbikudG9TZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXNvbHZlZCA9IHRoaXMuZ2V0KGNvbnN0cnVjdG9yRnVuY3Rpb24pO1xyXG4gICAgICAgIGlmICghaXNCb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVuYmluZChjb25zdHJ1Y3RvckZ1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3ByZURlc3Ryb3kgPSBmdW5jdGlvbiAoY29uc3RydWN0b3IsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICBpZiAoUmVmbGVjdC5oYXNNZXRhZGF0YShNRVRBREFUQV9LRVkuUFJFX0RFU1RST1ksIGNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoTUVUQURBVEFfS0VZLlBSRV9ERVNUUk9ZLCBjb25zdHJ1Y3Rvcik7XHJcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBpbnN0YW5jZSlbZGF0YS52YWx1ZV0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcmVtb3ZlTW9kdWxlSGFuZGxlcnMgPSBmdW5jdGlvbiAobW9kdWxlSWQpIHtcclxuICAgICAgICB2YXIgbW9kdWxlQWN0aXZhdGlvbnNIYW5kbGVycyA9IHRoaXMuX21vZHVsZUFjdGl2YXRpb25TdG9yZS5yZW1vdmUobW9kdWxlSWQpO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2YXRpb25zLnJlbW92ZUludGVyc2VjdGlvbihtb2R1bGVBY3RpdmF0aW9uc0hhbmRsZXJzLm9uQWN0aXZhdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuX2RlYWN0aXZhdGlvbnMucmVtb3ZlSW50ZXJzZWN0aW9uKG1vZHVsZUFjdGl2YXRpb25zSGFuZGxlcnMub25EZWFjdGl2YXRpb25zKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW1vdmVNb2R1bGVCaW5kaW5ncyA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nRGljdGlvbmFyeS5yZW1vdmVCeUNvbmRpdGlvbihmdW5jdGlvbiAoYmluZGluZykgeyByZXR1cm4gYmluZGluZy5tb2R1bGVJZCA9PT0gbW9kdWxlSWQ7IH0pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2RlYWN0aXZhdGUgPSBmdW5jdGlvbiAoYmluZGluZywgaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0YW5jZSkuY29uc3RydWN0b3I7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RlYWN0aXZhdGlvbnMuaGFzS2V5KGJpbmRpbmcuc2VydmljZUlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fZGVhY3RpdmF0ZUNvbnRhaW5lcihpbnN0YW5jZSwgdGhpcy5fZGVhY3RpdmF0aW9ucy5nZXQoYmluZGluZy5zZXJ2aWNlSWRlbnRpZmllcikudmFsdWVzKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZURlYWN0aXZhdGlvbkVycm9yKHJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9wcm9wYWdhdGVDb250YWluZXJEZWFjdGl2YXRpb25UaGVuQmluZGluZ0FuZFByZURlc3Ryb3lBc3luYyhiaW5kaW5nLCBpbnN0YW5jZSwgY29uc3RydWN0b3IpOyB9KSwgY29uc3RydWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwcm9wYWdhdGVEZWFjdGl2YXRpb25SZXN1bHQgPSB0aGlzLl9wcm9wYWdhdGVDb250YWluZXJEZWFjdGl2YXRpb25UaGVuQmluZGluZ0FuZFByZURlc3Ryb3koYmluZGluZywgaW5zdGFuY2UsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShwcm9wYWdhdGVEZWFjdGl2YXRpb25SZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRGVhY3RpdmF0aW9uRXJyb3IocHJvcGFnYXRlRGVhY3RpdmF0aW9uUmVzdWx0LCBjb25zdHJ1Y3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChleCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1JfTVNHUy5PTl9ERUFDVElWQVRJT05fRVJST1IoY29uc3RydWN0b3IubmFtZSwgZXgubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2hhbmRsZURlYWN0aXZhdGlvbkVycm9yID0gZnVuY3Rpb24gKGFzeW5jUmVzdWx0LCBjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGV4XzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgYXN5bmNSZXN1bHRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4XzEgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuT05fREVBQ1RJVkFUSU9OX0VSUk9SKGNvbnN0cnVjdG9yLm5hbWUsIGV4XzEubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9kZWFjdGl2YXRlQ29udGFpbmVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBkZWFjdGl2YXRpb25zSXRlcmF0b3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkZWFjdGl2YXRpb24gPSBkZWFjdGl2YXRpb25zSXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgIHdoaWxlIChkZWFjdGl2YXRpb24udmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGRlYWN0aXZhdGlvbi52YWx1ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2RlYWN0aXZhdGVDb250YWluZXJBc3luYyhpbnN0YW5jZSwgZGVhY3RpdmF0aW9uc0l0ZXJhdG9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlYWN0aXZhdGlvbiA9IGRlYWN0aXZhdGlvbnNJdGVyYXRvci5uZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2RlYWN0aXZhdGVDb250YWluZXJBc3luYyA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgZGVhY3RpdmF0aW9uc0l0ZXJhdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGVhY3RpdmF0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFjdGl2YXRpb24gPSBkZWFjdGl2YXRpb25zSXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlYWN0aXZhdGlvbi52YWx1ZSkgcmV0dXJuIFszLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBkZWFjdGl2YXRpb24udmFsdWUoaW5zdGFuY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhY3RpdmF0aW9uID0gZGVhY3RpdmF0aW9uc0l0ZXJhdG9yLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2dldENvbnRhaW5lck1vZHVsZUhlbHBlcnNGYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNldE1vZHVsZUlkID0gZnVuY3Rpb24gKGJpbmRpbmdUb1N5bnRheCwgbW9kdWxlSWQpIHtcclxuICAgICAgICAgICAgYmluZGluZ1RvU3ludGF4Ll9iaW5kaW5nLm1vZHVsZUlkID0gbW9kdWxlSWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZ2V0QmluZEZ1bmN0aW9uID0gZnVuY3Rpb24gKG1vZHVsZUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nVG9TeW50YXggPSBfdGhpcy5iaW5kKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIHNldE1vZHVsZUlkKGJpbmRpbmdUb1N5bnRheCwgbW9kdWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmdUb1N5bnRheDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRVbmJpbmRGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVuYmluZChzZXJ2aWNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZ2V0VW5iaW5kQXN5bmNGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVuYmluZEFzeW5jKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRJc2JvdW5kRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pc0JvdW5kKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRSZWJpbmRGdW5jdGlvbiA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZ1RvU3ludGF4ID0gX3RoaXMucmViaW5kKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIHNldE1vZHVsZUlkKGJpbmRpbmdUb1N5bnRheCwgbW9kdWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmdUb1N5bnRheDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRPbkFjdGl2YXRpb25GdW5jdGlvbiA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBvbkFjdGl2YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9tb2R1bGVBY3RpdmF0aW9uU3RvcmUuYWRkQWN0aXZhdGlvbihtb2R1bGVJZCwgc2VydmljZUlkZW50aWZpZXIsIG9uQWN0aXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkFjdGl2YXRpb24oc2VydmljZUlkZW50aWZpZXIsIG9uQWN0aXZhdGlvbik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZ2V0T25EZWFjdGl2YXRpb25GdW5jdGlvbiA9IGZ1bmN0aW9uIChtb2R1bGVJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBvbkRlYWN0aXZhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX21vZHVsZUFjdGl2YXRpb25TdG9yZS5hZGREZWFjdGl2YXRpb24obW9kdWxlSWQsIHNlcnZpY2VJZGVudGlmaWVyLCBvbkRlYWN0aXZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkRlYWN0aXZhdGlvbihzZXJ2aWNlSWRlbnRpZmllciwgb25EZWFjdGl2YXRpb24pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtSWQpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgICAgIGJpbmRGdW5jdGlvbjogZ2V0QmluZEZ1bmN0aW9uKG1JZCksXHJcbiAgICAgICAgICAgIGlzYm91bmRGdW5jdGlvbjogZ2V0SXNib3VuZEZ1bmN0aW9uKCksXHJcbiAgICAgICAgICAgIG9uQWN0aXZhdGlvbkZ1bmN0aW9uOiBnZXRPbkFjdGl2YXRpb25GdW5jdGlvbihtSWQpLFxyXG4gICAgICAgICAgICBvbkRlYWN0aXZhdGlvbkZ1bmN0aW9uOiBnZXRPbkRlYWN0aXZhdGlvbkZ1bmN0aW9uKG1JZCksXHJcbiAgICAgICAgICAgIHJlYmluZEZ1bmN0aW9uOiBnZXRSZWJpbmRGdW5jdGlvbihtSWQpLFxyXG4gICAgICAgICAgICB1bmJpbmRGdW5jdGlvbjogZ2V0VW5iaW5kRnVuY3Rpb24oKSxcclxuICAgICAgICAgICAgdW5iaW5kQXN5bmNGdW5jdGlvbjogZ2V0VW5iaW5kQXN5bmNGdW5jdGlvbigpXHJcbiAgICAgICAgfSk7IH07XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fZ2V0QWxsID0gZnVuY3Rpb24gKGdldEFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5fZ2V0KGdldEFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9nZXQgPSBmdW5jdGlvbiAoZ2V0QXJncykge1xyXG4gICAgICAgIHZhciBwbGFuQW5kUmVzb2x2ZUFyZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZ2V0QXJncyksIHsgY29udGV4dEludGVyY2VwdG9yOiBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dDsgfSwgdGFyZ2V0VHlwZTogVGFyZ2V0VHlwZUVudW0uVmFyaWFibGUgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX21pZGRsZXdhcmUpIHtcclxuICAgICAgICAgICAgdmFyIG1pZGRsZXdhcmVSZXN1bHQgPSB0aGlzLl9taWRkbGV3YXJlKHBsYW5BbmRSZXNvbHZlQXJncyk7XHJcbiAgICAgICAgICAgIGlmIChtaWRkbGV3YXJlUmVzdWx0ID09PSB1bmRlZmluZWQgfHwgbWlkZGxld2FyZVJlc3VsdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuSU5WQUxJRF9NSURETEVXQVJFX1JFVFVSTik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmVSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9wbGFuQW5kUmVzb2x2ZSgpKHBsYW5BbmRSZXNvbHZlQXJncyk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fZ2V0QnV0VGhyb3dJZkFzeW5jID0gZnVuY3Rpb24gKGdldEFyZ3MpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fZ2V0KGdldEFyZ3MpO1xyXG4gICAgICAgIGlmIChpc1Byb21pc2VPckNvbnRhaW5zUHJvbWlzZShyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9NU0dTLkxBWllfSU5fU1lOQyhnZXRBcmdzLnNlcnZpY2VJZGVudGlmaWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fZ2V0QWxsQXJncyA9IGZ1bmN0aW9uIChzZXJ2aWNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBnZXRBbGxBcmdzID0ge1xyXG4gICAgICAgICAgICBhdm9pZENvbnN0cmFpbnRzOiB0cnVlLFxyXG4gICAgICAgICAgICBpc011bHRpSW5qZWN0OiB0cnVlLFxyXG4gICAgICAgICAgICBzZXJ2aWNlSWRlbnRpZmllcjogc2VydmljZUlkZW50aWZpZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZ2V0QWxsQXJncztcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9nZXROb3RBbGxBcmdzID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyLCBpc011bHRpSW5qZWN0LCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGdldE5vdEFsbEFyZ3MgPSB7XHJcbiAgICAgICAgICAgIGF2b2lkQ29uc3RyYWludHM6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc011bHRpSW5qZWN0OiBpc011bHRpSW5qZWN0LFxyXG4gICAgICAgICAgICBzZXJ2aWNlSWRlbnRpZmllcjogc2VydmljZUlkZW50aWZpZXIsXHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZ2V0Tm90QWxsQXJncztcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9wbGFuQW5kUmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHBsYW4oX3RoaXMuX21ldGFkYXRhUmVhZGVyLCBfdGhpcywgYXJncy5pc011bHRpSW5qZWN0LCBhcmdzLnRhcmdldFR5cGUsIGFyZ3Muc2VydmljZUlkZW50aWZpZXIsIGFyZ3Mua2V5LCBhcmdzLnZhbHVlLCBhcmdzLmF2b2lkQ29uc3RyYWludHMpO1xyXG4gICAgICAgICAgICBjb250ZXh0ID0gYXJncy5jb250ZXh0SW50ZXJjZXB0b3IoY29udGV4dCk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNvbHZlKGNvbnRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fZGVhY3RpdmF0ZUlmU2luZ2xldG9uID0gZnVuY3Rpb24gKGJpbmRpbmcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghYmluZGluZy5hY3RpdmF0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNQcm9taXNlKGJpbmRpbmcuY2FjaGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiaW5kaW5nLmNhY2hlLnRoZW4oZnVuY3Rpb24gKHJlc29sdmVkKSB7IHJldHVybiBfdGhpcy5fZGVhY3RpdmF0ZShiaW5kaW5nLCByZXNvbHZlZCk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVhY3RpdmF0ZShiaW5kaW5nLCBiaW5kaW5nLmNhY2hlKTtcclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9kZWFjdGl2YXRlU2luZ2xldG9ucyA9IGZ1bmN0aW9uIChiaW5kaW5ncykge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgYmluZGluZ3NfMSA9IGJpbmRpbmdzOyBfaSA8IGJpbmRpbmdzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBiaW5kaW5nID0gYmluZGluZ3NfMVtfaV07XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9kZWFjdGl2YXRlSWZTaW5nbGV0b24oYmluZGluZyk7XHJcbiAgICAgICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuQVNZTkNfVU5CSU5EX1JFUVVJUkVEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9kZWFjdGl2YXRlU2luZ2xldG9uc0FzeW5jID0gZnVuY3Rpb24gKGJpbmRpbmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQsIFByb21pc2UuYWxsKGJpbmRpbmdzLm1hcChmdW5jdGlvbiAoYikgeyByZXR1cm4gX3RoaXMuX2RlYWN0aXZhdGVJZlNpbmdsZXRvbihiKTsgfSkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcHJvcGFnYXRlQ29udGFpbmVyRGVhY3RpdmF0aW9uVGhlbkJpbmRpbmdBbmRQcmVEZXN0cm95ID0gZnVuY3Rpb24gKGJpbmRpbmcsIGluc3RhbmNlLCBjb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVhY3RpdmF0ZS5iaW5kKHRoaXMucGFyZW50KShiaW5kaW5nLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ0RlYWN0aXZhdGlvbkFuZFByZURlc3Ryb3koYmluZGluZywgaW5zdGFuY2UsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcHJvcGFnYXRlQ29udGFpbmVyRGVhY3RpdmF0aW9uVGhlbkJpbmRpbmdBbmRQcmVEZXN0cm95QXN5bmMgPSBmdW5jdGlvbiAoYmluZGluZywgaW5zdGFuY2UsIGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSByZXR1cm4gWzMsIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIHRoaXMuX2RlYWN0aXZhdGUuYmluZCh0aGlzLnBhcmVudCkoYmluZGluZywgaW5zdGFuY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCwgdGhpcy5fYmluZGluZ0RlYWN0aXZhdGlvbkFuZFByZURlc3Ryb3lBc3luYyhiaW5kaW5nLCBpbnN0YW5jZSwgY29uc3RydWN0b3IpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcmVtb3ZlU2VydmljZUZyb21EaWN0aW9uYXJ5ID0gZnVuY3Rpb24gKHNlcnZpY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5fYmluZGluZ0RpY3Rpb25hcnkucmVtb3ZlKHNlcnZpY2VJZGVudGlmaWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuQ0FOTk9UX1VOQklORCArIFwiIFwiICsgZ2V0U2VydmljZUlkZW50aWZpZXJBc1N0cmluZyhzZXJ2aWNlSWRlbnRpZmllcikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLl9iaW5kaW5nRGVhY3RpdmF0aW9uQW5kUHJlRGVzdHJveSA9IGZ1bmN0aW9uIChiaW5kaW5nLCBpbnN0YW5jZSwgY29uc3RydWN0b3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0eXBlb2YgYmluZGluZy5vbkRlYWN0aXZhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZy5vbkRlYWN0aXZhdGlvbihpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9wcmVEZXN0cm95KGNvbnN0cnVjdG9yLCBpbnN0YW5jZSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVEZXN0cm95KGNvbnN0cnVjdG9yLCBpbnN0YW5jZSk7XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fYmluZGluZ0RlYWN0aXZhdGlvbkFuZFByZURlc3Ryb3lBc3luYyA9IGZ1bmN0aW9uIChiaW5kaW5nLCBpbnN0YW5jZSwgY29uc3RydWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBiaW5kaW5nLm9uRGVhY3RpdmF0aW9uID09PSAnZnVuY3Rpb24nKSkgcmV0dXJuIFszLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBiaW5kaW5nLm9uRGVhY3RpdmF0aW9uKGluc3RhbmNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCwgdGhpcy5fcHJlRGVzdHJveShjb25zdHJ1Y3RvciwgaW5zdGFuY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQ29udGFpbmVyIH07XHJcbiIsICJpbXBvcnQgeyBpZCB9IGZyb20gJy4uL3V0aWxzL2lkJztcclxudmFyIENvbnRhaW5lck1vZHVsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb250YWluZXJNb2R1bGUocmVnaXN0cnkpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gcmVnaXN0cnk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ29udGFpbmVyTW9kdWxlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBDb250YWluZXJNb2R1bGUgfTtcclxudmFyIEFzeW5jQ29udGFpbmVyTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFzeW5jQ29udGFpbmVyTW9kdWxlKHJlZ2lzdHJ5KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyeSA9IHJlZ2lzdHJ5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEFzeW5jQ29udGFpbmVyTW9kdWxlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBBc3luY0NvbnRhaW5lck1vZHVsZSB9O1xyXG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0QXJyYXlEdXBsaWNhdGUoYXJyYXkpIHtcclxuICAgIHZhciBzZWVuVmFsdWVzID0gbmV3IFNldCgpO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBhcnJheV8xID0gYXJyYXk7IF9pIDwgYXJyYXlfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgZW50cnkgPSBhcnJheV8xW19pXTtcclxuICAgICAgICBpZiAoc2VlblZhbHVlcy5oYXMoZW50cnkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlZW5WYWx1ZXMuYWRkKGVudHJ5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcbiIsICJpbXBvcnQgKiBhcyBFUlJPUl9NU0dTIGZyb20gJy4uL2NvbnN0YW50cy9lcnJvcl9tc2dzJztcclxuaW1wb3J0ICogYXMgTUVUQURBVEFfS0VZIGZyb20gJy4uL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzJztcclxuaW1wb3J0IHsgZ2V0Rmlyc3RBcnJheUR1cGxpY2F0ZSB9IGZyb20gJy4uL3V0aWxzL2pzJztcclxuZnVuY3Rpb24gdGFyZ2V0SXNDb25zdHJ1Y3RvckZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRhcmdldC5wcm90b3R5cGUgIT09IHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBfdGhyb3dJZk1ldGhvZFBhcmFtZXRlcihwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICBpZiAocGFyYW1ldGVyTmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuSU5WQUxJRF9ERUNPUkFUT1JfT1BFUkFUSU9OKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0YWdQYXJhbWV0ZXIoYW5ub3RhdGlvblRhcmdldCwgcGFyYW1ldGVyTmFtZSwgcGFyYW1ldGVySW5kZXgsIG1ldGFkYXRhKSB7XHJcbiAgICBfdGhyb3dJZk1ldGhvZFBhcmFtZXRlcihwYXJhbWV0ZXJOYW1lKTtcclxuICAgIF90YWdQYXJhbWV0ZXJPclByb3BlcnR5KE1FVEFEQVRBX0tFWS5UQUdHRUQsIGFubm90YXRpb25UYXJnZXQsIHBhcmFtZXRlckluZGV4LnRvU3RyaW5nKCksIG1ldGFkYXRhKTtcclxufVxyXG5mdW5jdGlvbiB0YWdQcm9wZXJ0eShhbm5vdGF0aW9uVGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIG1ldGFkYXRhKSB7XHJcbiAgICBpZiAodGFyZ2V0SXNDb25zdHJ1Y3RvckZ1bmN0aW9uKGFubm90YXRpb25UYXJnZXQpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuSU5WQUxJRF9ERUNPUkFUT1JfT1BFUkFUSU9OKTtcclxuICAgIH1cclxuICAgIF90YWdQYXJhbWV0ZXJPclByb3BlcnR5KE1FVEFEQVRBX0tFWS5UQUdHRURfUFJPUCwgYW5ub3RhdGlvblRhcmdldC5jb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lLCBtZXRhZGF0YSk7XHJcbn1cclxuZnVuY3Rpb24gX2Vuc3VyZU5vTWV0YWRhdGFLZXlEdXBsaWNhdGVzKG1ldGFkYXRhKSB7XHJcbiAgICB2YXIgbWV0YWRhdGFzID0gW107XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhZGF0YSkpIHtcclxuICAgICAgICBtZXRhZGF0YXMgPSBtZXRhZGF0YTtcclxuICAgICAgICB2YXIgZHVwbGljYXRlID0gZ2V0Rmlyc3RBcnJheUR1cGxpY2F0ZShtZXRhZGF0YXMubWFwKGZ1bmN0aW9uIChtZCkgeyByZXR1cm4gbWQua2V5OyB9KSk7XHJcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUl9NU0dTLkRVUExJQ0FURURfTUVUQURBVEEgKyBcIiBcIiArIGR1cGxpY2F0ZS50b1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBtZXRhZGF0YXMgPSBbbWV0YWRhdGFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1ldGFkYXRhcztcclxufVxyXG5mdW5jdGlvbiBfdGFnUGFyYW1ldGVyT3JQcm9wZXJ0eShtZXRhZGF0YUtleSwgYW5ub3RhdGlvblRhcmdldCwga2V5LCBtZXRhZGF0YSkge1xyXG4gICAgdmFyIG1ldGFkYXRhcyA9IF9lbnN1cmVOb01ldGFkYXRhS2V5RHVwbGljYXRlcyhtZXRhZGF0YSk7XHJcbiAgICB2YXIgcGFyYW1zT3JQcm9wZXJ0aWVzTWV0YWRhdGEgPSB7fTtcclxuICAgIGlmIChSZWZsZWN0Lmhhc093bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBhbm5vdGF0aW9uVGFyZ2V0KSkge1xyXG4gICAgICAgIHBhcmFtc09yUHJvcGVydGllc01ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgYW5ub3RhdGlvblRhcmdldCk7XHJcbiAgICB9XHJcbiAgICB2YXIgcGFyYW1PclByb3BlcnR5TWV0YWRhdGEgPSBwYXJhbXNPclByb3BlcnRpZXNNZXRhZGF0YVtrZXldO1xyXG4gICAgaWYgKHBhcmFtT3JQcm9wZXJ0eU1ldGFkYXRhID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwYXJhbU9yUHJvcGVydHlNZXRhZGF0YSA9IFtdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICBpZiAobWV0YWRhdGFzLnNvbWUoZnVuY3Rpb24gKG1kKSB7IHJldHVybiBtZC5rZXkgPT09IG0ua2V5OyB9KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SX01TR1MuRFVQTElDQVRFRF9NRVRBREFUQSArIFwiIFwiICsgbS5rZXkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgcGFyYW1PclByb3BlcnR5TWV0YWRhdGFfMSA9IHBhcmFtT3JQcm9wZXJ0eU1ldGFkYXRhOyBfaSA8IHBhcmFtT3JQcm9wZXJ0eU1ldGFkYXRhXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gcGFyYW1PclByb3BlcnR5TWV0YWRhdGFfMVtfaV07XHJcbiAgICAgICAgICAgIF9sb29wXzEobSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFyYW1PclByb3BlcnR5TWV0YWRhdGEucHVzaC5hcHBseShwYXJhbU9yUHJvcGVydHlNZXRhZGF0YSwgbWV0YWRhdGFzKTtcclxuICAgIHBhcmFtc09yUHJvcGVydGllc01ldGFkYXRhW2tleV0gPSBwYXJhbU9yUHJvcGVydHlNZXRhZGF0YTtcclxuICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEobWV0YWRhdGFLZXksIHBhcmFtc09yUHJvcGVydGllc01ldGFkYXRhLCBhbm5vdGF0aW9uVGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVUYWdnZWREZWNvcmF0b3IobWV0YWRhdGEpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCB0YXJnZXRLZXksIGluZGV4T3JQcm9wZXJ0eURlc2NyaXB0b3IpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGluZGV4T3JQcm9wZXJ0eURlc2NyaXB0b3IgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHRhZ1BhcmFtZXRlcih0YXJnZXQsIHRhcmdldEtleSwgaW5kZXhPclByb3BlcnR5RGVzY3JpcHRvciwgbWV0YWRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGFnUHJvcGVydHkodGFyZ2V0LCB0YXJnZXRLZXksIG1ldGFkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQpIHtcclxuICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0KTtcclxufVxyXG5mdW5jdGlvbiBfcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH07XHJcbn1cclxuZnVuY3Rpb24gZGVjb3JhdGUoZGVjb3JhdG9yLCB0YXJnZXQsIHBhcmFtZXRlckluZGV4T3JQcm9wZXJ0eSkge1xyXG4gICAgaWYgKHR5cGVvZiBwYXJhbWV0ZXJJbmRleE9yUHJvcGVydHkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgX2RlY29yYXRlKFtfcGFyYW0ocGFyYW1ldGVySW5kZXhPclByb3BlcnR5LCBkZWNvcmF0b3IpXSwgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbWV0ZXJJbmRleE9yUHJvcGVydHkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgUmVmbGVjdC5kZWNvcmF0ZShbZGVjb3JhdG9yXSwgdGFyZ2V0LCBwYXJhbWV0ZXJJbmRleE9yUHJvcGVydHkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgX2RlY29yYXRlKFtkZWNvcmF0b3JdLCB0YXJnZXQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IGRlY29yYXRlLCB0YWdQYXJhbWV0ZXIsIHRhZ1Byb3BlcnR5LCBjcmVhdGVUYWdnZWREZWNvcmF0b3IgfTtcclxuIiwgImltcG9ydCAqIGFzIEVSUk9SU19NU0dTIGZyb20gJy4uL2NvbnN0YW50cy9lcnJvcl9tc2dzJztcclxuaW1wb3J0ICogYXMgTUVUQURBVEFfS0VZIGZyb20gJy4uL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzJztcclxuZnVuY3Rpb24gaW5qZWN0YWJsZSgpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoTUVUQURBVEFfS0VZLlBBUkFNX1RZUEVTLCB0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUlNfTVNHUy5EVVBMSUNBVEVEX0lOSkVDVEFCTEVfREVDT1JBVE9SKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHR5cGVzID0gUmVmbGVjdC5nZXRNZXRhZGF0YShNRVRBREFUQV9LRVkuREVTSUdOX1BBUkFNX1RZUEVTLCB0YXJnZXQpIHx8IFtdO1xyXG4gICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoTUVUQURBVEFfS0VZLlBBUkFNX1RZUEVTLCB0eXBlcywgdGFyZ2V0KTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxufVxyXG5leHBvcnQgeyBpbmplY3RhYmxlIH07XHJcbiIsICJpbXBvcnQgKiBhcyBNRVRBREFUQV9LRVkgZnJvbSAnLi4vY29uc3RhbnRzL21ldGFkYXRhX2tleXMnO1xyXG5pbXBvcnQgeyBNZXRhZGF0YSB9IGZyb20gJy4uL3BsYW5uaW5nL21ldGFkYXRhJztcclxuaW1wb3J0IHsgY3JlYXRlVGFnZ2VkRGVjb3JhdG9yIH0gZnJvbSAnLi9kZWNvcmF0b3JfdXRpbHMnO1xyXG5mdW5jdGlvbiBuYW1lZChuYW1lKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVGFnZ2VkRGVjb3JhdG9yKG5ldyBNZXRhZGF0YShNRVRBREFUQV9LRVkuTkFNRURfVEFHLCBuYW1lKSk7XHJcbn1cclxuZXhwb3J0IHsgbmFtZWQgfTtcclxuIiwgImltcG9ydCB7IFVOREVGSU5FRF9JTkpFQ1RfQU5OT1RBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cy9lcnJvcl9tc2dzJztcclxuaW1wb3J0IHsgTWV0YWRhdGEgfSBmcm9tICcuLi9wbGFubmluZy9tZXRhZGF0YSc7XHJcbmltcG9ydCB7IGNyZWF0ZVRhZ2dlZERlY29yYXRvciB9IGZyb20gJy4vZGVjb3JhdG9yX3V0aWxzJztcclxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdEJhc2UobWV0YWRhdGFLZXkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoc2VydmljZUlkZW50aWZpZXIpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgdGFyZ2V0S2V5LCBpbmRleE9yUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlSWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IHRhcmdldC5uYW1lIDogdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5ERUZJTkVEX0lOSkVDVF9BTk5PVEFUSU9OKGNsYXNzTmFtZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUYWdnZWREZWNvcmF0b3IobmV3IE1ldGFkYXRhKG1ldGFkYXRhS2V5LCBzZXJ2aWNlSWRlbnRpZmllcikpKHRhcmdldCwgdGFyZ2V0S2V5LCBpbmRleE9yUHJvcGVydHlEZXNjcmlwdG9yKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxyXG4iLCAiaW1wb3J0ICogYXMgTUVUQURBVEFfS0VZIGZyb20gJy4uL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzJztcclxuaW1wb3J0IHsgaW5qZWN0QmFzZSB9IGZyb20gJy4vaW5qZWN0X2Jhc2UnO1xyXG52YXIgaW5qZWN0ID0gaW5qZWN0QmFzZShNRVRBREFUQV9LRVkuSU5KRUNUX1RBRyk7XHJcbmV4cG9ydCB7IGluamVjdCB9O1xyXG4iLCAiaW1wb3J0ICogYXMgTUVUQURBVEFfS0VZIGZyb20gJy4uL2NvbnN0YW50cy9tZXRhZGF0YV9rZXlzJztcclxuaW1wb3J0IHsgaW5qZWN0QmFzZSB9IGZyb20gJy4vaW5qZWN0X2Jhc2UnO1xyXG52YXIgbXVsdGlJbmplY3QgPSBpbmplY3RCYXNlKE1FVEFEQVRBX0tFWS5NVUxUSV9JTkpFQ1RfVEFHKTtcclxuZXhwb3J0IHsgbXVsdGlJbmplY3QgfTtcclxuIiwgInZhciBpbnRlcmZhY2VzO1xyXG4oZnVuY3Rpb24gKGludGVyZmFjZXMpIHtcclxuICAgIDtcclxufSkoaW50ZXJmYWNlcyB8fCAoaW50ZXJmYWNlcyA9IHt9KSk7XHJcbmV4cG9ydCB7IGludGVyZmFjZXMgfTtcclxuIiwgImNvbnN0IFNJID0ge1xuICAgIFwiZmFjdG9yeTpyZXBsYWNlclwiOiBcIlwiLFxuICAgIFwiZXZlbnQ6ZGlzcGF0Y2hlclwiOiBcIlwiLFxuICAgIFwiYWxpYXM6bW9kaWZpZXJcIjogXCJcIixcbiAgICBcImFsaWFzOm1vZGlmaWVyOnN0cmF0ZWd5XCI6IFwiXCIsXG4gICAgXCJhbGlhczptb2RpZmllcjp2YWxpZGF0b3JcIjogXCJcIixcbiAgICBjYWNoZTogXCJcIixcbiAgICBcImNvbXBvbmVudDpibGFja193aGl0ZV9saXN0XCI6IFwiXCIsXG4gICAgXCJjb21wb25lbnQ6ZXh0cmFjdG9yXCI6IFwiXCIsXG4gICAgXCJjb21wb25lbnQ6ZXh0cmFjdG9yOnN0cmF0ZWd5XCI6IFwiXCIsXG4gICAgXCJjcmVhdG9yOmNyZWF0b3JcIjogXCJcIixcbiAgICBcImNyZWF0b3I6ZmFsbGJhY2tcIjogXCJcIixcbiAgICBcImNyZWF0b3I6dGVtcGxhdGVcIjogXCJcIixcbiAgICBkZWxpbWl0ZXI6IFwiXCIsXG4gICAgZGVsYXllcjogXCJcIixcbiAgICBcImZhY2FkZTpvYnNpZGlhblwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTphbGlhczptb2RpZmllcjpzdHJhdGVneVwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTphbGlhczptb2RpZmllcjp2YWxpZGF0b3JcIjogXCJcIixcbiAgICBcImZhY3Rvcnk6ZmVhdHVyZVwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTptZXRhZGF0YTpjYWNoZVwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTpvYnNpZGlhbjphY3RpdmU6ZmlsZVwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTpvYnNpZGlhbjptb2RhbFwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTpvYnNpZGlhbjpmaWxlXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5Om9ic2lkaWFuOmZpbGVfbW9kaWZpYWJsZVwiOiBcIlwiLFxuICAgIFwiZmFjdG9yeTpvYnNpZGlhbjptZXRhXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OnBsYWNlaG9sZGVyXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OnBsYWNlaG9sZGVyOnJlc29sdmVyXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OmNyZWF0b3I6dGVtcGxhdGVcIjogXCJcIixcbiAgICBcImZhY3Rvcnk6dGVtcGxhdGU6cmVzb2x2ZXJcIjogXCJcIixcbiAgICBcImZhY3Rvcnk6ZmVhdHVyZTpleHBsb3Jlcjpzb3J0XCI6IFwiXCIsXG4gICAgXCJuZXdhYmxlOm9ic2lkaWFuOmNob29zZXJcIjogXCJcIixcbiAgICBmZWF0dXJlOiBcIlwiLFxuICAgIFwiZmVhdHVyZTpjb21wb3NlclwiOiBcIlwiLFxuICAgIFwiZmVhdHVyZTpzZXJ2aWNlXCI6IFwiXCIsXG4gICAgXCJmZWF0dXJlOmFsaWFzOmNvbmZpZ1wiOiBcIlwiLFxuICAgIFwiZmVhdHVyZTpub3RlbGluazphcHByb3ZlXCI6IFwiXCIsXG4gICAgXCJmZWF0dXJlOmNvbmZpZ1wiOiBcIlwiLFxuICAgIFwiZmVhdHVyZTpleHBsb3JlcjpmaWxlX211dGF0b3I6ZmFjdG9yeVwiOiBcIlwiLFxuICAgIFwiZmVhdHVyZTpleHBsb3Jlcjpzb3J0XCI6IFwiXCIsXG4gICAgZmlsdGVyOiBcIlwiLFxuICAgIFwiZ2V0dGVyOmRlbGltaXRlclwiOiBcIlwiLFxuICAgIGxpc3RlbmVyOiBcIlwiLFxuICAgIGxvZ2dlcjogXCJcIixcbiAgICBcImZlYXR1cmU6aGVscGVyXCI6IFwiXCIsXG4gICAgXCJsb2dnZXI6Y29tcG9zZXJcIjogXCJcIixcbiAgICBcIm1hbmFnZXI6Y29tcG9zZXJcIjogXCJcIixcbiAgICBcIm9ic2lkaWFuOmFwcFwiOiBcIlwiLFxuICAgIFwib2JzaWRpYW46cGx1Z2luXCI6IFwiXCIsXG4gICAgcGxhY2Vob2xkZXI6IFwiXCIsXG4gICAgcmVzb2x2ZXI6IFwiXCIsXG4gICAgXCJyZXNvbHZlcjpzZXJ2aWNlXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OnJlc29sdmVyOnRlbXBsYXRlXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OnJlc29sdmVyOnJlc29sdmVyXCI6IFwiXCIsXG4gICAgXCJzZXJ2aWNlOm5vdGU6bGlua1wiOiBcIlwiLFxuICAgIFwic2VydmljZTpmYWtlX3RpdGxlX2VsZW1lbnRcIjogXCJcIixcbiAgICBcInNlcnZpY2U6c2VhcmNoOmRvbTp3cmFwcGVyXCI6IFwiXCIsXG4gICAgXCJzZXR0aW5nczpmZWF0dXJlOmJ1aWxkZXJcIjogXCJcIixcbiAgICBcInNldHRpbmdzOmJ1aWxkZXJcIjogXCJcIixcbiAgICBcImZhY3Rvcnk6c2V0dGluZ3M6ZmVhdHVyZTpidWlsZGVyXCI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OnNldHRpbmdzOmJ1aWxkZXJcIjogXCJcIixcbiAgICBcInNldHRpbmdzOnN0b3JhZ2VcIjogXCJcIixcbiAgICBcInRlbXBsYXRlOnBhdHRlcm5cIjogXCJcIixcbiAgICBhcGk6IFwiXCIsXG4gICAgZGVmZXI6IFwiXCIsXG4gICAgXCJmYWN0b3J5OmFwaVwiOiBcIlwiLFxuICAgIFwicHJvY2Vzc29yOmZhY3RvcnlcIjogXCJcIixcbiAgICBwcm9jZXNzb3I6IFwiXCIsXG4gICAgXCJwcm9jZXNzb3I6YXJnc1wiOiBcIlwiLFxuICAgIFwicHJvY2Vzc29yOmFyZ3VtZW50LnRyYW5zZm9ybWVyXCI6IFwiXCIsXG59O1xuXG5mb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhTSSkpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBTSVtrZXldID0gU3ltYm9sLmZvcihrZXkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTSTtcbiIsICJpbXBvcnQgeyBtb21lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBlbiBmcm9tIFwiLi9lblwiO1xuaW1wb3J0IHJ1IGZyb20gXCIuL3J1XCI7XG5pbXBvcnQgaTE4bmV4dCBmcm9tIFwiaTE4bmV4dFwiO1xuaW1wb3J0IHpoIGZyb20gXCIuL3poXCI7XG5pbXBvcnQgemhfdHcgZnJvbSBcIi4vemgtdHdcIjtcbmltcG9ydCBrbyBmcm9tIFwiLi9rb1wiO1xuaW1wb3J0IGl0IGZyb20gXCIuL2l0XCI7XG5pbXBvcnQgaWQgZnJvbSBcIi4vaWRcIjtcbmltcG9ydCBybyBmcm9tIFwiLi9yb1wiO1xuaW1wb3J0IHBsIGZyb20gXCIuL3BsXCI7XG5pbXBvcnQgY3MgZnJvbSBcIi4vY3NcIjtcbmltcG9ydCBkZSBmcm9tIFwiLi9kZVwiO1xuaW1wb3J0IGVzIGZyb20gXCIuL2VzXCI7XG5pbXBvcnQgZnIgZnJvbSBcIi4vZnJcIjtcbmltcG9ydCBubyBmcm9tIFwiLi9ub1wiO1xuaW1wb3J0IHByX2JyIGZyb20gXCIuL3ByLWJyXCI7XG5pbXBvcnQgcHQgZnJvbSBcIi4vcHRcIjtcbmltcG9ydCBqYSBmcm9tIFwiLi9qYVwiO1xuaW1wb3J0IGRhIGZyb20gXCIuL2RhXCI7XG5pbXBvcnQgdWsgZnJvbSBcIi4vdWtcIjtcbmltcG9ydCBzcSBmcm9tIFwiLi9zcVwiO1xuaW1wb3J0IHRoIGZyb20gXCIuL3RoXCI7XG5pbXBvcnQgZmEgZnJvbSBcIi4vZmFcIjtcbmltcG9ydCB0ciBmcm9tIFwiLi90clwiO1xuaW1wb3J0IG5sIGZyb20gXCIuL25sXCI7XG5pbXBvcnQgYW0gZnJvbSBcIi4vYW1cIjtcbmltcG9ydCBtcyBmcm9tIFwiLi9tc1wiO1xuXG50eXBlIERlZXBQYXJ0aWFsPFQ+ID0geyBbSyBpbiBrZXlvZiBUXT86IFRbS10gZXh0ZW5kcyBvYmplY3QgPyBEZWVwUGFydGlhbDxUW0tdPiA6IFRbS10gfTtcblxuLy9odHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83MzE1OTg5My90eXBlc2NyaXB0LXN0cmluZy1kb3Qtbm90YXRpb24tb2YtbmVzdGVkLWdlbmVyaWMtdHlwZS10aGF0LWJlbG9uZ3MtdG8tcHJvcGVydHktb1xudHlwZSBEb3Q8VCBleHRlbmRzIHN0cmluZywgVSBleHRlbmRzIHN0cmluZz4gPSBcIlwiIGV4dGVuZHMgVSA/IFQgOiBgJHtUfS4ke1V9YDtcblxudHlwZSBEb3ROb3Q8VD4gPSBUIGV4dGVuZHMgc3RyaW5nXG4gICAgPyBcIlwiXG4gICAgOiB7XG4gICAgICAgICAgW0sgaW4gRXh0cmFjdDxrZXlvZiBULCBzdHJpbmc+XTogRG90PEssIERvdE5vdDxUW0tdPj47XG4gICAgICB9W0V4dHJhY3Q8a2V5b2YgVCwgc3RyaW5nPl07XG5cbmNvbnN0IGRlZmF1bHRMb2NhbGUgPSBcImVuXCI7XG5jb25zdCBsb2NhbGUgPSBtb21lbnQubG9jYWxlKCk7XG5cbmkxOG5leHQuaW5pdCh7XG4gICAgbG5nOiBsb2NhbGUsXG4gICAgZmFsbGJhY2tMbmc6IGRlZmF1bHRMb2NhbGUsXG4gICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGVuOiB7IHRyYW5zbGF0aW9uOiBlbiB9LFxuICAgICAgICBydTogeyB0cmFuc2xhdGlvbjogcnUgfSxcbiAgICAgICAgemg6IHsgdHJhbnNsYXRpb246IHpoIH0sXG4gICAgICAgIFwiemgtVFdcIjogeyB0cmFuc2xhdGlvbjogemhfdHcgfSxcbiAgICAgICAga286IHsgdHJhbnNsYXRpb246IGtvIH0sXG4gICAgICAgIGl0OiB7IHRyYW5zbGF0aW9uOiBpdCB9LFxuICAgICAgICBpZDogeyB0cmFuc2xhdGlvbjogaWQgfSxcbiAgICAgICAgcm86IHsgdHJhbnNsYXRpb246IHJvIH0sXG4gICAgICAgIFwicHQtQlJcIjogeyB0cmFuc2xhdGlvbjogcHJfYnIgfSxcbiAgICAgICAgY3M6IHsgdHJhbnNsYXRpb246IGNzIH0sXG4gICAgICAgIGRlOiB7IHRyYW5zbGF0aW9uOiBkZSB9LFxuICAgICAgICBlczogeyB0cmFuc2xhdGlvbjogZXMgfSxcbiAgICAgICAgZnI6IHsgdHJhbnNsYXRpb246IGZyIH0sXG4gICAgICAgIG5vOiB7IHRyYW5zbGF0aW9uOiBubyB9LFxuICAgICAgICBwbDogeyB0cmFuc2xhdGlvbjogcGwgfSxcbiAgICAgICAgcHQ6IHsgdHJhbnNsYXRpb246IHB0IH0sXG4gICAgICAgIGphOiB7IHRyYW5zbGF0aW9uOiBqYSB9LFxuICAgICAgICBkYTogeyB0cmFuc2xhdGlvbjogZGEgfSxcbiAgICAgICAgdWs6IHsgdHJhbnNsYXRpb246IHVrIH0sXG4gICAgICAgIHNxOiB7IHRyYW5zbGF0aW9uOiBzcSB9LFxuICAgICAgICB0aDogeyB0cmFuc2xhdGlvbjogdGggfSxcbiAgICAgICAgZmE6IHsgdHJhbnNsYXRpb246IGZhIH0sXG4gICAgICAgIHRyOiB7IHRyYW5zbGF0aW9uOiB0ciB9LFxuICAgICAgICBubDogeyB0cmFuc2xhdGlvbjogbmwgfSxcbiAgICAgICAgYW06IHsgdHJhbnNsYXRpb246IGFtIH0sXG4gICAgICAgIG1zOiB7IHRyYW5zbGF0aW9uOiBtcyB9LFxuICAgIH0sXG4gICAgbnNTZXBhcmF0b3I6IFwifFwiLFxufSk7XG5jb25zdCByZXNvbHZlZCA9IGkxOG5leHQucmVzb2x2ZWRMYW5ndWFnZTtcbmlmIChyZXNvbHZlZCAhPT0gbG9jYWxlKSB7XG4gICAgaWYgKGkxOG5leHQubGFuZ3VhZ2VzLmluY2x1ZGVzKGxvY2FsZSkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKGBMb2NhbGUgJHtsb2NhbGV9IGVtcHR5LiBSZXNvbHZlZCAke3Jlc29sdmVkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybihgTG9jYWxlICR7bG9jYWxlfSBkb2VzIG5vdCBleGlzdC4gUmVzb2x2ZWQgJHtyZXNvbHZlZH1gKTtcbiAgICB9XG59XG5leHBvcnQgdHlwZSBUcmFuc2xhdGlvbiA9IERlZXBQYXJ0aWFsPHR5cGVvZiBlbj47XG5cbmV4cG9ydCBjb25zdCB0ID0gKHBhdGg6IERvdE5vdDx0eXBlb2YgZW4+LCBwYXJhbXM/OiBvYmplY3QpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBpMThuZXh0LnQocGF0aCBhcyBzdHJpbmcsIHBhcmFtcyBhcyBhbnkpIGFzIHN0cmluZztcbn07XG4iLCAiZXhwb3J0IGVudW0gUGx1Z2lucyB7XG4gICAgU2VhcmNoID0gXCJnbG9iYWwtc2VhcmNoXCIsXG4gICAgRmlsZUV4cGxvcmVyID0gXCJmaWxlLWV4cGxvcmVyXCIsXG4gICAgQmFja2xpbmsgPSBcImJhY2tsaW5rXCIsXG59XG5cbmV4cG9ydCBlbnVtIExlYXZlcyB7XG4gICAgRkUgPSBcImZpbGUtZXhwbG9yZXJcIixcbiAgICBHID0gXCJncmFwaFwiLFxuICAgIExHID0gXCJsb2NhbGdyYXBoXCIsXG4gICAgTUQgPSBcIm1hcmtkb3duXCIsXG4gICAgQkwgPSBcImJhY2tsaW5rXCIsXG4gICAgUyA9IFwic2VhcmNoXCIsXG4gICAgQm9va21hcmtzID0gXCJib29rbWFya3NcIixcbiAgICBDViA9IFwiY2FudmFzXCIsXG59XG5cbmV4cG9ydCBlbnVtIEZlYXR1cmUge1xuICAgIEV4cGxvcmVyID0gXCJleHBsb3JlclwiLFxuICAgIEdyYXBoID0gXCJncmFwaFwiLFxuICAgIEhlYWRlciA9IFwiaGVhZGVyXCIsXG4gICAgQm9va21hcmtzID0gXCJib29rbWFya3NcIixcbiAgICBTZWFyY2ggPSBMZWF2ZXMuUyxcbiAgICBUYWIgPSBcInRhYlwiLFxuICAgIEFsaWFzID0gXCJhbGlhc1wiLFxuICAgIFN1Z2dlc3QgPSBcInN1Z2dlc3RcIixcbiAgICBJbmxpbmVUaXRsZSA9IFwiaW5saW5lVGl0bGVcIixcbiAgICBDYW52YXMgPSBcImNhbnZhc1wiLFxuICAgIEJhY2tsaW5rID0gTGVhdmVzLkJMLFxuICAgIE5vdGVMaW5rID0gXCJub3RlTGlua1wiLFxuICAgIFdpbmRvd0ZyYW1lID0gXCJ3aW5kb3dGcmFtZVwiLFxufVxuXG5leHBvcnQgY29uc3QgTWFuYWdlcnMgPSBbXG4gICAgRmVhdHVyZS5FeHBsb3JlcixcbiAgICBGZWF0dXJlLkdyYXBoLFxuICAgIEZlYXR1cmUuSGVhZGVyLFxuICAgIEZlYXR1cmUuVGFiLFxuICAgIEZlYXR1cmUuSW5saW5lVGl0bGUsXG4gICAgRmVhdHVyZS5DYW52YXMsXG5dO1xuXG5leHBvcnQgY29uc3QgR0lUSFVCX0RPQ1MgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9zbmV6aGlnL29ic2lkaWFuLWZyb250LW1hdHRlci10aXRsZS9ibG9iL21hc3Rlci9kb2NzL1wiO1xuIiwgImltcG9ydCB7IEZlYXR1cmUgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5cbi8vRmlyc3QgdmVyc2lvblxuY29uc3QgZW4gPSB7XG4gICAgdmFsaWRhdG9yOiBcIlZhbGlkYXRvclwiLFxuICAgIHN0cmF0ZWd5OiBcIlN0cmF0ZWd5XCIsXG4gICAgY2FuY2VsOiBcIkNhbmNlbFwiLFxuICAgIGFwcGx5OiBcIkFwcGx5XCIsXG4gICAgZmVhdHVyZToge1xuICAgICAgICBbRmVhdHVyZS5BbGlhc106IHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWxpYXNcIixcbiAgICAgICAgICAgIGRlc2M6IFwiTW9kaWZ5IGFsaWFzIGluIG1ldGFkYXRhIGNhY2hlLiBUaGUgcmVhbCBhbGlhcyB3aWxsIG5vdCBiZSBhZmZlY3RlZFwiLFxuICAgICAgICAgICAgdmFsaWRhdG9yOiB7XG4gICAgICAgICAgICAgICAgYXV0bzoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkZyb250bWF0dGVyIEF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJJZiBmcm9udG1hdHRlciBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkIGluIGNhY2hlLiBTaWRlLWVmZmVjdHMgbWF5IG9jY3VyLlwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGcm9udG1hdHRlciBSZXF1aXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIk9ubHkgZmlsZXMgd2l0aCBmcm9udG1hdHRlciB3aWxsIGJlIHByb2Nlc3NlZC5cIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmF0ZWd5OiB7XG4gICAgICAgICAgICAgICAgZW5zdXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRW5zdXJlXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiU2V0IHRpdGxlIGFzIGFuIGFsaWFzIG9ubHkgaWYgdGhlIG9uZSBkb2VzIG5vdCBleGlzdFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRqdXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWRqdXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiQWRkIHRpdGxlIHRvIGFsaWFzIGFuZCB3aXRob3V0IGFmZmVjdCBvbiBleGlzdGluZyBhbGlhc1wiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVwbGFjZToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlcGxhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJSZXBsYWNlIGN1cnJlbnQgYWxpYXMgd2l0aCB0aXRsZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5FeHBsb3Jlcl06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXhwbG9yZXJcIixcbiAgICAgICAgICAgIGRlc2M6IFwiUmVwbGFjZSBzaG93biB0aXRsZXMgaW4gdGhlIGZpbGUgZXhwbG9yZXJcIixcbiAgICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlNvcnRcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlNvcnQgZmlsZXMgaW4gZXhwbG9yZXIgYnkgdGl0bGVzIGZyb20gRXhwbG9yZXIgZmVhdHVyZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuR3JhcGhdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkdyYXBoXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlJlcGxhY2Ugc2hvd24gdGl0bGVzIGluIHRoZSBncmFwaC9sb2NhbC1ncmFwaFwiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5IZWFkZXJdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkhlYWRlclwiLFxuICAgICAgICAgICAgZGVzYzogXCJSZXBsYWNlIHRpdGxlcyBpbiBoZWFkZXIgb2YgbGVhdmVzIGFuZCB1cGRhdGUgdGhlbVwiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5Cb29rbWFya3NdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkJvb2ttYXJrc1wiLFxuICAgICAgICAgICAgZGVzYzogXCJSZXBsYWNlIHNob3duIHRpdGxlcyBpbiBidWlsdC1pbiBib29rbWFya3MgcGx1Z2luXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLlNlYXJjaF06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiU2VhcmNoXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlJlcGxhY2Ugc2hvd24gdGl0bGVzIGluIHNlYXJjaCBsZWFmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLlN1Z2dlc3RdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlN1Z2dlc3RcIixcbiAgICAgICAgICAgIGRlc2M6IFwiUmVwbGFjZSBzaG93biB0aXRsZXMgaW4gc3VnZ2VzdCBtb2RhbHNcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuVGFiXToge1xuICAgICAgICAgICAgbmFtZTogXCJUYWJzXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlJlcGxhY2Ugc2hvd24gdGl0bGVzIGluIHRhYnNcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuSW5saW5lVGl0bGVdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIklubGluZVwiLFxuICAgICAgICAgICAgZGVzYzogXCJSZXBsYWNlIHNob3duIHRpdGxlcyBpbiBJbmxpbmUgVGl0bGVcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuQ2FudmFzXToge1xuICAgICAgICAgICAgbmFtZTogXCJDYW52YXNcIixcbiAgICAgICAgICAgIGRlc2M6IFwiUmVwbGFjZSBzaG93biB0aXRsZXMgaW4gQ2FudmFzXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLkJhY2tsaW5rXToge1xuICAgICAgICAgICAgbmFtZTogXCJCYWNrbGlua1wiLFxuICAgICAgICAgICAgZGVzYzogXCJSZXBsYWNlIHNob3duIHRpdGxlcyBpbiBCYWNrbGluayhMaW5rZWQgbWVudGlvbnMpXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLk5vdGVMaW5rXToge1xuICAgICAgICAgICAgbmFtZTogXCJOb3RlIExpbmtcIixcbiAgICAgICAgICAgIGRlc2M6IFwiUmVwbGFjZSBpbnRlcm5hbCBsaW5rcyBpbiBmaWxlc1wiLFxuICAgICAgICAgICAgc3RyYXRlZ3k6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlN0cmF0ZWd5XCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJEZWZpbmUgdGhlIHN0cmF0ZWd5IHdoYXQgdGhlIGZlYXR1cmUgd2lsbCBkbyB3aXRoIGxpbmtzXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBhbGw6IFwiUmVwbGFjZSBhbGwgbGlua3NcIixcbiAgICAgICAgICAgICAgICAgICAgb25seUVtcHR5OiBcIlJlcGxhY2Ugb25seSBsaW5rcyB3aXRob3V0IGFsaWFzXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcHByb3ZhbDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQXBwcm92YWxcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlNob3VsZCBwbHVnaW4gYXNrIHlvdSB0byBhcHByb3ZlIGNoYW5nZXMgb3Igbm90XCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWw6IFwiU2hvdyBhcHByb3ZlIG1vZGFsXCIsXG4gICAgICAgICAgICAgICAgICAgIGF1dG86IFwiVXNlIGF1dG8gYXBwcm92ZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5XaW5kb3dGcmFtZV06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiV2luZG93IEZyYW1lIFRpdGxlXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlJlcGxhY2Ugc2hvd24gdGl0bGUgaW4gd2luZG93IGZyYW1lXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtYW5hZ2U6IFwiTWFuYWdlXCIsXG4gICAgdGVtcGxhdGU6IHtcbiAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICAgIG5hbWU6IFwiRmVhdHVyZSdzIHRlbXBsYXRlc1wiLFxuICAgICAgICAgICAgZGVzYzogXCJNYW5hZ2UgdGVtcGxhdGVzIGZvciB0aGlzIGZlYXR1cmUgaW5kaXZpZHVhbGx5XCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1haW46IFwiTWFpblwiLFxuICAgICAgICBmYWxsYmFjazogXCJGYWxsYmFja1wiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJUeXBlIGEgdGVtcGxhdGVcIixcbiAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICBtYWluOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJDb21tb24gbWFpbiB0ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IGBTZXQgYSB5YW1sIHBhdGgsIHdoaWNoIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyBhIGZpbGUgdGl0bGUuIFZhbHVlIG11c3QgYmUgc3RyaW5nIG9yIG51bWVyaWMuIEFsc28geW91IGNhbiB1c2UgdGVtcGxhdGUtbGlrZSBwYXRoIHVzaW5nIFwie3sgfX1cIi5cblx0XHRcdFx0QWxzbyB5b3UgY2FuIHVzZSAjaGVhZGluZyB0byB1c2UgZmlyc3QgSGVhZGluZyBmcm9tIGEgZmlsZSBvciBfYmFzZW5hbWUgYW5kIGFub3RoZXIgcmVzZXJ2ZWQgd29yZHMuIFxuXHRcdFx0XHRTZWUgUmVhZG1lIHRvIGZpbmQgb3V0IG1vcmVgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbGxiYWNrOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJDb21tb24gZmFsbGJhY2sgdGVtcGxhdGVcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoaXMgdGVtcGxhdGUgd2lsbCBiZSB1c2VkIGFzIGEgZmFsbGJhY2sgb3B0aW9uIGlmIHRoZSBtYWluIHRlbXBsYXRlIGlzIG5vdCByZXNvbHZlZFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlZDogJ0NvbW1vbiB0ZW1wbGF0ZSB3aWxsIGJlIHVzZWQuIEl0XFwncyB2YWx1ZSBpcyBcInt7dmFsdWV9fVwiJyxcbiAgICAgICAgc3BlY2lmaWM6IFwiQ3VycmVudCB0ZW1wbGF0ZSB3aWxsIGJlIHVzZWQgZm9yIHRoaXMgZmVhdHVyZVwiLFxuICAgIH0sXG4gICAgc2V0dGluZ3M6IFwiU2V0dGluZ3MgZm9yIHBsdWdpblwiLFxuICAgIHJ1bGU6IHtcbiAgICAgICAgbmFtZTogXCJSdWxlc1wiLFxuICAgICAgICBwYXRoOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkZpbGUgcGF0aCBydWxlXCIsXG4gICAgICAgICAgICBibGFjazoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQmxhY2sgbGlzdCBtb2RlXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJGaWxlcyB0aGF0IGFyZSBsb2NhdGVkIGJ5IHBhdGhzIHdpbGwgYmUgaWdub3JlZCBieSBwbHVnaW4uIEVhY2ggcGF0aCBtdXN0IGJlIHdyaXR0ZW4gd2l0aCBuZXcgbGluZS5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aGl0ZToge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiV2hpdGUgbGlzdCBtb2RlXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJGaWxlcyB0aGF0IGFyZSBsb2NhdGVkIGJ5IHBhdGhzIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHBsdWdpbi4gRWFjaCBwYXRoIG11c3QgYmUgd3JpdHRlbiB3aXRoIG5ldyBsaW5lLlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZGVsaW1pdGVyOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkxpc3QgdmFsdWVzXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlNldCB0aGUgcnVsZSBhYm91dCBob3cgdG8gcHJvY2VzcyBsaXN0IHZhbHVlc1wiLFxuICAgICAgICAgICAgZmlyc3Q6IFwiVXNlIGZpcnN0IHZhbHVlXCIsXG4gICAgICAgICAgICBqb2luOiBcIkpvaW4gYWxsIGJ5IGRlbGltaXRlclwiLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICAgICAgICBmaXJzdDogXCJGaXJzdCB2YWx1ZSB3aWxsIGJlIHVzZWRcIixcbiAgICAgICAgICAgICAgICBqb2luOiBcIlR5cGUgYSBkZWxpbWl0ZXJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBmZWF0dXJlczogXCJGZWF0dXJlc1wiLFxuICAgIHV0aWw6IFwiVXRpbFwiLFxuICAgIGNvZmZlZTogXCJJZiB5b3UgbGlrZSB0aGlzIHBsdWdpbiBhbmQgeW91IHdvdWxkIGxpa2UgdG8gaGVscCBzdXBwb3J0IGNvbnRpbnVlZCBkZXZlbG9wbWVudCwgeW91IGNhbiB1c2UgdGhlIGJ1dHRvbnMgYmVsb3c6XCIsXG4gICAgZGVidWdfaW5mbzoge1xuICAgICAgICB0aXRsZTogXCJEZWJ1ZyBpbmZvXCIsXG4gICAgICAgIGRlc2M6IFwiU2hvdyBkZWJ1ZyBpbmZvIGFuZCBjYXVnaHQgZXJyb3JzIGluIGNvbnNvbGVcIixcbiAgICB9LFxuICAgIGJvb3RfZGVsYXk6IHtcbiAgICAgICAgdGl0bGU6IFwiQm9vdCBkZWxheVwiLFxuICAgICAgICBkZXNjOiBcIlBsdWdpbiB3aWxsIGJlIGxvYWRlZCB3aXRoIHNwZWNpZmllZCBkZWxheSBpbiBtc1wiLFxuICAgIH0sXG4gICAgYm9vdF9iYWNrZ3JvdW5kOiB7XG4gICAgICAgIHRpdGxlOiBcIkJvb3QgaW4gYmFja2dyb3VuZFwiLFxuICAgICAgICBkZXNjOiBcIlBsdWdpbiB3aWxsIGJlIGxvYWRlZCBpbiBiYWNrZ3JvdW5kIHRvIG5vdCBibG9ja2luZyBhcHBsaWNhdGlvblwiLFxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IFwiRGlzYWJsZWRcIixcbiAgICBwcm9jZXNzb3I6IHtcbiAgICAgICAgbmFtZTogXCJQcm9jZXNzb3JcIixcbiAgICAgICAgZGVzYzogXCJNb2RpZmllcyByZXNvbHZlZCB0aXRsZVwiLFxuICAgICAgICByZXBsYWNlOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlJlcGxhY2VcIixcbiAgICAgICAgICAgIGRlc2M6IFwiV2hhdCB3aWxsIGJlIGV4ZWN1dGVkXCIsXG4gICAgICAgICAgICBwYXR0ZXJuOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJQYXR0ZXJuXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJXaWxsIGJlIHVzZWQgYXMgYSBmaXJzdCBhcmd1bWVudCBvZiBSZWdFeHAgZmlyc3QsIGFuZCB0aGVuIGFzIGEgZmlyc3QgYXJndW1lbnQgb2YgcmVwbGFjZSgpXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkZsYWdzXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJXaWxsIGJlIHVzZWQgYXMgYSBzZWNvbmQgYXJndW1lbnQgb2YgbmV3IFJlZ0V4cFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcGxhY2VtZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJSZXBsYWNlbWVudFwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiV2lsbCBiZSB1c2VkIGFzIGEgc2Vjb25kIGFyZ3VtZW50IG9mIHJlcGxhY2UoKVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgIG5hbWU6IFwiRnVuY3Rpb25cIixcbiAgICAgICAgICAgIGRlc2M6IFwiSG93IGl0IHdpbGwgd29yazpcIixcbiAgICAgICAgICAgIHZhbHVlRGVzYzogXCJZb3VyIHZhbHVlIG9mIHRleHQgYXJlYVwiLFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvblYyOiB7XG4gICAgICAgICAgICBuYW1lOiBcIkZ1bmN0aW9uIFYyXCIsXG4gICAgICAgICAgICBkZXNjOiBcIkhvdyBpdCB3aWxsIHdvcms6XCIsXG4gICAgICAgICAgICB2YWx1ZURlc2M6IFwiWW91ciB2YWx1ZSBvZiB0ZXh0IGFyZWFcIixcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNvbW1hbmQ6IHtcbiAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICAgIHJlbG9hZDogXCJSZWxvYWQgZmVhdHVyZXNcIixcbiAgICAgICAgICAgIGRpc2FibGU6IFwiRGlzYWJsZSBmZWF0dXJlc1wiLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBlbjtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3QgcnU6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IHJ1O1xuIiwgImNvbnN0IGNvbnNvbGVMb2dnZXIgPSB7XG4gIHR5cGU6ICdsb2dnZXInLFxuICBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3IoYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdlcnJvcicsIGFyZ3MpO1xuICB9LFxuICBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3Rvcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmluaXQoY29uY3JldGVMb2dnZXIsIG9wdGlvbnMpO1xuICB9XG4gIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnaTE4bmV4dDonO1xuICAgIHRoaXMubG9nZ2VyID0gY29uY3JldGVMb2dnZXIgfHwgY29uc29sZUxvZ2dlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICB9XG4gIGxvZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2xvZycsICcnLCB0cnVlKTtcbiAgfVxuICB3YXJuKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJycsIHRydWUpO1xuICB9XG4gIGVycm9yKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdlcnJvcicsICcnKTtcbiAgfVxuICBkZXByZWNhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnV0FSTklORyBERVBSRUNBVEVEOiAnLCB0cnVlKTtcbiAgfVxuICBmb3J3YXJkKGFyZ3MsIGx2bCwgcHJlZml4LCBkZWJ1Z09ubHkpIHtcbiAgICBpZiAoZGVidWdPbmx5ICYmICF0aGlzLmRlYnVnKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSBhcmdzWzBdID0gYCR7cHJlZml4fSR7dGhpcy5wcmVmaXh9ICR7YXJnc1swXX1gO1xuICAgIHJldHVybiB0aGlzLmxvZ2dlcltsdmxdKGFyZ3MpO1xuICB9XG4gIGNyZWF0ZShtb2R1bGVOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIodGhpcy5sb2dnZXIsIHtcbiAgICAgIC4uLntcbiAgICAgICAgcHJlZml4OiBgJHt0aGlzLnByZWZpeH06JHttb2R1bGVOYW1lfTpgXG4gICAgICB9LFxuICAgICAgLi4udGhpcy5vcHRpb25zXG4gICAgfSk7XG4gIH1cbiAgY2xvbmUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHRoaXMub3B0aW9ucztcbiAgICBvcHRpb25zLnByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8IHRoaXMucHJlZml4O1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKHRoaXMubG9nZ2VyLCBvcHRpb25zKTtcbiAgfVxufVxudmFyIGJhc2VMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbmNsYXNzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub2JzZXJ2ZXJzID0ge307XG4gIH1cbiAgb24oZXZlbnRzLCBsaXN0ZW5lcikge1xuICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1tldmVudF0pIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSA9IG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0IG51bUxpc3RlbmVycyA9IHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5nZXQobGlzdGVuZXIpIHx8IDA7XG4gICAgICB0aGlzLm9ic2VydmVyc1tldmVudF0uc2V0KGxpc3RlbmVyLCBudW1MaXN0ZW5lcnMgKyAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLm9ic2VydmVyc1tldmVudF0pIHJldHVybjtcbiAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbZXZlbnRdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm9ic2VydmVyc1tldmVudF0uZGVsZXRlKGxpc3RlbmVyKTtcbiAgfVxuICBlbWl0KGV2ZW50KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmICh0aGlzLm9ic2VydmVyc1tldmVudF0pIHtcbiAgICAgIGNvbnN0IGNsb25lZCA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbZXZlbnRdLmVudHJpZXMoKSk7XG4gICAgICBjbG9uZWQuZm9yRWFjaChfcmVmID0+IHtcbiAgICAgICAgbGV0IFtvYnNlcnZlciwgbnVtVGltZXNBZGRlZF0gPSBfcmVmO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVRpbWVzQWRkZWQ7IGkrKykge1xuICAgICAgICAgIG9ic2VydmVyKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzWycqJ10pIHtcbiAgICAgIGNvbnN0IGNsb25lZCA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnNbJyonXS5lbnRyaWVzKCkpO1xuICAgICAgY2xvbmVkLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICBsZXQgW29ic2VydmVyLCBudW1UaW1lc0FkZGVkXSA9IF9yZWYyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVRpbWVzQWRkZWQ7IGkrKykge1xuICAgICAgICAgIG9ic2VydmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnQsIC4uLmFyZ3NdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmVyKCkge1xuICBsZXQgcmVzO1xuICBsZXQgcmVqO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcyA9IHJlc29sdmU7XG4gICAgcmVqID0gcmVqZWN0O1xuICB9KTtcbiAgcHJvbWlzZS5yZXNvbHZlID0gcmVzO1xuICBwcm9taXNlLnJlamVjdCA9IHJlajtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBtYWtlU3RyaW5nKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAnJztcbiAgcmV0dXJuICcnICsgb2JqZWN0O1xufVxuZnVuY3Rpb24gY29weShhLCBzLCB0KSB7XG4gIGEuZm9yRWFjaChtID0+IHtcbiAgICBpZiAoc1ttXSkgdFttXSA9IHNbbV07XG4gIH0pO1xufVxuY29uc3QgbGFzdE9mUGF0aFNlcGFyYXRvclJlZ0V4cCA9IC8jIyMvZztcbmZ1bmN0aW9uIGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBFbXB0eSkge1xuICBmdW5jdGlvbiBjbGVhbktleShrZXkpIHtcbiAgICByZXR1cm4ga2V5ICYmIGtleS5pbmRleE9mKCcjIyMnKSA+IC0xID8ga2V5LnJlcGxhY2UobGFzdE9mUGF0aFNlcGFyYXRvclJlZ0V4cCwgJy4nKSA6IGtleTtcbiAgfVxuICBmdW5jdGlvbiBjYW5Ob3RUcmF2ZXJzZURlZXBlcigpIHtcbiAgICByZXR1cm4gIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJztcbiAgfVxuICBjb25zdCBzdGFjayA9IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyA/IHBhdGggOiBwYXRoLnNwbGl0KCcuJyk7XG4gIGxldCBzdGFja0luZGV4ID0gMDtcbiAgd2hpbGUgKHN0YWNrSW5kZXggPCBzdGFjay5sZW5ndGggLSAxKSB7XG4gICAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKCkpIHJldHVybiB7fTtcbiAgICBjb25zdCBrZXkgPSBjbGVhbktleShzdGFja1tzdGFja0luZGV4XSk7XG4gICAgaWYgKCFvYmplY3Rba2V5XSAmJiBFbXB0eSkgb2JqZWN0W2tleV0gPSBuZXcgRW1wdHkoKTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdCA9IHt9O1xuICAgIH1cbiAgICArK3N0YWNrSW5kZXg7XG4gIH1cbiAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKCkpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBvYmo6IG9iamVjdCxcbiAgICBrOiBjbGVhbktleShzdGFja1tzdGFja0luZGV4XSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHNldFBhdGgob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSkge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBpZiAob2JqICE9PSB1bmRlZmluZWQgfHwgcGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBvYmpba10gPSBuZXdWYWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGUgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGxldCBwID0gcGF0aC5zbGljZSgwLCBwYXRoLmxlbmd0aCAtIDEpO1xuICBsZXQgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICB3aGlsZSAobGFzdC5vYmogPT09IHVuZGVmaW5lZCAmJiBwLmxlbmd0aCkge1xuICAgIGUgPSBgJHtwW3AubGVuZ3RoIC0gMV19LiR7ZX1gO1xuICAgIHAgPSBwLnNsaWNlKDAsIHAubGVuZ3RoIC0gMSk7XG4gICAgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3Qub2JqICYmIHR5cGVvZiBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhc3Qub2JqID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSA9IG5ld1ZhbHVlO1xufVxuZnVuY3Rpb24gcHVzaFBhdGgob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSwgY29uY2F0KSB7XG4gIGNvbnN0IHtcbiAgICBvYmosXG4gICAga1xuICB9ID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCk7XG4gIG9ialtrXSA9IG9ialtrXSB8fCBbXTtcbiAgb2JqW2tdLnB1c2gobmV3VmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0UGF0aChvYmplY3QsIHBhdGgpIHtcbiAgY29uc3Qge1xuICAgIG9iaixcbiAgICBrXG4gIH0gPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcGF0aCk7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICByZXR1cm4gb2JqW2tdO1xufVxuZnVuY3Rpb24gZ2V0UGF0aFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSB7XG4gIGNvbnN0IHZhbHVlID0gZ2V0UGF0aChkYXRhLCBrZXkpO1xuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gZ2V0UGF0aChkZWZhdWx0RGF0YSwga2V5KTtcbn1cbmZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UsIG92ZXJ3cml0ZSkge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgaWYgKHByb3AgIT09ICdfX3Byb3RvX18nICYmIHByb3AgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIGlmIChwcm9wIGluIHRhcmdldCkge1xuICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtwcm9wXSA9PT0gJ3N0cmluZycgfHwgdGFyZ2V0W3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nIHx8IHR5cGVvZiBzb3VyY2VbcHJvcF0gPT09ICdzdHJpbmcnIHx8IHNvdXJjZVtwcm9wXSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgIGlmIChvdmVyd3JpdGUpIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdLCBvdmVyd3JpdGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiByZWdleEVzY2FwZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xufVxudmFyIF9lbnRpdHlNYXAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG4gICcvJzogJyYjeDJGOydcbn07XG5mdW5jdGlvbiBlc2NhcGUoZGF0YSkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRhdGEucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgcyA9PiBfZW50aXR5TWFwW3NdKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cbmNsYXNzIFJlZ0V4cENhY2hlIHtcbiAgY29uc3RydWN0b3IoY2FwYWNpdHkpIHtcbiAgICB0aGlzLmNhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgdGhpcy5yZWdFeHBNYXAgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZWdFeHBRdWV1ZSA9IFtdO1xuICB9XG4gIGdldFJlZ0V4cChwYXR0ZXJuKSB7XG4gICAgY29uc3QgcmVnRXhwRnJvbUNhY2hlID0gdGhpcy5yZWdFeHBNYXAuZ2V0KHBhdHRlcm4pO1xuICAgIGlmIChyZWdFeHBGcm9tQ2FjaGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHJlZ0V4cEZyb21DYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcmVnRXhwTmV3ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgICBpZiAodGhpcy5yZWdFeHBRdWV1ZS5sZW5ndGggPT09IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgIHRoaXMucmVnRXhwTWFwLmRlbGV0ZSh0aGlzLnJlZ0V4cFF1ZXVlLnNoaWZ0KCkpO1xuICAgIH1cbiAgICB0aGlzLnJlZ0V4cE1hcC5zZXQocGF0dGVybiwgcmVnRXhwTmV3KTtcbiAgICB0aGlzLnJlZ0V4cFF1ZXVlLnB1c2gocGF0dGVybik7XG4gICAgcmV0dXJuIHJlZ0V4cE5ldztcbiAgfVxufVxuY29uc3QgY2hhcnMgPSBbJyAnLCAnLCcsICc/JywgJyEnLCAnOyddO1xuY29uc3QgbG9va3NMaWtlT2JqZWN0UGF0aFJlZ0V4cENhY2hlID0gbmV3IFJlZ0V4cENhY2hlKDIwKTtcbmZ1bmN0aW9uIGxvb2tzTGlrZU9iamVjdFBhdGgoa2V5LCBuc1NlcGFyYXRvciwga2V5U2VwYXJhdG9yKSB7XG4gIG5zU2VwYXJhdG9yID0gbnNTZXBhcmF0b3IgfHwgJyc7XG4gIGtleVNlcGFyYXRvciA9IGtleVNlcGFyYXRvciB8fCAnJztcbiAgY29uc3QgcG9zc2libGVDaGFycyA9IGNoYXJzLmZpbHRlcihjID0+IG5zU2VwYXJhdG9yLmluZGV4T2YoYykgPCAwICYmIGtleVNlcGFyYXRvci5pbmRleE9mKGMpIDwgMCk7XG4gIGlmIChwb3NzaWJsZUNoYXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IHIgPSBsb29rc0xpa2VPYmplY3RQYXRoUmVnRXhwQ2FjaGUuZ2V0UmVnRXhwKGAoJHtwb3NzaWJsZUNoYXJzLm1hcChjID0+IGMgPT09ICc/JyA/ICdcXFxcPycgOiBjKS5qb2luKCd8Jyl9KWApO1xuICBsZXQgbWF0Y2hlZCA9ICFyLnRlc3Qoa2V5KTtcbiAgaWYgKCFtYXRjaGVkKSB7XG4gICAgY29uc3Qga2kgPSBrZXkuaW5kZXhPZihrZXlTZXBhcmF0b3IpO1xuICAgIGlmIChraSA+IDAgJiYgIXIudGVzdChrZXkuc3Vic3RyaW5nKDAsIGtpKSkpIHtcbiAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0Y2hlZDtcbn1cbmZ1bmN0aW9uIGRlZXBGaW5kKG9iaiwgcGF0aCkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnLic7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAob2JqW3BhdGhdKSByZXR1cm4gb2JqW3BhdGhdO1xuICBjb25zdCB0b2tlbnMgPSBwYXRoLnNwbGl0KGtleVNlcGFyYXRvcik7XG4gIGxldCBjdXJyZW50ID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7KSB7XG4gICAgaWYgKCFjdXJyZW50IHx8IHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IG5leHQ7XG4gICAgbGV0IG5leHRQYXRoID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCB0b2tlbnMubGVuZ3RoOyArK2opIHtcbiAgICAgIGlmIChqICE9PSBpKSB7XG4gICAgICAgIG5leHRQYXRoICs9IGtleVNlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIG5leHRQYXRoICs9IHRva2Vuc1tqXTtcbiAgICAgIG5leHQgPSBjdXJyZW50W25leHRQYXRoXTtcbiAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ10uaW5kZXhPZih0eXBlb2YgbmV4dCkgPiAtMSAmJiBqIDwgdG9rZW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IGogLSBpICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGN1cnJlbnQgPSBuZXh0O1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZ2V0Q2xlYW5lZENvZGUoY29kZSkge1xuICBpZiAoY29kZSAmJiBjb2RlLmluZGV4T2YoJ18nKSA+IDApIHJldHVybiBjb2RlLnJlcGxhY2UoJ18nLCAnLScpO1xuICByZXR1cm4gY29kZTtcbn1cblxuY2xhc3MgUmVzb3VyY2VTdG9yZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICAgIGRlZmF1bHROUzogJ3RyYW5zbGF0aW9uJ1xuICAgIH07XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgYWRkTmFtZXNwYWNlcyhucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgfVxuICB9XG4gIHJlbW92ZU5hbWVzcGFjZXMobnMpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5vcHRpb25zLm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIGdldFJlc291cmNlKGxuZywgbnMsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBvcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA6IHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO1xuICAgIGxldCBwYXRoO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleVNlcGFyYXRvcikge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgpO1xuICAgIGlmICghcmVzdWx0ICYmICFucyAmJiAha2V5ICYmIGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgbG5nID0gcGF0aFswXTtcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICAgIGtleSA9IHBhdGguc2xpY2UoMikuam9pbignLicpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IHx8ICFpZ25vcmVKU09OU3RydWN0dXJlIHx8IHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhW2xuZ10gJiYgdGhpcy5kYXRhW2xuZ11bbnNdLCBrZXksIGtleVNlcGFyYXRvcik7XG4gIH1cbiAgYWRkUmVzb3VyY2UobG5nLCBucywga2V5LCB2YWx1ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlXG4gICAgfTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGxldCBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChrZXkpIHBhdGggPSBwYXRoLmNvbmNhdChrZXlTZXBhcmF0b3IgPyBrZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSA6IGtleSk7XG4gICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgcGF0aCA9IGxuZy5zcGxpdCgnLicpO1xuICAgICAgdmFsdWUgPSBucztcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICB9XG4gICAgdGhpcy5hZGROYW1lc3BhY2VzKG5zKTtcbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCBrZXksIHZhbHVlKTtcbiAgfVxuICBhZGRSZXNvdXJjZXMobG5nLCBucywgcmVzb3VyY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2VcbiAgICB9O1xuICAgIGZvciAoY29uc3QgbSBpbiByZXNvdXJjZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2VzW21dID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KHJlc291cmNlc1ttXSkpIHRoaXMuYWRkUmVzb3VyY2UobG5nLCBucywgbSwgcmVzb3VyY2VzW21dLCB7XG4gICAgICAgIHNpbGVudDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCByZXNvdXJjZXMpO1xuICB9XG4gIGFkZFJlc291cmNlQnVuZGxlKGxuZywgbnMsIHJlc291cmNlcywgZGVlcCwgb3ZlcndyaXRlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICBza2lwQ29weTogZmFsc2VcbiAgICB9O1xuICAgIGxldCBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICAgIGRlZXAgPSByZXNvdXJjZXM7XG4gICAgICByZXNvdXJjZXMgPSBucztcbiAgICAgIG5zID0gcGF0aFsxXTtcbiAgICB9XG4gICAgdGhpcy5hZGROYW1lc3BhY2VzKG5zKTtcbiAgICBsZXQgcGFjayA9IGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKSB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMuc2tpcENvcHkpIHJlc291cmNlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzb3VyY2VzKSk7XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGRlZXBFeHRlbmQocGFjaywgcmVzb3VyY2VzLCBvdmVyd3JpdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNrID0ge1xuICAgICAgICAuLi5wYWNrLFxuICAgICAgICAuLi5yZXNvdXJjZXNcbiAgICAgIH07XG4gICAgfVxuICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCBwYWNrKTtcbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgfVxuICByZW1vdmVSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmRhdGFbbG5nXVtuc107XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlTmFtZXNwYWNlcyhucyk7XG4gICAgdGhpcy5lbWl0KCdyZW1vdmVkJywgbG5nLCBucyk7XG4gIH1cbiAgaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlKGxuZywgbnMpICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgZ2V0UmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLmRlZmF1bHROUztcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgPT09ICd2MScpIHJldHVybiB7XG4gICAgICAuLi57fSxcbiAgICAgIC4uLnRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucylcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLmdldFJlc291cmNlKGxuZywgbnMpO1xuICB9XG4gIGdldERhdGFCeUxhbmd1YWdlKGxuZykge1xuICAgIHJldHVybiB0aGlzLmRhdGFbbG5nXTtcbiAgfVxuICBoYXNMYW5ndWFnZVNvbWVUcmFuc2xhdGlvbnMobG5nKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YUJ5TGFuZ3VhZ2UobG5nKTtcbiAgICBjb25zdCBuID0gZGF0YSAmJiBPYmplY3Qua2V5cyhkYXRhKSB8fCBbXTtcbiAgICByZXR1cm4gISFuLmZpbmQodiA9PiBkYXRhW3ZdICYmIE9iamVjdC5rZXlzKGRhdGFbdl0pLmxlbmd0aCA+IDApO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG59XG5cbnZhciBwb3N0UHJvY2Vzc29yID0ge1xuICBwcm9jZXNzb3JzOiB7fSxcbiAgYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpIHtcbiAgICB0aGlzLnByb2Nlc3NvcnNbbW9kdWxlLm5hbWVdID0gbW9kdWxlO1xuICB9LFxuICBoYW5kbGUocHJvY2Vzc29ycywgdmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcikge1xuICAgIHByb2Nlc3NvcnMuZm9yRWFjaChwcm9jZXNzb3IgPT4ge1xuICAgICAgaWYgKHRoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdKSB2YWx1ZSA9IHRoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdLnByb2Nlc3ModmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG5jb25zdCBjaGVja2VkTG9hZGVkRm9yID0ge307XG5jbGFzcyBUcmFuc2xhdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Ioc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgc3VwZXIoKTtcbiAgICBjb3B5KFsncmVzb3VyY2VTdG9yZScsICdsYW5ndWFnZVV0aWxzJywgJ3BsdXJhbFJlc29sdmVyJywgJ2ludGVycG9sYXRvcicsICdiYWNrZW5kQ29ubmVjdG9yJywgJ2kxOG5Gb3JtYXQnLCAndXRpbHMnXSwgc2VydmljZXMsIHRoaXMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgndHJhbnNsYXRvcicpO1xuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZykge1xuICAgIGlmIChsbmcpIHRoaXMubGFuZ3VhZ2UgPSBsbmc7XG4gIH1cbiAgZXhpc3RzKGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnRlcnBvbGF0aW9uOiB7fVxuICAgIH07XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZShrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXMgIT09IHVuZGVmaW5lZDtcbiAgfVxuICBleHRyYWN0RnJvbUtleShrZXksIG9wdGlvbnMpIHtcbiAgICBsZXQgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zU2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgIGlmIChuc1NlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSBuc1NlcGFyYXRvciA9ICc6JztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGxldCBuYW1lc3BhY2VzID0gb3B0aW9ucy5ucyB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TIHx8IFtdO1xuICAgIGNvbnN0IHdvdWxkQ2hlY2tGb3JOc0luS2V5ID0gbnNTZXBhcmF0b3IgJiYga2V5LmluZGV4T2YobnNTZXBhcmF0b3IpID4gLTE7XG4gICAgY29uc3Qgc2VlbXNOYXR1cmFsTGFuZ3VhZ2UgPSAhdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yICYmICFvcHRpb25zLmtleVNlcGFyYXRvciAmJiAhdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkTnNTZXBhcmF0b3IgJiYgIW9wdGlvbnMubnNTZXBhcmF0b3IgJiYgIWxvb2tzTGlrZU9iamVjdFBhdGgoa2V5LCBuc1NlcGFyYXRvciwga2V5U2VwYXJhdG9yKTtcbiAgICBpZiAod291bGRDaGVja0Zvck5zSW5LZXkgJiYgIXNlZW1zTmF0dXJhbExhbmd1YWdlKSB7XG4gICAgICBjb25zdCBtID0ga2V5Lm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuICAgICAgaWYgKG0gJiYgbS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5hbWVzcGFjZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KG5zU2VwYXJhdG9yKTtcbiAgICAgIGlmIChuc1NlcGFyYXRvciAhPT0ga2V5U2VwYXJhdG9yIHx8IG5zU2VwYXJhdG9yID09PSBrZXlTZXBhcmF0b3IgJiYgdGhpcy5vcHRpb25zLm5zLmluZGV4T2YocGFydHNbMF0pID4gLTEpIG5hbWVzcGFjZXMgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAga2V5ID0gcGFydHMuam9pbihrZXlTZXBhcmF0b3IpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgIHJldHVybiB7XG4gICAgICBrZXksXG4gICAgICBuYW1lc3BhY2VzXG4gICAgfTtcbiAgfVxuICB0cmFuc2xhdGUoa2V5cywgb3B0aW9ucywgbGFzdEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBbU3RyaW5nKGtleXMpXTtcbiAgICBjb25zdCByZXR1cm5EZXRhaWxzID0gb3B0aW9ucy5yZXR1cm5EZXRhaWxzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJldHVybkRldGFpbHMgOiB0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IHtcbiAgICAgIGtleSxcbiAgICAgIG5hbWVzcGFjZXNcbiAgICB9ID0gdGhpcy5leHRyYWN0RnJvbUtleShrZXlzW2tleXMubGVuZ3RoIC0gMV0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzcGFjZXNbbmFtZXNwYWNlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlO1xuICAgIGNvbnN0IGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG4gICAgaWYgKGxuZyAmJiBsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHtcbiAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICBjb25zdCBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXM6IGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWAsXG4gICAgICAgICAgICB1c2VkS2V5OiBrZXksXG4gICAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICAgIHVzZWRMbmc6IGxuZyxcbiAgICAgICAgICAgIHVzZWROUzogbmFtZXNwYWNlLFxuICAgICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWA7XG4gICAgICB9XG4gICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlczoga2V5LFxuICAgICAgICAgIHVzZWRLZXk6IGtleSxcbiAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICB1c2VkTG5nOiBsbmcsXG4gICAgICAgICAgdXNlZE5TOiBuYW1lc3BhY2UsXG4gICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG4gICAgbGV0IHJlcyA9IHJlc29sdmVkICYmIHJlc29sdmVkLnJlcztcbiAgICBjb25zdCByZXNVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQudXNlZEtleSB8fCBrZXk7XG4gICAgY29uc3QgcmVzRXhhY3RVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQuZXhhY3RVc2VkS2V5IHx8IGtleTtcbiAgICBjb25zdCByZXNUeXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShyZXMpO1xuICAgIGNvbnN0IG5vT2JqZWN0ID0gWydbb2JqZWN0IE51bWJlcl0nLCAnW29iamVjdCBGdW5jdGlvbl0nLCAnW29iamVjdCBSZWdFeHBdJ107XG4gICAgY29uc3Qgam9pbkFycmF5cyA9IG9wdGlvbnMuam9pbkFycmF5cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5qb2luQXJyYXlzIDogdGhpcy5vcHRpb25zLmpvaW5BcnJheXM7XG4gICAgY29uc3QgaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgPSAhdGhpcy5pMThuRm9ybWF0IHx8IHRoaXMuaTE4bkZvcm1hdC5oYW5kbGVBc09iamVjdDtcbiAgICBjb25zdCBoYW5kbGVBc09iamVjdCA9IHR5cGVvZiByZXMgIT09ICdzdHJpbmcnICYmIHR5cGVvZiByZXMgIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVzICE9PSAnbnVtYmVyJztcbiAgICBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgcmVzICYmIGhhbmRsZUFzT2JqZWN0ICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEodHlwZW9mIGpvaW5BcnJheXMgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkocmVzKSkpIHtcbiAgICAgIGlmICghb3B0aW9ucy5yZXR1cm5PYmplY3RzICYmICF0aGlzLm9wdGlvbnMucmV0dXJuT2JqZWN0cykge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdhY2Nlc3NpbmcgYW4gb2JqZWN0IC0gYnV0IHJldHVybk9iamVjdHMgb3B0aW9ucyBpcyBub3QgZW5hYmxlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlciA/IHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIocmVzVXNlZEtleSwgcmVzLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBuczogbmFtZXNwYWNlc1xuICAgICAgICB9KSA6IGBrZXkgJyR7a2V5fSAoJHt0aGlzLmxhbmd1YWdlfSknIHJldHVybmVkIGFuIG9iamVjdCBpbnN0ZWFkIG9mIHN0cmluZy5gO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJlc29sdmVkLnJlcyA9IHI7XG4gICAgICAgICAgcmVzb2x2ZWQudXNlZFBhcmFtcyA9IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucyk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgICAgaWYgKGtleVNlcGFyYXRvcikge1xuICAgICAgICBjb25zdCByZXNUeXBlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkocmVzKTtcbiAgICAgICAgY29uc3QgY29weSA9IHJlc1R5cGVJc0FycmF5ID8gW10gOiB7fTtcbiAgICAgICAgY29uc3QgbmV3S2V5VG9Vc2UgPSByZXNUeXBlSXNBcnJheSA/IHJlc0V4YWN0VXNlZEtleSA6IHJlc1VzZWRLZXk7XG4gICAgICAgIGZvciAoY29uc3QgbSBpbiByZXMpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZXBLZXkgPSBgJHtuZXdLZXlUb1VzZX0ke2tleVNlcGFyYXRvcn0ke219YDtcbiAgICAgICAgICAgIGNvcHlbbV0gPSB0aGlzLnRyYW5zbGF0ZShkZWVwS2V5LCB7XG4gICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgIC4uLntcbiAgICAgICAgICAgICAgICBqb2luQXJyYXlzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuczogbmFtZXNwYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjb3B5W21dID09PSBkZWVwS2V5KSBjb3B5W21dID0gcmVzW21dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMgPSBjb3B5O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgdHlwZW9mIGpvaW5BcnJheXMgPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkocmVzKSkge1xuICAgICAgcmVzID0gcmVzLmpvaW4oam9pbkFycmF5cyk7XG4gICAgICBpZiAocmVzKSByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgbGFzdEtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB1c2VkRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgbGV0IHVzZWRLZXkgPSBmYWxzZTtcbiAgICAgIGNvbnN0IG5lZWRzUGx1cmFsSGFuZGxpbmcgPSBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT09ICdzdHJpbmcnO1xuICAgICAgY29uc3QgaGFzRGVmYXVsdFZhbHVlID0gVHJhbnNsYXRvci5oYXNEZWZhdWx0VmFsdWUob3B0aW9ucyk7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWVTdWZmaXggPSBuZWVkc1BsdXJhbEhhbmRsaW5nID8gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKSA6ICcnO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlU3VmZml4T3JkaW5hbEZhbGxiYWNrID0gb3B0aW9ucy5vcmRpbmFsICYmIG5lZWRzUGx1cmFsSGFuZGxpbmcgPyB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChsbmcsIG9wdGlvbnMuY291bnQsIHtcbiAgICAgICAgb3JkaW5hbDogZmFsc2VcbiAgICAgIH0pIDogJyc7XG4gICAgICBjb25zdCBuZWVkc1plcm9TdWZmaXhMb29rdXAgPSBuZWVkc1BsdXJhbEhhbmRsaW5nICYmICFvcHRpb25zLm9yZGluYWwgJiYgb3B0aW9ucy5jb3VudCA9PT0gMCAmJiB0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKTtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG5lZWRzWmVyb1N1ZmZpeExvb2t1cCAmJiBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdIHx8IG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7ZGVmYXVsdFZhbHVlU3VmZml4fWBdIHx8IG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7ZGVmYXVsdFZhbHVlU3VmZml4T3JkaW5hbEZhbGxiYWNrfWBdIHx8IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSAmJiBoYXNEZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdXNlZERlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChyZXMpKSB7XG4gICAgICAgIHVzZWRLZXkgPSB0cnVlO1xuICAgICAgICByZXMgPSBrZXk7XG4gICAgICB9XG4gICAgICBjb25zdCBtaXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgPSBvcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSB8fCB0aGlzLm9wdGlvbnMubWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5O1xuICAgICAgY29uc3QgcmVzRm9yTWlzc2luZyA9IG1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleSAmJiB1c2VkS2V5ID8gdW5kZWZpbmVkIDogcmVzO1xuICAgICAgY29uc3QgdXBkYXRlTWlzc2luZyA9IGhhc0RlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUgIT09IHJlcyAmJiB0aGlzLm9wdGlvbnMudXBkYXRlTWlzc2luZztcbiAgICAgIGlmICh1c2VkS2V5IHx8IHVzZWREZWZhdWx0IHx8IHVwZGF0ZU1pc3NpbmcpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKHVwZGF0ZU1pc3NpbmcgPyAndXBkYXRlS2V5JyA6ICdtaXNzaW5nS2V5JywgbG5nLCBuYW1lc3BhY2UsIGtleSwgdXBkYXRlTWlzc2luZyA/IGRlZmF1bHRWYWx1ZSA6IHJlcyk7XG4gICAgICAgIGlmIChrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgICBjb25zdCBmayA9IHRoaXMucmVzb2x2ZShrZXksIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGZrICYmIGZrLnJlcykgdGhpcy5sb2dnZXIud2FybignU2VlbXMgdGhlIGxvYWRlZCB0cmFuc2xhdGlvbnMgd2VyZSBpbiBmbGF0IEpTT04gZm9ybWF0IGluc3RlYWQgb2YgbmVzdGVkLiBFaXRoZXIgc2V0IGtleVNlcGFyYXRvcjogZmFsc2Ugb24gaW5pdCBvciBtYWtlIHN1cmUgeW91ciB0cmFuc2xhdGlvbnMgYXJlIHB1Ymxpc2hlZCBpbiBuZXN0ZWQgZm9ybWF0LicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsbmdzID0gW107XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrTG5ncyA9IHRoaXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZywgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbyA9PT0gJ2ZhbGxiYWNrJyAmJiBmYWxsYmFja0xuZ3MgJiYgZmFsbGJhY2tMbmdzWzBdKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWxsYmFja0xuZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxuZ3MucHVzaChmYWxsYmFja0xuZ3NbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdUbyA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICBsbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsbmdzLnB1c2gob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VuZCA9IChsLCBrLCBzcGVjaWZpY0RlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRGb3JNaXNzaW5nID0gaGFzRGVmYXVsdFZhbHVlICYmIHNwZWNpZmljRGVmYXVsdFZhbHVlICE9PSByZXMgPyBzcGVjaWZpY0RlZmF1bHRWYWx1ZSA6IHJlc0Zvck1pc3Npbmc7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyKGwsIG5hbWVzcGFjZSwgaywgZGVmYXVsdEZvck1pc3NpbmcsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5iYWNrZW5kQ29ubmVjdG9yICYmIHRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZykge1xuICAgICAgICAgICAgdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nKGwsIG5hbWVzcGFjZSwgaywgZGVmYXVsdEZvck1pc3NpbmcsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVtaXQoJ21pc3NpbmdLZXknLCBsLCBuYW1lc3BhY2UsIGssIHJlcyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nUGx1cmFscyAmJiBuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICBsbmdzLmZvckVhY2gobGFuZ3VhZ2UgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdWZmaXhlcyA9IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4ZXMobGFuZ3VhZ2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwICYmIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYF0gJiYgc3VmZml4ZXMuaW5kZXhPZihgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKSA8IDApIHtcbiAgICAgICAgICAgICAgICBzdWZmaXhlcy5wdXNoKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1ZmZpeGVzLmZvckVhY2goc3VmZml4ID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kKFtsYW5ndWFnZV0sIGtleSArIHN1ZmZpeCwgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHtzdWZmaXh9YF0gfHwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VuZChsbmdzLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgcmVzb2x2ZWQsIGxhc3RLZXkpO1xuICAgICAgaWYgKHVzZWRLZXkgJiYgcmVzID09PSBrZXkgJiYgdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSkgcmVzID0gYCR7bmFtZXNwYWNlfToke2tleX1gO1xuICAgICAgaWYgKCh1c2VkS2V5IHx8IHVzZWREZWZhdWx0KSAmJiB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScpIHtcbiAgICAgICAgICByZXMgPSB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5ID8gYCR7bmFtZXNwYWNlfToke2tleX1gIDoga2V5LCB1c2VkRGVmYXVsdCA/IHJlcyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIocmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgcmVzb2x2ZWQucmVzID0gcmVzO1xuICAgICAgcmVzb2x2ZWQudXNlZFBhcmFtcyA9IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucyk7XG4gICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZXh0ZW5kVHJhbnNsYXRpb24ocmVzLCBrZXksIG9wdGlvbnMsIHJlc29sdmVkLCBsYXN0S2V5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAodGhpcy5pMThuRm9ybWF0ICYmIHRoaXMuaTE4bkZvcm1hdC5wYXJzZSkge1xuICAgICAgcmVzID0gdGhpcy5pMThuRm9ybWF0LnBhcnNlKHJlcywge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9LCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmcsIHJlc29sdmVkLnVzZWROUywgcmVzb2x2ZWQudXNlZEtleSwge1xuICAgICAgICByZXNvbHZlZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghb3B0aW9ucy5za2lwSW50ZXJwb2xhdGlvbikge1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IuaW5pdCh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLntcbiAgICAgICAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuaW50ZXJwb2xhdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSB0eXBlb2YgcmVzID09PSAnc3RyaW5nJyAmJiAob3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyA6IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyk7XG4gICAgICBsZXQgbmVzdEJlZjtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmIgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIG5lc3RCZWYgPSBuYiAmJiBuYi5sZW5ndGg7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiB0eXBlb2Ygb3B0aW9ucy5yZXBsYWNlICE9PSAnc3RyaW5nJyA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykgZGF0YSA9IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCBvcHRpb25zKTtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmEgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIGNvbnN0IG5lc3RBZnQgPSBuYSAmJiBuYS5sZW5ndGg7XG4gICAgICAgIGlmIChuZXN0QmVmIDwgbmVzdEFmdCkgb3B0aW9ucy5uZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMubG5nICYmIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnICYmIHJlc29sdmVkICYmIHJlc29sdmVkLnJlcykgb3B0aW9ucy5sbmcgPSB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmc7XG4gICAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEtleSAmJiBsYXN0S2V5WzBdID09PSBhcmdzWzBdICYmICFvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihgSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogJHthcmdzWzBdfSBpbiBrZXk6ICR7a2V5WzBdfWApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcy50cmFuc2xhdGUoLi4uYXJncywga2V5KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKTtcbiAgICB9XG4gICAgY29uc3QgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICBjb25zdCBwb3N0UHJvY2Vzc29yTmFtZXMgPSB0eXBlb2YgcG9zdFByb2Nlc3MgPT09ICdzdHJpbmcnID8gW3Bvc3RQcm9jZXNzXSA6IHBvc3RQcm9jZXNzO1xuICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCAmJiByZXMgIT09IG51bGwgJiYgcG9zdFByb2Nlc3Nvck5hbWVzICYmIHBvc3RQcm9jZXNzb3JOYW1lcy5sZW5ndGggJiYgb3B0aW9ucy5hcHBseVBvc3RQcm9jZXNzb3IgIT09IGZhbHNlKSB7XG4gICAgICByZXMgPSBwb3N0UHJvY2Vzc29yLmhhbmRsZShwb3N0UHJvY2Vzc29yTmFtZXMsIHJlcywga2V5LCB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkID8ge1xuICAgICAgICBpMThuUmVzb2x2ZWQ6IHtcbiAgICAgICAgICAuLi5yZXNvbHZlZCxcbiAgICAgICAgICB1c2VkUGFyYW1zOiB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpXG4gICAgICAgIH0sXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH0gOiBvcHRpb25zLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXNvbHZlKGtleXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgbGV0IGZvdW5kO1xuICAgIGxldCB1c2VkS2V5O1xuICAgIGxldCBleGFjdFVzZWRLZXk7XG4gICAgbGV0IHVzZWRMbmc7XG4gICAgbGV0IHVzZWROUztcbiAgICBpZiAodHlwZW9mIGtleXMgPT09ICdzdHJpbmcnKSBrZXlzID0gW2tleXNdO1xuICAgIGtleXMuZm9yRWFjaChrID0+IHtcbiAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICBjb25zdCBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RGcm9tS2V5KGssIG9wdGlvbnMpO1xuICAgICAgY29uc3Qga2V5ID0gZXh0cmFjdGVkLmtleTtcbiAgICAgIHVzZWRLZXkgPSBrZXk7XG4gICAgICBsZXQgbmFtZXNwYWNlcyA9IGV4dHJhY3RlZC5uYW1lc3BhY2VzO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja05TKSBuYW1lc3BhY2VzID0gbmFtZXNwYWNlcy5jb25jYXQodGhpcy5vcHRpb25zLmZhbGxiYWNrTlMpO1xuICAgICAgY29uc3QgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3N0cmluZyc7XG4gICAgICBjb25zdCBuZWVkc1plcm9TdWZmaXhMb29rdXAgPSBuZWVkc1BsdXJhbEhhbmRsaW5nICYmICFvcHRpb25zLm9yZGluYWwgJiYgb3B0aW9ucy5jb3VudCA9PT0gMCAmJiB0aGlzLnBsdXJhbFJlc29sdmVyLnNob3VsZFVzZUludGxBcGkoKTtcbiAgICAgIGNvbnN0IG5lZWRzQ29udGV4dEhhbmRsaW5nID0gb3B0aW9ucy5jb250ZXh0ICE9PSB1bmRlZmluZWQgJiYgKHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdudW1iZXInKSAmJiBvcHRpb25zLmNvbnRleHQgIT09ICcnO1xuICAgICAgY29uc3QgY29kZXMgPSBvcHRpb25zLmxuZ3MgPyBvcHRpb25zLmxuZ3MgOiB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UsIG9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgICAgdXNlZE5TID0gbnM7XG4gICAgICAgIGlmICghY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSAmJiB0aGlzLnV0aWxzICYmIHRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlICYmICF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSh1c2VkTlMpKSB7XG4gICAgICAgICAgY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2Fybihga2V5IFwiJHt1c2VkS2V5fVwiIGZvciBsYW5ndWFnZXMgXCIke2NvZGVzLmpvaW4oJywgJyl9XCIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSBcIiR7dXNlZE5TfVwiIHdhcyBub3QgeWV0IGxvYWRlZGAsICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgdXNlZExuZyA9IGNvZGU7XG4gICAgICAgICAgY29uc3QgZmluYWxLZXlzID0gW2tleV07XG4gICAgICAgICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cykge1xuICAgICAgICAgICAgdGhpcy5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMoZmluYWxLZXlzLCBrZXksIGNvZGUsIG5zLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBsdXJhbFN1ZmZpeDtcbiAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSBwbHVyYWxTdWZmaXggPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChjb2RlLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHplcm9TdWZmaXggPSBgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gO1xuICAgICAgICAgICAgY29uc3Qgb3JkaW5hbFByZWZpeCA9IGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9b3JkaW5hbCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1gO1xuICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgemVyb1N1ZmZpeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkc0NvbnRleHRIYW5kbGluZykge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZXh0S2V5ID0gYCR7a2V5fSR7dGhpcy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3J9JHtvcHRpb25zLmNvbnRleHR9YDtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHplcm9TdWZmaXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcG9zc2libGVLZXk7XG4gICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHtcbiAgICAgICAgICAgICAgZXhhY3RVc2VkS2V5ID0gcG9zc2libGVLZXk7XG4gICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzOiBmb3VuZCxcbiAgICAgIHVzZWRLZXksXG4gICAgICBleGFjdFVzZWRLZXksXG4gICAgICB1c2VkTG5nLFxuICAgICAgdXNlZE5TXG4gICAgfTtcbiAgfVxuICBpc1ZhbGlkTG9va3VwKHJlcykge1xuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuTnVsbCAmJiByZXMgPT09IG51bGwpICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyAmJiByZXMgPT09ICcnKTtcbiAgfVxuICBnZXRSZXNvdXJjZShjb2RlLCBucywga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKSByZXR1cm4gdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlU3RvcmUuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gIH1cbiAgZ2V0VXNlZFBhcmFtc0RldGFpbHMoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IG9wdGlvbnNLZXlzID0gWydkZWZhdWx0VmFsdWUnLCAnb3JkaW5hbCcsICdjb250ZXh0JywgJ3JlcGxhY2UnLCAnbG5nJywgJ2xuZ3MnLCAnZmFsbGJhY2tMbmcnLCAnbnMnLCAna2V5U2VwYXJhdG9yJywgJ25zU2VwYXJhdG9yJywgJ3JldHVybk9iamVjdHMnLCAncmV0dXJuRGV0YWlscycsICdqb2luQXJyYXlzJywgJ3Bvc3RQcm9jZXNzJywgJ2ludGVycG9sYXRpb24nXTtcbiAgICBjb25zdCB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPSBvcHRpb25zLnJlcGxhY2UgJiYgdHlwZW9mIG9wdGlvbnMucmVwbGFjZSAhPT0gJ3N0cmluZyc7XG4gICAgbGV0IGRhdGEgPSB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPyBvcHRpb25zLnJlcGxhY2UgOiBvcHRpb25zO1xuICAgIGlmICh1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmNvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3B0aW9uc0tleXMpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgc3RhdGljIGhhc0RlZmF1bHRWYWx1ZShvcHRpb25zKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ2RlZmF1bHRWYWx1ZSc7XG4gICAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIHByZWZpeCA9PT0gb3B0aW9uLnN1YnN0cmluZygwLCBwcmVmaXgubGVuZ3RoKSAmJiB1bmRlZmluZWQgIT09IG9wdGlvbnNbb3B0aW9uXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG59XG5jbGFzcyBMYW5ndWFnZVV0aWwge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1cHBvcnRlZExuZ3MgPSB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncyB8fCBmYWxzZTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdsYW5ndWFnZVV0aWxzJyk7XG4gIH1cbiAgZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICBjb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSk7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICBpZiAocC5sZW5ndGggPT09IDIpIHJldHVybiBudWxsO1xuICAgIHAucG9wKCk7XG4gICAgaWYgKHBbcC5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpID09PSAneCcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwLmpvaW4oJy0nKSk7XG4gIH1cbiAgZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgIGNvZGUgPSBnZXRDbGVhbmVkQ29kZShjb2RlKTtcbiAgICBpZiAoIWNvZGUgfHwgY29kZS5pbmRleE9mKCctJykgPCAwKSByZXR1cm4gY29kZTtcbiAgICBjb25zdCBwID0gY29kZS5zcGxpdCgnLScpO1xuICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwWzBdKTtcbiAgfVxuICBmb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkge1xuICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgY29uc3Qgc3BlY2lhbENhc2VzID0gWydoYW5zJywgJ2hhbnQnLCAnbGF0bicsICdjeXJsJywgJ2NhbnMnLCAnbW9uZycsICdhcmFiJ107XG4gICAgICBsZXQgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nKSB7XG4gICAgICAgIHAgPSBwLm1hcChwYXJ0ID0+IHBhcnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChwWzFdLmxlbmd0aCA9PT0gMikgcFsxXSA9IHBbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHBbMF0gIT09ICdzZ24nICYmIHBbMl0ubGVuZ3RoID09PSAyKSBwWzJdID0gcFsyXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsyXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzJdID0gY2FwaXRhbGl6ZShwWzJdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHAuam9pbignLScpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsZWFuQ29kZSB8fCB0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nID8gY29kZS50b0xvd2VyQ2FzZSgpIDogY29kZTtcbiAgfVxuICBpc1N1cHBvcnRlZENvZGUoY29kZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCA9PT0gJ2xhbmd1YWdlT25seScgfHwgdGhpcy5vcHRpb25zLm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncykge1xuICAgICAgY29kZSA9IHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgfVxuICAgIHJldHVybiAhdGhpcy5zdXBwb3J0ZWRMbmdzIHx8ICF0aGlzLnN1cHBvcnRlZExuZ3MubGVuZ3RoIHx8IHRoaXMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKGNvZGUpID4gLTE7XG4gIH1cbiAgZ2V0QmVzdE1hdGNoRnJvbUNvZGVzKGNvZGVzKSB7XG4gICAgaWYgKCFjb2RlcykgcmV0dXJuIG51bGw7XG4gICAgbGV0IGZvdW5kO1xuICAgIGNvZGVzLmZvckVhY2goY29kZSA9PiB7XG4gICAgICBpZiAoZm91bmQpIHJldHVybjtcbiAgICAgIGNvbnN0IGNsZWFuZWRMbmcgPSB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKTtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MgfHwgdGhpcy5pc1N1cHBvcnRlZENvZGUoY2xlYW5lZExuZykpIGZvdW5kID0gY2xlYW5lZExuZztcbiAgICB9KTtcbiAgICBpZiAoIWZvdW5kICYmIHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzKSB7XG4gICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICBpZiAoZm91bmQpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG5nT25seSA9IHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkQ29kZShsbmdPbmx5KSkgcmV0dXJuIGZvdW5kID0gbG5nT25seTtcbiAgICAgICAgZm91bmQgPSB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncy5maW5kKHN1cHBvcnRlZExuZyA9PiB7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZyA9PT0gbG5nT25seSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YoJy0nKSA8IDAgJiYgbG5nT25seS5pbmRleE9mKCctJykgPCAwKSByZXR1cm47XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykgPiAwICYmIGxuZ09ubHkuaW5kZXhPZignLScpIDwgMCAmJiBzdXBwb3J0ZWRMbmcuc3Vic3RyaW5nKDAsIHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykpID09PSBsbmdPbmx5KSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZihsbmdPbmx5KSA9PT0gMCAmJiBsbmdPbmx5Lmxlbmd0aCA+IDEpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghZm91bmQpIGZvdW5kID0gdGhpcy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZylbMF07XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG4gIGdldEZhbGxiYWNrQ29kZXMoZmFsbGJhY2tzLCBjb2RlKSB7XG4gICAgaWYgKCFmYWxsYmFja3MpIHJldHVybiBbXTtcbiAgICBpZiAodHlwZW9mIGZhbGxiYWNrcyA9PT0gJ2Z1bmN0aW9uJykgZmFsbGJhY2tzID0gZmFsbGJhY2tzKGNvZGUpO1xuICAgIGlmICh0eXBlb2YgZmFsbGJhY2tzID09PSAnc3RyaW5nJykgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmFsbGJhY2tzKSkgcmV0dXJuIGZhbGxiYWNrcztcbiAgICBpZiAoIWNvZGUpIHJldHVybiBmYWxsYmFja3MuZGVmYXVsdCB8fCBbXTtcbiAgICBsZXQgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrcy5kZWZhdWx0O1xuICAgIHJldHVybiBmb3VuZCB8fCBbXTtcbiAgfVxuICB0b1Jlc29sdmVIaWVyYXJjaHkoY29kZSwgZmFsbGJhY2tDb2RlKSB7XG4gICAgY29uc3QgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcbiAgICBjb25zdCBjb2RlcyA9IFtdO1xuICAgIGNvbnN0IGFkZENvZGUgPSBjID0+IHtcbiAgICAgIGlmICghYykgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGMpKSB7XG4gICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHtjfWApO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJyAmJiAoY29kZS5pbmRleE9mKCctJykgPiAtMSB8fCBjb2RlLmluZGV4T2YoJ18nKSA+IC0xKSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnbGFuZ3VhZ2VPbmx5JykgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknICYmIHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgfVxuICAgIGZhbGxiYWNrQ29kZXMuZm9yRWFjaChmYyA9PiB7XG4gICAgICBpZiAoY29kZXMuaW5kZXhPZihmYykgPCAwKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGZjKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvZGVzO1xuICB9XG59XG5cbmxldCBzZXRzID0gW3tcbiAgbG5nczogWydhY2gnLCAnYWsnLCAnYW0nLCAnYXJuJywgJ2JyJywgJ2ZpbCcsICdndW4nLCAnbG4nLCAnbWZlJywgJ21nJywgJ21pJywgJ29jJywgJ3B0JywgJ3B0LUJSJywgJ3RnJywgJ3RsJywgJ3RpJywgJ3RyJywgJ3V6JywgJ3dhJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAxXG59LCB7XG4gIGxuZ3M6IFsnYWYnLCAnYW4nLCAnYXN0JywgJ2F6JywgJ2JnJywgJ2JuJywgJ2NhJywgJ2RhJywgJ2RlJywgJ2RldicsICdlbCcsICdlbicsICdlbycsICdlcycsICdldCcsICdldScsICdmaScsICdmbycsICdmdXInLCAnZnknLCAnZ2wnLCAnZ3UnLCAnaGEnLCAnaGknLCAnaHUnLCAnaHknLCAnaWEnLCAnaXQnLCAna2snLCAna24nLCAna3UnLCAnbGInLCAnbWFpJywgJ21sJywgJ21uJywgJ21yJywgJ25haCcsICduYXAnLCAnbmInLCAnbmUnLCAnbmwnLCAnbm4nLCAnbm8nLCAnbnNvJywgJ3BhJywgJ3BhcCcsICdwbXMnLCAncHMnLCAncHQtUFQnLCAncm0nLCAnc2NvJywgJ3NlJywgJ3NpJywgJ3NvJywgJ3NvbicsICdzcScsICdzdicsICdzdycsICd0YScsICd0ZScsICd0aycsICd1cicsICd5byddLFxuICBucjogWzEsIDJdLFxuICBmYzogMlxufSwge1xuICBsbmdzOiBbJ2F5JywgJ2JvJywgJ2NnZycsICdmYScsICdodCcsICdpZCcsICdqYScsICdqYm8nLCAna2EnLCAna20nLCAna28nLCAna3knLCAnbG8nLCAnbXMnLCAnc2FoJywgJ3N1JywgJ3RoJywgJ3R0JywgJ3VnJywgJ3ZpJywgJ3dvJywgJ3poJ10sXG4gIG5yOiBbMV0sXG4gIGZjOiAzXG59LCB7XG4gIGxuZ3M6IFsnYmUnLCAnYnMnLCAnY25yJywgJ2R6JywgJ2hyJywgJ3J1JywgJ3NyJywgJ3VrJ10sXG4gIG5yOiBbMSwgMiwgNV0sXG4gIGZjOiA0XG59LCB7XG4gIGxuZ3M6IFsnYXInXSxcbiAgbnI6IFswLCAxLCAyLCAzLCAxMSwgMTAwXSxcbiAgZmM6IDVcbn0sIHtcbiAgbG5nczogWydjcycsICdzayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNlxufSwge1xuICBsbmdzOiBbJ2NzYicsICdwbCddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogN1xufSwge1xuICBsbmdzOiBbJ2N5J10sXG4gIG5yOiBbMSwgMiwgMywgOF0sXG4gIGZjOiA4XG59LCB7XG4gIGxuZ3M6IFsnZnInXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDlcbn0sIHtcbiAgbG5nczogWydnYSddLFxuICBucjogWzEsIDIsIDMsIDcsIDExXSxcbiAgZmM6IDEwXG59LCB7XG4gIGxuZ3M6IFsnZ2QnXSxcbiAgbnI6IFsxLCAyLCAzLCAyMF0sXG4gIGZjOiAxMVxufSwge1xuICBsbmdzOiBbJ2lzJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiAxMlxufSwge1xuICBsbmdzOiBbJ2p2J10sXG4gIG5yOiBbMCwgMV0sXG4gIGZjOiAxM1xufSwge1xuICBsbmdzOiBbJ2t3J10sXG4gIG5yOiBbMSwgMiwgMywgNF0sXG4gIGZjOiAxNFxufSwge1xuICBsbmdzOiBbJ2x0J10sXG4gIG5yOiBbMSwgMiwgMTBdLFxuICBmYzogMTVcbn0sIHtcbiAgbG5nczogWydsdiddLFxuICBucjogWzEsIDIsIDBdLFxuICBmYzogMTZcbn0sIHtcbiAgbG5nczogWydtayddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTdcbn0sIHtcbiAgbG5nczogWydtbmsnXSxcbiAgbnI6IFswLCAxLCAyXSxcbiAgZmM6IDE4XG59LCB7XG4gIGxuZ3M6IFsnbXQnXSxcbiAgbnI6IFsxLCAyLCAxMSwgMjBdLFxuICBmYzogMTlcbn0sIHtcbiAgbG5nczogWydvciddLFxuICBucjogWzIsIDFdLFxuICBmYzogMlxufSwge1xuICBsbmdzOiBbJ3JvJ10sXG4gIG5yOiBbMSwgMiwgMjBdLFxuICBmYzogMjBcbn0sIHtcbiAgbG5nczogWydzbCddLFxuICBucjogWzUsIDEsIDIsIDNdLFxuICBmYzogMjFcbn0sIHtcbiAgbG5nczogWydoZScsICdpdyddLFxuICBucjogWzEsIDIsIDIwLCAyMV0sXG4gIGZjOiAyMlxufV07XG5sZXQgX3J1bGVzUGx1cmFsc1R5cGVzID0ge1xuICAxOiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA+IDEpO1xuICB9LFxuICAyOiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiAhPSAxKTtcbiAgfSxcbiAgMzogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgNDogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKTtcbiAgfSxcbiAgNTogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogbiA9PSAyID8gMiA6IG4gJSAxMDAgPj0gMyAmJiBuICUgMTAwIDw9IDEwID8gMyA6IG4gJSAxMDAgPj0gMTEgPyA0IDogNSk7XG4gIH0sXG4gIDY6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA+PSAyICYmIG4gPD0gNCA/IDEgOiAyKTtcbiAgfSxcbiAgNzogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA4OiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuICE9IDggJiYgbiAhPSAxMSA/IDIgOiAzKTtcbiAgfSxcbiAgOTogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPj0gMik7XG4gIH0sXG4gIDEwOiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCk7XG4gIH0sXG4gIDExOiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxIHx8IG4gPT0gMTEgPyAwIDogbiA9PSAyIHx8IG4gPT0gMTIgPyAxIDogbiA+IDIgJiYgbiA8IDIwID8gMiA6IDMpO1xuICB9LFxuICAxMjogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gJSAxMCAhPSAxIHx8IG4gJSAxMDAgPT0gMTEpO1xuICB9LFxuICAxMzogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gIT09IDApO1xuICB9LFxuICAxNDogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiA9PSAzID8gMiA6IDMpO1xuICB9LFxuICAxNTogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKTtcbiAgfSxcbiAgMTY6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMik7XG4gIH0sXG4gIDE3OiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxIHx8IG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogMSk7XG4gIH0sXG4gIDE4OiBmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiAyKTtcbiAgfSxcbiAgMTk6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA9PSAwIHx8IG4gJSAxMDAgPiAxICYmIG4gJSAxMDAgPCAxMSA/IDEgOiBuICUgMTAwID4gMTAgJiYgbiAlIDEwMCA8IDIwID8gMiA6IDMpO1xuICB9LFxuICAyMDogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDAgfHwgbiAlIDEwMCA+IDAgJiYgbiAlIDEwMCA8IDIwID8gMSA6IDIpO1xuICB9LFxuICAyMTogZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gJSAxMDAgPT0gMSA/IDEgOiBuICUgMTAwID09IDIgPyAyIDogbiAlIDEwMCA9PSAzIHx8IG4gJSAxMDAgPT0gNCA/IDMgOiAwKTtcbiAgfSxcbiAgMjI6IGZ1bmN0aW9uIChuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IChuIDwgMCB8fCBuID4gMTApICYmIG4gJSAxMCA9PSAwID8gMiA6IDMpO1xuICB9XG59O1xuY29uc3Qgbm9uSW50bFZlcnNpb25zID0gWyd2MScsICd2MicsICd2MyddO1xuY29uc3QgaW50bFZlcnNpb25zID0gWyd2NCddO1xuY29uc3Qgc3VmZml4ZXNPcmRlciA9IHtcbiAgemVybzogMCxcbiAgb25lOiAxLFxuICB0d286IDIsXG4gIGZldzogMyxcbiAgbWFueTogNCxcbiAgb3RoZXI6IDVcbn07XG5mdW5jdGlvbiBjcmVhdGVSdWxlcygpIHtcbiAgY29uc3QgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKHNldCA9PiB7XG4gICAgc2V0LmxuZ3MuZm9yRWFjaChsID0+IHtcbiAgICAgIHJ1bGVzW2xdID0ge1xuICAgICAgICBudW1iZXJzOiBzZXQubnIsXG4gICAgICAgIHBsdXJhbHM6IF9ydWxlc1BsdXJhbHNUeXBlc1tzZXQuZmNdXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJ1bGVzO1xufVxuY2xhc3MgUGx1cmFsUmVzb2x2ZXIge1xuICBjb25zdHJ1Y3RvcihsYW5ndWFnZVV0aWxzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHRoaXMubGFuZ3VhZ2VVdGlscyA9IGxhbmd1YWdlVXRpbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdwbHVyYWxSZXNvbHZlcicpO1xuICAgIGlmICgoIXRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiB8fCBpbnRsVmVyc2lvbnMuaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKSkgJiYgKHR5cGVvZiBJbnRsID09PSAndW5kZWZpbmVkJyB8fCAhSW50bC5QbHVyYWxSdWxlcykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9ICd2Myc7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignWW91ciBlbnZpcm9ubWVudCBzZWVtcyBub3QgdG8gYmUgSW50bCBBUEkgY29tcGF0aWJsZSwgdXNlIGFuIEludGwuUGx1cmFsUnVsZXMgcG9seWZpbGwuIFdpbGwgZmFsbGJhY2sgdG8gdGhlIGNvbXBhdGliaWxpdHlKU09OIHYzIGZvcm1hdCBoYW5kbGluZy4nKTtcbiAgICB9XG4gICAgdGhpcy5ydWxlcyA9IGNyZWF0ZVJ1bGVzKCk7XG4gIH1cbiAgYWRkUnVsZShsbmcsIG9iaikge1xuICAgIHRoaXMucnVsZXNbbG5nXSA9IG9iajtcbiAgfVxuICBnZXRSdWxlKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEludGwuUGx1cmFsUnVsZXMoZ2V0Q2xlYW5lZENvZGUoY29kZSA9PT0gJ2RldicgPyAnZW4nIDogY29kZSksIHtcbiAgICAgICAgICB0eXBlOiBvcHRpb25zLm9yZGluYWwgPyAnb3JkaW5hbCcgOiAnY2FyZGluYWwnXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucnVsZXNbY29kZV0gfHwgdGhpcy5ydWxlc1t0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSldO1xuICB9XG4gIG5lZWRzUGx1cmFsKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgIHJldHVybiBydWxlICYmIHJ1bGUucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5sZW5ndGggPiAxO1xuICAgIH1cbiAgICByZXR1cm4gcnVsZSAmJiBydWxlLm51bWJlcnMubGVuZ3RoID4gMTtcbiAgfVxuICBnZXRQbHVyYWxGb3Jtc09mS2V5KGNvZGUsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICByZXR1cm4gdGhpcy5nZXRTdWZmaXhlcyhjb2RlLCBvcHRpb25zKS5tYXAoc3VmZml4ID0+IGAke2tleX0ke3N1ZmZpeH1gKTtcbiAgfVxuICBnZXRTdWZmaXhlcyhjb2RlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGNvbnN0IHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgcmV0dXJuIHJ1bGUucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5zb3J0KChwbHVyYWxDYXRlZ29yeTEsIHBsdXJhbENhdGVnb3J5MikgPT4gc3VmZml4ZXNPcmRlcltwbHVyYWxDYXRlZ29yeTFdIC0gc3VmZml4ZXNPcmRlcltwbHVyYWxDYXRlZ29yeTJdKS5tYXAocGx1cmFsQ2F0ZWdvcnkgPT4gYCR7dGhpcy5vcHRpb25zLnByZXBlbmR9JHtvcHRpb25zLm9yZGluYWwgPyBgb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YCA6ICcnfSR7cGx1cmFsQ2F0ZWdvcnl9YCk7XG4gICAgfVxuICAgIHJldHVybiBydWxlLm51bWJlcnMubWFwKG51bWJlciA9PiB0aGlzLmdldFN1ZmZpeChjb2RlLCBudW1iZXIsIG9wdGlvbnMpKTtcbiAgfVxuICBnZXRTdWZmaXgoY29kZSwgY291bnQpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAocnVsZSkge1xuICAgICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke29wdGlvbnMub3JkaW5hbCA/IGBvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gIDogJyd9JHtydWxlLnNlbGVjdChjb3VudCl9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShydWxlLCBjb3VudCk7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyLndhcm4oYG5vIHBsdXJhbCBydWxlIGZvdW5kIGZvcjogJHtjb2RlfWApO1xuICAgIHJldHVybiAnJztcbiAgfVxuICBnZXRTdWZmaXhSZXRyb0NvbXBhdGlibGUocnVsZSwgY291bnQpIHtcbiAgICBjb25zdCBpZHggPSBydWxlLm5vQWJzID8gcnVsZS5wbHVyYWxzKGNvdW50KSA6IHJ1bGUucGx1cmFscyhNYXRoLmFicyhjb3VudCkpO1xuICAgIGxldCBzdWZmaXggPSBydWxlLm51bWJlcnNbaWR4XTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICBpZiAoc3VmZml4ID09PSAyKSB7XG4gICAgICAgIHN1ZmZpeCA9ICdwbHVyYWwnO1xuICAgICAgfSBlbHNlIGlmIChzdWZmaXggPT09IDEpIHtcbiAgICAgICAgc3VmZml4ID0gJyc7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJldHVyblN1ZmZpeCA9ICgpID0+IHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIHN1ZmZpeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBzdWZmaXgudG9TdHJpbmcoKSA6IHN1ZmZpeC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPT09ICd2MScpIHtcbiAgICAgIGlmIChzdWZmaXggPT09IDEpIHJldHVybiAnJztcbiAgICAgIGlmICh0eXBlb2Ygc3VmZml4ID09PSAnbnVtYmVyJykgcmV0dXJuIGBfcGx1cmFsXyR7c3VmZml4LnRvU3RyaW5nKCl9YDtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YyJykge1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucHJlcGVuZCAmJiBpZHgudG9TdHJpbmcoKSA/IHRoaXMub3B0aW9ucy5wcmVwZW5kICsgaWR4LnRvU3RyaW5nKCkgOiBpZHgudG9TdHJpbmcoKTtcbiAgfVxuICBzaG91bGRVc2VJbnRsQXBpKCkge1xuICAgIHJldHVybiAhbm9uSW50bFZlcnNpb25zLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnLic7XG4gIGxldCBpZ25vcmVKU09OU3RydWN0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB0cnVlO1xuICBsZXQgcGF0aCA9IGdldFBhdGhXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSk7XG4gIGlmICghcGF0aCAmJiBpZ25vcmVKU09OU3RydWN0dXJlICYmIHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgcGF0aCA9IGRlZXBGaW5kKGRhdGEsIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgICBpZiAocGF0aCA9PT0gdW5kZWZpbmVkKSBwYXRoID0gZGVlcEZpbmQoZGVmYXVsdERhdGEsIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbmNsYXNzIEludGVycG9sYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdpbnRlcnBvbGF0b3InKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgKHZhbHVlID0+IHZhbHVlKTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCFvcHRpb25zLmludGVycG9sYXRpb24pIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgIGVzY2FwZVZhbHVlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCB7XG4gICAgICBlc2NhcGU6IGVzY2FwZSQxLFxuICAgICAgZXNjYXBlVmFsdWUsXG4gICAgICB1c2VSYXdWYWx1ZVRvRXNjYXBlLFxuICAgICAgcHJlZml4LFxuICAgICAgcHJlZml4RXNjYXBlZCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHN1ZmZpeEVzY2FwZWQsXG4gICAgICBmb3JtYXRTZXBhcmF0b3IsXG4gICAgICB1bmVzY2FwZVN1ZmZpeCxcbiAgICAgIHVuZXNjYXBlUHJlZml4LFxuICAgICAgbmVzdGluZ1ByZWZpeCxcbiAgICAgIG5lc3RpbmdQcmVmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ1N1ZmZpeCxcbiAgICAgIG5lc3RpbmdTdWZmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IsXG4gICAgICBtYXhSZXBsYWNlcyxcbiAgICAgIGFsd2F5c0Zvcm1hdFxuICAgIH0gPSBvcHRpb25zLmludGVycG9sYXRpb247XG4gICAgdGhpcy5lc2NhcGUgPSBlc2NhcGUkMSAhPT0gdW5kZWZpbmVkID8gZXNjYXBlJDEgOiBlc2NhcGU7XG4gICAgdGhpcy5lc2NhcGVWYWx1ZSA9IGVzY2FwZVZhbHVlICE9PSB1bmRlZmluZWQgPyBlc2NhcGVWYWx1ZSA6IHRydWU7XG4gICAgdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlID0gdXNlUmF3VmFsdWVUb0VzY2FwZSAhPT0gdW5kZWZpbmVkID8gdXNlUmF3VmFsdWVUb0VzY2FwZSA6IGZhbHNlO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4ID8gcmVnZXhFc2NhcGUocHJlZml4KSA6IHByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICB0aGlzLnN1ZmZpeCA9IHN1ZmZpeCA/IHJlZ2V4RXNjYXBlKHN1ZmZpeCkgOiBzdWZmaXhFc2NhcGVkIHx8ICd9fSc7XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBmb3JtYXRTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSB1bmVzY2FwZVN1ZmZpeCA/ICcnIDogdW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgIHRoaXMudW5lc2NhcGVTdWZmaXggPSB0aGlzLnVuZXNjYXBlUHJlZml4ID8gJycgOiB1bmVzY2FwZVN1ZmZpeCB8fCAnJztcbiAgICB0aGlzLm5lc3RpbmdQcmVmaXggPSBuZXN0aW5nUHJlZml4ID8gcmVnZXhFc2NhcGUobmVzdGluZ1ByZWZpeCkgOiBuZXN0aW5nUHJlZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnJHQoJyk7XG4gICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gbmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKG5lc3RpbmdTdWZmaXgpIDogbmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yID0gbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMubWF4UmVwbGFjZXMgPSBtYXhSZXBsYWNlcyB8fCAxMDAwO1xuICAgIHRoaXMuYWx3YXlzRm9ybWF0ID0gYWx3YXlzRm9ybWF0ICE9PSB1bmRlZmluZWQgPyBhbHdheXNGb3JtYXQgOiBmYWxzZTtcbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gIH1cbiAgcmVzZXRSZWdFeHAoKSB7XG4gICAgY29uc3QgZ2V0T3JSZXNldFJlZ0V4cCA9IChleGlzdGluZ1JlZ0V4cCwgcGF0dGVybikgPT4ge1xuICAgICAgaWYgKGV4aXN0aW5nUmVnRXhwICYmIGV4aXN0aW5nUmVnRXhwLnNvdXJjZSA9PT0gcGF0dGVybikge1xuICAgICAgICBleGlzdGluZ1JlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdSZWdFeHA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xuICAgIH07XG4gICAgdGhpcy5yZWdleHAgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMucmVnZXhwLCBgJHt0aGlzLnByZWZpeH0oLis/KSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5yZWdleHBVbmVzY2FwZSA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5yZWdleHBVbmVzY2FwZSwgYCR7dGhpcy5wcmVmaXh9JHt0aGlzLnVuZXNjYXBlUHJlZml4fSguKz8pJHt0aGlzLnVuZXNjYXBlU3VmZml4fSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5uZXN0aW5nUmVnZXhwID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLm5lc3RpbmdSZWdleHAsIGAke3RoaXMubmVzdGluZ1ByZWZpeH0oLis/KSR7dGhpcy5uZXN0aW5nU3VmZml4fWApO1xuICB9XG4gIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgcmVwbGFjZXM7XG4gICAgY29uc3QgZGVmYXVsdERhdGEgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyB8fCB7fTtcbiAgICBmdW5jdGlvbiByZWdleFNhZmUodmFsKSB7XG4gICAgICByZXR1cm4gdmFsLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVGb3JtYXQgPSBrZXkgPT4ge1xuICAgICAgaWYgKGtleS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRlZXBGaW5kV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXksIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWx3YXlzRm9ybWF0ID8gdGhpcy5mb3JtYXQocGF0aCwgdW5kZWZpbmVkLCBsbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgaW50ZXJwb2xhdGlvbmtleToga2V5XG4gICAgICAgIH0pIDogcGF0aDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSBrZXkuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgICAgY29uc3QgayA9IHAuc2hpZnQoKS50cmltKCk7XG4gICAgICBjb25zdCBmID0gcC5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKS50cmltKCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGssIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSwgZiwgbG5nLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGludGVycG9sYXRpb25rZXk6IGtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICAgIGNvbnN0IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjtcbiAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzIDogdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO1xuICAgIGNvbnN0IHRvZG9zID0gW3tcbiAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cFVuZXNjYXBlLFxuICAgICAgc2FmZVZhbHVlOiB2YWwgPT4gcmVnZXhTYWZlKHZhbClcbiAgICB9LCB7XG4gICAgICByZWdleDogdGhpcy5yZWdleHAsXG4gICAgICBzYWZlVmFsdWU6IHZhbCA9PiB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHRoaXMuZXNjYXBlKHZhbCkpIDogcmVnZXhTYWZlKHZhbClcbiAgICB9XTtcbiAgICB0b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgcmVwbGFjZXMgPSAwO1xuICAgICAgd2hpbGUgKG1hdGNoID0gdG9kby5yZWdleC5leGVjKHN0cikpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFZhciA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hlZFZhcik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIoc3RyLCBtYXRjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YWx1ZSA9IHR5cGVvZiB0ZW1wID09PSAnc3RyaW5nJyA/IHRlbXAgOiAnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG1hdGNoZWRWYXIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYG1pc3NlZCB0byBwYXNzIGluIHZhcmlhYmxlICR7bWF0Y2hlZFZhcn0gZm9yIGludGVycG9sYXRpbmcgJHtzdHJ9YCk7XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmICF0aGlzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUpIHtcbiAgICAgICAgICB2YWx1ZSA9IG1ha2VTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhZmVWYWx1ZSA9IHRvZG8uc2FmZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHNhZmVWYWx1ZSk7XG4gICAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggLT0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlcysrO1xuICAgICAgICBpZiAocmVwbGFjZXMgPj0gdGhpcy5tYXhSZXBsYWNlcykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBuZXN0KHN0ciwgZmMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgY2xvbmVkT3B0aW9ucztcbiAgICBmdW5jdGlvbiBoYW5kbGVIYXNPcHRpb25zKGtleSwgaW5oZXJpdGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgc2VwID0gdGhpcy5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjtcbiAgICAgIGlmIChrZXkuaW5kZXhPZihzZXApIDwgMCkgcmV0dXJuIGtleTtcbiAgICAgIGNvbnN0IGMgPSBrZXkuc3BsaXQobmV3IFJlZ0V4cChgJHtzZXB9WyBdKntgKSk7XG4gICAgICBsZXQgb3B0aW9uc1N0cmluZyA9IGB7JHtjWzFdfWA7XG4gICAgICBrZXkgPSBjWzBdO1xuICAgICAgb3B0aW9uc1N0cmluZyA9IHRoaXMuaW50ZXJwb2xhdGUob3B0aW9uc1N0cmluZywgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBjb25zdCBtYXRjaGVkU2luZ2xlUXVvdGVzID0gb3B0aW9uc1N0cmluZy5tYXRjaCgvJy9nKTtcbiAgICAgIGNvbnN0IG1hdGNoZWREb3VibGVRdW90ZXMgPSBvcHRpb25zU3RyaW5nLm1hdGNoKC9cIi9nKTtcbiAgICAgIGlmIChtYXRjaGVkU2luZ2xlUXVvdGVzICYmIG1hdGNoZWRTaW5nbGVRdW90ZXMubGVuZ3RoICUgMiA9PT0gMCAmJiAhbWF0Y2hlZERvdWJsZVF1b3RlcyB8fCBtYXRjaGVkRG91YmxlUXVvdGVzLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgb3B0aW9uc1N0cmluZyA9IG9wdGlvbnNTdHJpbmcucmVwbGFjZSgvJy9nLCAnXCInKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNsb25lZE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmcpO1xuICAgICAgICBpZiAoaW5oZXJpdGVkT3B0aW9ucykgY2xvbmVkT3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5pbmhlcml0ZWRPcHRpb25zLFxuICAgICAgICAgIC4uLmNsb25lZE9wdGlvbnNcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgZmFpbGVkIHBhcnNpbmcgb3B0aW9ucyBzdHJpbmcgaW4gbmVzdGluZyBmb3Iga2V5ICR7a2V5fWAsIGUpO1xuICAgICAgICByZXR1cm4gYCR7a2V5fSR7c2VwfSR7b3B0aW9uc1N0cmluZ31gO1xuICAgICAgfVxuICAgICAgaWYgKGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlICYmIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlLmluZGV4T2YodGhpcy5wcmVmaXgpID4gLTEpIGRlbGV0ZSBjbG9uZWRPcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgIGxldCBmb3JtYXR0ZXJzID0gW107XG4gICAgICBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuICAgICAgY2xvbmVkT3B0aW9ucyA9IGNsb25lZE9wdGlvbnMucmVwbGFjZSAmJiB0eXBlb2YgY2xvbmVkT3B0aW9ucy5yZXBsYWNlICE9PSAnc3RyaW5nJyA/IGNsb25lZE9wdGlvbnMucmVwbGFjZSA6IGNsb25lZE9wdGlvbnM7XG4gICAgICBjbG9uZWRPcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciA9IGZhbHNlO1xuICAgICAgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgbGV0IGRvUmVkdWNlID0gZmFsc2U7XG4gICAgICBpZiAobWF0Y2hbMF0uaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikgIT09IC0xICYmICEvey4qfS8udGVzdChtYXRjaFsxXSkpIHtcbiAgICAgICAgY29uc3QgciA9IG1hdGNoWzFdLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKS5tYXAoZWxlbSA9PiBlbGVtLnRyaW0oKSk7XG4gICAgICAgIG1hdGNoWzFdID0gci5zaGlmdCgpO1xuICAgICAgICBmb3JtYXR0ZXJzID0gcjtcbiAgICAgICAgZG9SZWR1Y2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBmYyhoYW5kbGVIYXNPcHRpb25zLmNhbGwodGhpcywgbWF0Y2hbMV0udHJpbSgpLCBjbG9uZWRPcHRpb25zKSwgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBpZiAodmFsdWUgJiYgbWF0Y2hbMF0gPT09IHN0ciAmJiB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHttYXRjaFsxXX0gZm9yIG5lc3RpbmcgJHtzdHJ9YCk7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZWR1Y2UpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXR0ZXJzLnJlZHVjZSgodiwgZikgPT4gdGhpcy5mb3JtYXQodiwgZiwgb3B0aW9ucy5sbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGludGVycG9sYXRpb25rZXk6IG1hdGNoWzFdLnRyaW0oKVxuICAgICAgICB9KSwgdmFsdWUudHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICB0aGlzLnJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRm9ybWF0U3RyKGZvcm1hdFN0cikge1xuICBsZXQgZm9ybWF0TmFtZSA9IGZvcm1hdFN0ci50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgY29uc3QgZm9ybWF0T3B0aW9ucyA9IHt9O1xuICBpZiAoZm9ybWF0U3RyLmluZGV4T2YoJygnKSA+IC0xKSB7XG4gICAgY29uc3QgcCA9IGZvcm1hdFN0ci5zcGxpdCgnKCcpO1xuICAgIGZvcm1hdE5hbWUgPSBwWzBdLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGNvbnN0IG9wdFN0ciA9IHBbMV0uc3Vic3RyaW5nKDAsIHBbMV0ubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGZvcm1hdE5hbWUgPT09ICdjdXJyZW5jeScgJiYgb3B0U3RyLmluZGV4T2YoJzonKSA8IDApIHtcbiAgICAgIGlmICghZm9ybWF0T3B0aW9ucy5jdXJyZW5jeSkgZm9ybWF0T3B0aW9ucy5jdXJyZW5jeSA9IG9wdFN0ci50cmltKCk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXROYW1lID09PSAncmVsYXRpdmV0aW1lJyAmJiBvcHRTdHIuaW5kZXhPZignOicpIDwgMCkge1xuICAgICAgaWYgKCFmb3JtYXRPcHRpb25zLnJhbmdlKSBmb3JtYXRPcHRpb25zLnJhbmdlID0gb3B0U3RyLnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3B0cyA9IG9wdFN0ci5zcGxpdCgnOycpO1xuICAgICAgb3B0cy5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIGlmIChvcHQpIHtcbiAgICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IG9wdC5zcGxpdCgnOicpO1xuICAgICAgICAgIGNvbnN0IHZhbCA9IHJlc3Quam9pbignOicpLnRyaW0oKS5yZXBsYWNlKC9eJyt8JyskL2csICcnKTtcbiAgICAgICAgICBjb25zdCB0cmltbWVkS2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICBpZiAoIWZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0pIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSB2YWw7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gJ2ZhbHNlJykgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IGZhbHNlO1xuICAgICAgICAgIGlmICh2YWwgPT09ICd0cnVlJykgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHRydWU7XG4gICAgICAgICAgaWYgKCFpc05hTih2YWwpKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gcGFyc2VJbnQodmFsLCAxMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGZvcm1hdE5hbWUsXG4gICAgZm9ybWF0T3B0aW9uc1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKGZuKSB7XG4gIGNvbnN0IGNhY2hlID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBpbnZva2VGb3JtYXR0ZXIodmFsLCBsbmcsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBrZXkgPSBsbmcgKyBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcbiAgICBsZXQgZm9ybWF0dGVyID0gY2FjaGVba2V5XTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgZm9ybWF0dGVyID0gZm4oZ2V0Q2xlYW5lZENvZGUobG5nKSwgb3B0aW9ucyk7XG4gICAgICBjYWNoZVtrZXldID0gZm9ybWF0dGVyO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0dGVyKHZhbCk7XG4gIH07XG59XG5jbGFzcyBGb3JtYXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnZm9ybWF0dGVyJyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmZvcm1hdHMgPSB7XG4gICAgICBudW1iZXI6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIGN1cnJlbmN5OiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHQsXG4gICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeSdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSksXG4gICAgICBkYXRldGltZTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsbmcsIHtcbiAgICAgICAgICAuLi5vcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2YWwgPT4gZm9ybWF0dGVyLmZvcm1hdCh2YWwpO1xuICAgICAgfSksXG4gICAgICByZWxhdGl2ZXRpbWU6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCwgb3B0LnJhbmdlIHx8ICdkYXknKTtcbiAgICAgIH0pLFxuICAgICAgbGlzdDogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5MaXN0Rm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KVxuICAgIH07XG4gICAgdGhpcy5pbml0KG9wdGlvbnMpO1xuICB9XG4gIGluaXQoc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICB9O1xuICAgIGNvbnN0IGlPcHRzID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uO1xuICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gaU9wdHMuZm9ybWF0U2VwYXJhdG9yID8gaU9wdHMuZm9ybWF0U2VwYXJhdG9yIDogaU9wdHMuZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgfVxuICBhZGQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBmYztcbiAgfVxuICBhZGRDYWNoZWQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoZmMpO1xuICB9XG4gIGZvcm1hdCh2YWx1ZSwgZm9ybWF0LCBsbmcpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgY29uc3QgZm9ybWF0cyA9IGZvcm1hdC5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0cy5yZWR1Y2UoKG1lbSwgZikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXROYW1lLFxuICAgICAgICBmb3JtYXRPcHRpb25zXG4gICAgICB9ID0gcGFyc2VGb3JtYXRTdHIoZik7XG4gICAgICBpZiAodGhpcy5mb3JtYXRzW2Zvcm1hdE5hbWVdKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBtZW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSB8fCB7fTtcbiAgICAgICAgICBjb25zdCBsID0gdmFsT3B0aW9ucy5sb2NhbGUgfHwgdmFsT3B0aW9ucy5sbmcgfHwgb3B0aW9ucy5sb2NhbGUgfHwgb3B0aW9ucy5sbmcgfHwgbG5nO1xuICAgICAgICAgIGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0c1tmb3JtYXROYW1lXShtZW0sIGwsIHtcbiAgICAgICAgICAgIC4uLmZvcm1hdE9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgLi4udmFsT3B0aW9uc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke2Zvcm1hdE5hbWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVBlbmRpbmcocSwgbmFtZSkge1xuICBpZiAocS5wZW5kaW5nW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgcS5wZW5kaW5nW25hbWVdO1xuICAgIHEucGVuZGluZ0NvdW50LS07XG4gIH1cbn1cbmNsYXNzIENvbm5lY3RvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGJhY2tlbmQsIHN0b3JlLCBzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYmFja2VuZCA9IGJhY2tlbmQ7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuc2VydmljZXMgPSBzZXJ2aWNlcztcbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBzZXJ2aWNlcy5sYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnYmFja2VuZENvbm5lY3RvcicpO1xuICAgIHRoaXMud2FpdGluZ1JlYWRzID0gW107XG4gICAgdGhpcy5tYXhQYXJhbGxlbFJlYWRzID0gb3B0aW9ucy5tYXhQYXJhbGxlbFJlYWRzIHx8IDEwO1xuICAgIHRoaXMucmVhZGluZ0NhbGxzID0gMDtcbiAgICB0aGlzLm1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgPj0gMCA/IG9wdGlvbnMubWF4UmV0cmllcyA6IDU7XG4gICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBvcHRpb25zLnJldHJ5VGltZW91dCA+PSAxID8gb3B0aW9ucy5yZXRyeVRpbWVvdXQgOiAzNTA7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5pbml0KSB7XG4gICAgICB0aGlzLmJhY2tlbmQuaW5pdChzZXJ2aWNlcywgb3B0aW9ucy5iYWNrZW5kLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgcXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCB0b0xvYWQgPSB7fTtcbiAgICBjb25zdCBwZW5kaW5nID0ge307XG4gICAgY29uc3QgdG9Mb2FkTGFuZ3VhZ2VzID0ge307XG4gICAgY29uc3QgdG9Mb2FkTmFtZXNwYWNlcyA9IHt9O1xuICAgIGxhbmd1YWdlcy5mb3JFYWNoKGxuZyA9PiB7XG4gICAgICBsZXQgaGFzQWxsTmFtZXNwYWNlcyA9IHRydWU7XG4gICAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gYCR7bG5nfXwke25zfWA7XG4gICAgICAgIGlmICghb3B0aW9ucy5yZWxvYWQgJiYgdGhpcy5zdG9yZS5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkge1xuICAgICAgICAgIHRoaXMuc3RhdGVbbmFtZV0gPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGVbbmFtZV0gPCAwKSA7IGVsc2UgaWYgKHRoaXMuc3RhdGVbbmFtZV0gPT09IDEpIHtcbiAgICAgICAgICBpZiAocGVuZGluZ1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBwZW5kaW5nW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gMTtcbiAgICAgICAgICBoYXNBbGxOYW1lc3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHBlbmRpbmdbbmFtZV0gPT09IHVuZGVmaW5lZCkgcGVuZGluZ1tuYW1lXSA9IHRydWU7XG4gICAgICAgICAgaWYgKHRvTG9hZFtuYW1lXSA9PT0gdW5kZWZpbmVkKSB0b0xvYWRbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmICh0b0xvYWROYW1lc3BhY2VzW25zXSA9PT0gdW5kZWZpbmVkKSB0b0xvYWROYW1lc3BhY2VzW25zXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFoYXNBbGxOYW1lc3BhY2VzKSB0b0xvYWRMYW5ndWFnZXNbbG5nXSA9IHRydWU7XG4gICAgfSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRvTG9hZCkubGVuZ3RoIHx8IE9iamVjdC5rZXlzKHBlbmRpbmcpLmxlbmd0aCkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKHtcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgcGVuZGluZ0NvdW50OiBPYmplY3Qua2V5cyhwZW5kaW5nKS5sZW5ndGgsXG4gICAgICAgIGxvYWRlZDoge30sXG4gICAgICAgIGVycm9yczogW10sXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvTG9hZDogT2JqZWN0LmtleXModG9Mb2FkKSxcbiAgICAgIHBlbmRpbmc6IE9iamVjdC5rZXlzKHBlbmRpbmcpLFxuICAgICAgdG9Mb2FkTGFuZ3VhZ2VzOiBPYmplY3Qua2V5cyh0b0xvYWRMYW5ndWFnZXMpLFxuICAgICAgdG9Mb2FkTmFtZXNwYWNlczogT2JqZWN0LmtleXModG9Mb2FkTmFtZXNwYWNlcylcbiAgICB9O1xuICB9XG4gIGxvYWRlZChuYW1lLCBlcnIsIGRhdGEpIHtcbiAgICBjb25zdCBzID0gbmFtZS5zcGxpdCgnfCcpO1xuICAgIGNvbnN0IGxuZyA9IHNbMF07XG4gICAgY29uc3QgbnMgPSBzWzFdO1xuICAgIGlmIChlcnIpIHRoaXMuZW1pdCgnZmFpbGVkTG9hZGluZycsIGxuZywgbnMsIGVycik7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgc2tpcENvcHk6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyO1xuICAgIGNvbnN0IGxvYWRlZCA9IHt9O1xuICAgIHRoaXMucXVldWUuZm9yRWFjaChxID0+IHtcbiAgICAgIHB1c2hQYXRoKHEubG9hZGVkLCBbbG5nXSwgbnMpO1xuICAgICAgcmVtb3ZlUGVuZGluZyhxLCBuYW1lKTtcbiAgICAgIGlmIChlcnIpIHEuZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgIGlmIChxLnBlbmRpbmdDb3VudCA9PT0gMCAmJiAhcS5kb25lKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHEubG9hZGVkKS5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkW2xdKSBsb2FkZWRbbF0gPSB7fTtcbiAgICAgICAgICBjb25zdCBsb2FkZWRLZXlzID0gcS5sb2FkZWRbbF07XG4gICAgICAgICAgaWYgKGxvYWRlZEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2FkZWRLZXlzLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICAgIGlmIChsb2FkZWRbbF1bbl0gPT09IHVuZGVmaW5lZCkgbG9hZGVkW2xdW25dID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHEuZG9uZSA9IHRydWU7XG4gICAgICAgIGlmIChxLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBxLmNhbGxiYWNrKHEuZXJyb3JzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxLmNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIGxvYWRlZCk7XG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuZmlsdGVyKHEgPT4gIXEuZG9uZSk7XG4gIH1cbiAgcmVhZChsbmcsIG5zLCBmY05hbWUpIHtcbiAgICBsZXQgdHJpZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgbGV0IHdhaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRoaXMucmV0cnlUaW1lb3V0O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkO1xuICAgIGlmICghbG5nLmxlbmd0aCkgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgICBpZiAodGhpcy5yZWFkaW5nQ2FsbHMgPj0gdGhpcy5tYXhQYXJhbGxlbFJlYWRzKSB7XG4gICAgICB0aGlzLndhaXRpbmdSZWFkcy5wdXNoKHtcbiAgICAgICAgbG5nLFxuICAgICAgICBucyxcbiAgICAgICAgZmNOYW1lLFxuICAgICAgICB0cmllZCxcbiAgICAgICAgd2FpdCxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlYWRpbmdDYWxscysrO1xuICAgIGNvbnN0IHJlc29sdmVyID0gKGVyciwgZGF0YSkgPT4ge1xuICAgICAgdGhpcy5yZWFkaW5nQ2FsbHMtLTtcbiAgICAgIGlmICh0aGlzLndhaXRpbmdSZWFkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLndhaXRpbmdSZWFkcy5zaGlmdCgpO1xuICAgICAgICB0aGlzLnJlYWQobmV4dC5sbmcsIG5leHQubnMsIG5leHQuZmNOYW1lLCBuZXh0LnRyaWVkLCBuZXh0LndhaXQsIG5leHQuY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgaWYgKGVyciAmJiBkYXRhICYmIHRyaWVkIDwgdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVhZC5jYWxsKHRoaXMsIGxuZywgbnMsIGZjTmFtZSwgdHJpZWQgKyAxLCB3YWl0ICogMiwgY2FsbGJhY2spO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soZXJyLCBkYXRhKTtcbiAgICB9O1xuICAgIGNvbnN0IGZjID0gdGhpcy5iYWNrZW5kW2ZjTmFtZV0uYmluZCh0aGlzLmJhY2tlbmQpO1xuICAgIGlmIChmYy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHIgPSBmYyhsbmcsIG5zKTtcbiAgICAgICAgaWYgKHIgJiYgdHlwZW9mIHIudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHIudGhlbihkYXRhID0+IHJlc29sdmVyKG51bGwsIGRhdGEpKS5jYXRjaChyZXNvbHZlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZXIobnVsbCwgcik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXNvbHZlcihlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZmMobG5nLCBucywgcmVzb2x2ZXIpO1xuICB9XG4gIHByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIXRoaXMuYmFja2VuZCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGxhbmd1YWdlcyA9PT0gJ3N0cmluZycpIGxhbmd1YWdlcyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobGFuZ3VhZ2VzKTtcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgIGNvbnN0IHRvTG9hZCA9IHRoaXMucXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIGlmICghdG9Mb2FkLnRvTG9hZC5sZW5ndGgpIHtcbiAgICAgIGlmICghdG9Mb2FkLnBlbmRpbmcubGVuZ3RoKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRvTG9hZC50b0xvYWQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIHRoaXMubG9hZE9uZShuYW1lKTtcbiAgICB9KTtcbiAgfVxuICBsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge30sIGNhbGxiYWNrKTtcbiAgfVxuICByZWxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7XG4gICAgICByZWxvYWQ6IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH1cbiAgbG9hZE9uZShuYW1lKSB7XG4gICAgbGV0IHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICB0aGlzLnJlYWQobG5nLCBucywgJ3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgdGhpcy5sb2dnZXIud2FybihgJHtwcmVmaXh9bG9hZGluZyBuYW1lc3BhY2UgJHtuc30gZm9yIGxhbmd1YWdlICR7bG5nfSBmYWlsZWRgLCBlcnIpO1xuICAgICAgaWYgKCFlcnIgJiYgZGF0YSkgdGhpcy5sb2dnZXIubG9nKGAke3ByZWZpeH1sb2FkZWQgbmFtZXNwYWNlICR7bnN9IGZvciBsYW5ndWFnZSAke2xuZ31gLCBkYXRhKTtcbiAgICAgIHRoaXMubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge307XG4gICAgbGV0IGNsYiA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogKCkgPT4ge307XG4gICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgXCIke2tleX1cIiBhcyB0aGUgbmFtZXNwYWNlIFwiJHtuYW1lc3BhY2V9XCIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsIHx8IGtleSA9PT0gJycpIHJldHVybjtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGlzVXBkYXRlXG4gICAgICB9O1xuICAgICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmQuY3JlYXRlLmJpbmQodGhpcy5iYWNrZW5kKTtcbiAgICAgIGlmIChmYy5sZW5ndGggPCA2KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgaWYgKGZjLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgciA9IGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyICYmIHR5cGVvZiByLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHIudGhlbihkYXRhID0+IGNsYihudWxsLCBkYXRhKSkuY2F0Y2goY2xiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xiKG51bGwsIHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2xiKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIGNsYiwgb3B0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbGFuZ3VhZ2VzIHx8ICFsYW5ndWFnZXNbMF0pIHJldHVybjtcbiAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlKGxhbmd1YWdlc1swXSwgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldCgpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgaW5pdEltbWVkaWF0ZTogdHJ1ZSxcbiAgICBuczogWyd0cmFuc2xhdGlvbiddLFxuICAgIGRlZmF1bHROUzogWyd0cmFuc2xhdGlvbiddLFxuICAgIGZhbGxiYWNrTG5nOiBbJ2RldiddLFxuICAgIGZhbGxiYWNrTlM6IGZhbHNlLFxuICAgIHN1cHBvcnRlZExuZ3M6IGZhbHNlLFxuICAgIG5vbkV4cGxpY2l0U3VwcG9ydGVkTG5nczogZmFsc2UsXG4gICAgbG9hZDogJ2FsbCcsXG4gICAgcHJlbG9hZDogZmFsc2UsXG4gICAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRydWUsXG4gICAga2V5U2VwYXJhdG9yOiAnLicsXG4gICAgbnNTZXBhcmF0b3I6ICc6JyxcbiAgICBwbHVyYWxTZXBhcmF0b3I6ICdfJyxcbiAgICBjb250ZXh0U2VwYXJhdG9yOiAnXycsXG4gICAgcGFydGlhbEJ1bmRsZWRMYW5ndWFnZXM6IGZhbHNlLFxuICAgIHNhdmVNaXNzaW5nOiBmYWxzZSxcbiAgICB1cGRhdGVNaXNzaW5nOiBmYWxzZSxcbiAgICBzYXZlTWlzc2luZ1RvOiAnZmFsbGJhY2snLFxuICAgIHNhdmVNaXNzaW5nUGx1cmFsczogdHJ1ZSxcbiAgICBtaXNzaW5nS2V5SGFuZGxlcjogZmFsc2UsXG4gICAgbWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyOiBmYWxzZSxcbiAgICBwb3N0UHJvY2VzczogZmFsc2UsXG4gICAgcG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIHJldHVybk51bGw6IGZhbHNlLFxuICAgIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICAgIHJldHVybk9iamVjdHM6IGZhbHNlLFxuICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gICAgcGFyc2VNaXNzaW5nS2V5SGFuZGxlcjogZmFsc2UsXG4gICAgYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiBmYWxzZSxcbiAgICBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZTogZmFsc2UsXG4gICAgb3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZShhcmdzKSB7XG4gICAgICBsZXQgcmV0ID0ge307XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdvYmplY3QnKSByZXQgPSBhcmdzWzFdO1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnc3RyaW5nJykgcmV0LmRlZmF1bHRWYWx1ZSA9IGFyZ3NbMV07XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMl0gPT09ICdzdHJpbmcnKSByZXQudERlc2NyaXB0aW9uID0gYXJnc1syXTtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1syXSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGFyZ3NbM10gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzNdIHx8IGFyZ3NbMl07XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICByZXRba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG4gICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgZXNjYXBlVmFsdWU6IHRydWUsXG4gICAgICBmb3JtYXQ6IHZhbHVlID0+IHZhbHVlLFxuICAgICAgcHJlZml4OiAne3snLFxuICAgICAgc3VmZml4OiAnfX0nLFxuICAgICAgZm9ybWF0U2VwYXJhdG9yOiAnLCcsXG4gICAgICB1bmVzY2FwZVByZWZpeDogJy0nLFxuICAgICAgbmVzdGluZ1ByZWZpeDogJyR0KCcsXG4gICAgICBuZXN0aW5nU3VmZml4OiAnKScsXG4gICAgICBuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjogJywnLFxuICAgICAgbWF4UmVwbGFjZXM6IDEwMDAsXG4gICAgICBza2lwT25WYXJpYWJsZXM6IHRydWVcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLm5zID09PSAnc3RyaW5nJykgb3B0aW9ucy5ucyA9IFtvcHRpb25zLm5zXTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmZhbGxiYWNrTG5nID09PSAnc3RyaW5nJykgb3B0aW9ucy5mYWxsYmFja0xuZyA9IFtvcHRpb25zLmZhbGxiYWNrTG5nXTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmZhbGxiYWNrTlMgPT09ICdzdHJpbmcnKSBvcHRpb25zLmZhbGxiYWNrTlMgPSBbb3B0aW9ucy5mYWxsYmFja05TXTtcbiAgaWYgKG9wdGlvbnMuc3VwcG9ydGVkTG5ncyAmJiBvcHRpb25zLnN1cHBvcnRlZExuZ3MuaW5kZXhPZignY2ltb2RlJykgPCAwKSB7XG4gICAgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzID0gb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbJ2NpbW9kZSddKTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5mdW5jdGlvbiBiaW5kTWVtYmVyRnVuY3Rpb25zKGluc3QpIHtcbiAgY29uc3QgbWVtcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0KSk7XG4gIG1lbXMuZm9yRWFjaChtZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaW5zdFttZW1dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0W21lbV0gPSBpbnN0W21lbV0uYmluZChpbnN0KTtcbiAgICB9XG4gIH0pO1xufVxuY2xhc3MgSTE4biBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucyk7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IHt9O1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICB0aGlzLm1vZHVsZXMgPSB7XG4gICAgICBleHRlcm5hbDogW11cbiAgICB9O1xuICAgIGJpbmRNZW1iZXJGdW5jdGlvbnModGhpcyk7XG4gICAgaWYgKGNhbGxiYWNrICYmICF0aGlzLmlzSW5pdGlhbGl6ZWQgJiYgIW9wdGlvbnMuaXNDbG9uZSkge1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgICB0aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9XG4gIGluaXQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5pc0luaXRpYWxpemluZyA9IHRydWU7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5kZWZhdWx0TlMgJiYgb3B0aW9ucy5kZWZhdWx0TlMgIT09IGZhbHNlICYmIG9wdGlvbnMubnMpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0TlMgPSBvcHRpb25zLm5zO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm5zLmluZGV4T2YoJ3RyYW5zbGF0aW9uJykgPCAwKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5uc1swXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGVmT3B0cyA9IGdldCgpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLmRlZk9wdHMsXG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAuLi50cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpXG4gICAgfTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgIT09ICd2MScpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgICAgICAuLi5kZWZPcHRzLmludGVycG9sYXRpb24sXG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLnVzZXJEZWZpbmVkS2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm5zU2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xhc3NPbkRlbWFuZChDbGFzc09yT2JqZWN0KSB7XG4gICAgICBpZiAoIUNsYXNzT3JPYmplY3QpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBDbGFzc09yT2JqZWN0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gbmV3IENsYXNzT3JPYmplY3QoKTtcbiAgICAgIHJldHVybiBDbGFzc09yT2JqZWN0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmxvZ2dlcikge1xuICAgICAgICBiYXNlTG9nZ2VyLmluaXQoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubG9nZ2VyKSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdHRlcjtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMuZm9ybWF0dGVyKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IHRoaXMubW9kdWxlcy5mb3JtYXR0ZXI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCBsdSA9IG5ldyBMYW5ndWFnZVV0aWwodGhpcy5vcHRpb25zKTtcbiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUmVzb3VyY2VTdG9yZSh0aGlzLm9wdGlvbnMucmVzb3VyY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgcyA9IHRoaXMuc2VydmljZXM7XG4gICAgICBzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgICBzLnJlc291cmNlU3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgcy5sYW5ndWFnZVV0aWxzID0gbHU7XG4gICAgICBzLnBsdXJhbFJlc29sdmVyID0gbmV3IFBsdXJhbFJlc29sdmVyKGx1LCB7XG4gICAgICAgIHByZXBlbmQ6IHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsXG4gICAgICAgIGNvbXBhdGliaWxpdHlKU09OOiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04sXG4gICAgICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXhcbiAgICAgIH0pO1xuICAgICAgaWYgKGZvcm1hdHRlciAmJiAoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCB8fCB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgPT09IGRlZk9wdHMuaW50ZXJwb2xhdGlvbi5mb3JtYXQpKSB7XG4gICAgICAgIHMuZm9ybWF0dGVyID0gY3JlYXRlQ2xhc3NPbkRlbWFuZChmb3JtYXR0ZXIpO1xuICAgICAgICBzLmZvcm1hdHRlci5pbml0KHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCA9IHMuZm9ybWF0dGVyLmZvcm1hdC5iaW5kKHMuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIHMuaW50ZXJwb2xhdG9yID0gbmV3IEludGVycG9sYXRvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiB0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpXG4gICAgICB9O1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yID0gbmV3IENvbm5lY3RvcihjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5iYWNrZW5kKSwgcy5yZXNvdXJjZVN0b3JlLCBzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgIHMubGFuZ3VhZ2VEZXRlY3RvciA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpO1xuICAgICAgICBpZiAocy5sYW5ndWFnZURldGVjdG9yLmluaXQpIHMubGFuZ3VhZ2VEZXRlY3Rvci5pbml0KHMsIHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpIHtcbiAgICAgICAgcy5pMThuRm9ybWF0ID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCk7XG4gICAgICAgIGlmIChzLmkxOG5Gb3JtYXQuaW5pdCkgcy5pMThuRm9ybWF0LmluaXQodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcih0aGlzLnNlcnZpY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGlmIChtLmluaXQpIG0uaW5pdCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmZvcm1hdCA9IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdDtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICBjb25zdCBjb2RlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICBpZiAoY29kZXMubGVuZ3RoID4gMCAmJiBjb2Rlc1swXSAhPT0gJ2RldicpIHRoaXMub3B0aW9ucy5sbmcgPSBjb2Rlc1swXTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMub3B0aW9ucy5sbmcpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmVBcGkgPSBbJ2dldFJlc291cmNlJywgJ2hhc1Jlc291cmNlQnVuZGxlJywgJ2dldFJlc291cmNlQnVuZGxlJywgJ2dldERhdGFCeUxhbmd1YWdlJ107XG4gICAgc3RvcmVBcGkuZm9yRWFjaChmY05hbWUgPT4ge1xuICAgICAgdGhpc1tmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVbZmNOYW1lXSguLi5hcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBzdG9yZUFwaUNoYWluZWQgPSBbJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZSddO1xuICAgIHN0b3JlQXBpQ2hhaW5lZC5mb3JFYWNoKGZjTmFtZSA9PiB7XG4gICAgICB0aGlzW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3JlW2ZjTmFtZV0oLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbmlzaCA9IChlcnIsIHQpID0+IHtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkICYmICF0aGlzLmluaXRpYWxpemVkU3RvcmVPbmNlKSB0aGlzLmxvZ2dlci53YXJuKCdpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSEnKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkgdGhpcy5sb2dnZXIubG9nKCdpbml0aWFsaXplZCcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHQpO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJyAmJiAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZmluaXNoKG51bGwsIHRoaXMudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UodGhpcy5vcHRpb25zLmxuZywgZmluaXNoKTtcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8ICF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGxvYWQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgbG9hZFJlc291cmNlcyhsYW5ndWFnZSkge1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBsZXQgdXNlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY29uc3QgdXNlZExuZyA9IHR5cGVvZiBsYW5ndWFnZSA9PT0gJ3N0cmluZycgPyBsYW5ndWFnZSA6IHRoaXMubGFuZ3VhZ2U7XG4gICAgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gJ2Z1bmN0aW9uJykgdXNlZENhbGxiYWNrID0gbGFuZ3VhZ2U7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8IHRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykge1xuICAgICAgaWYgKHVzZWRMbmcgJiYgdXNlZExuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJyAmJiAoIXRoaXMub3B0aW9ucy5wcmVsb2FkIHx8IHRoaXMub3B0aW9ucy5wcmVsb2FkLmxlbmd0aCA9PT0gMCkpIHJldHVybiB1c2VkQ2FsbGJhY2soKTtcbiAgICAgIGNvbnN0IHRvTG9hZCA9IFtdO1xuICAgICAgY29uc3QgYXBwZW5kID0gbG5nID0+IHtcbiAgICAgICAgaWYgKCFsbmcpIHJldHVybjtcbiAgICAgICAgaWYgKGxuZyA9PT0gJ2NpbW9kZScpIHJldHVybjtcbiAgICAgICAgY29uc3QgbG5ncyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobG5nKTtcbiAgICAgICAgbG5ncy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgIGlmIChsID09PSAnY2ltb2RlJykgcmV0dXJuO1xuICAgICAgICAgIGlmICh0b0xvYWQuaW5kZXhPZihsKSA8IDApIHRvTG9hZC5wdXNoKGwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoIXVzZWRMbmcpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICAgICAgZmFsbGJhY2tzLmZvckVhY2gobCA9PiBhcHBlbmQobCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwZW5kKHVzZWRMbmcpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVsb2FkKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wcmVsb2FkLmZvckVhY2gobCA9PiBhcHBlbmQobCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmxvYWQodG9Mb2FkLCB0aGlzLm9wdGlvbnMubnMsIGUgPT4ge1xuICAgICAgICBpZiAoIWUgJiYgIXRoaXMucmVzb2x2ZWRMYW5ndWFnZSAmJiB0aGlzLmxhbmd1YWdlKSB0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UodGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIHVzZWRDYWxsYmFjayhlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2VkQ2FsbGJhY2sobnVsbCk7XG4gICAgfVxuICB9XG4gIHJlbG9hZFJlc291cmNlcyhsbmdzLCBucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKCFsbmdzKSBsbmdzID0gdGhpcy5sYW5ndWFnZXM7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5yZWxvYWQobG5ncywgbnMsIGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICB1c2UobW9kdWxlKSB7XG4gICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKCFtb2R1bGUudHlwZSkgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5iYWNrZW5kID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsb2dnZXInIHx8IG1vZHVsZS5sb2cgJiYgbW9kdWxlLndhcm4gJiYgbW9kdWxlLmVycm9yKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubG9nZ2VyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsYW5ndWFnZURldGVjdG9yJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAncG9zdFByb2Nlc3NvcicpIHtcbiAgICAgIHBvc3RQcm9jZXNzb3IuYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdmb3JtYXR0ZXInKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZm9ybWF0dGVyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICczcmRQYXJ0eScpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFJlc29sdmVkTGFuZ3VhZ2UobCkge1xuICAgIGlmICghbCB8fCAhdGhpcy5sYW5ndWFnZXMpIHJldHVybjtcbiAgICBpZiAoWydjaW1vZGUnLCAnZGV2J10uaW5kZXhPZihsKSA+IC0xKSByZXR1cm47XG4gICAgZm9yIChsZXQgbGkgPSAwOyBsaSA8IHRoaXMubGFuZ3VhZ2VzLmxlbmd0aDsgbGkrKykge1xuICAgICAgY29uc3QgbG5nSW5MbmdzID0gdGhpcy5sYW5ndWFnZXNbbGldO1xuICAgICAgaWYgKFsnY2ltb2RlJywgJ2RldiddLmluZGV4T2YobG5nSW5MbmdzKSA+IC0xKSBjb250aW51ZTtcbiAgICAgIGlmICh0aGlzLnN0b3JlLmhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhsbmdJbkxuZ3MpKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IGxuZ0luTG5ncztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gbG5nO1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdpbmcnLCBsbmcpO1xuICAgIGNvbnN0IHNldExuZ1Byb3BzID0gbCA9PiB7XG4gICAgICB0aGlzLmxhbmd1YWdlID0gbDtcbiAgICAgIHRoaXMubGFuZ3VhZ2VzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKTtcbiAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZShsKTtcbiAgICB9O1xuICAgIGNvbnN0IGRvbmUgPSAoZXJyLCBsKSA9PiB7XG4gICAgICBpZiAobCkge1xuICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50KC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldExuZyA9IGxuZ3MgPT4ge1xuICAgICAgaWYgKCFsbmcgJiYgIWxuZ3MgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yKSBsbmdzID0gW107XG4gICAgICBjb25zdCBsID0gdHlwZW9mIGxuZ3MgPT09ICdzdHJpbmcnID8gbG5ncyA6IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRCZXN0TWF0Y2hGcm9tQ29kZXMobG5ncyk7XG4gICAgICBpZiAobCkge1xuICAgICAgICBpZiAoIXRoaXMubGFuZ3VhZ2UpIHtcbiAgICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudHJhbnNsYXRvci5sYW5ndWFnZSkgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZSkgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2FkUmVzb3VyY2VzKGwsIGVyciA9PiB7XG4gICAgICAgIGRvbmUoZXJyLCBsKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKCFsbmcgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgIHNldExuZyh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkpO1xuICAgIH0gZWxzZSBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpLnRoZW4oc2V0TG5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3Qoc2V0TG5nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TG5nKGxuZyk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBnZXRGaXhlZFQobG5nLCBucywga2V5UHJlZml4KSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgY29uc3QgZml4ZWRUID0gZnVuY3Rpb24gKGtleSwgb3B0cykge1xuICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICBpZiAodHlwZW9mIG9wdHMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IG5ldyBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgcmVzdFtfa2V5MyAtIDJdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gX3RoaXMzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW2tleSwgb3B0c10uY29uY2F0KHJlc3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgLi4ub3B0c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5sbmcgPSBvcHRpb25zLmxuZyB8fCBmaXhlZFQubG5nO1xuICAgICAgb3B0aW9ucy5sbmdzID0gb3B0aW9ucy5sbmdzIHx8IGZpeGVkVC5sbmdzO1xuICAgICAgb3B0aW9ucy5ucyA9IG9wdGlvbnMubnMgfHwgZml4ZWRULm5zO1xuICAgICAgaWYgKG9wdGlvbnMua2V5UHJlZml4ICE9PSAnJykgb3B0aW9ucy5rZXlQcmVmaXggPSBvcHRpb25zLmtleVByZWZpeCB8fCBrZXlQcmVmaXggfHwgZml4ZWRULmtleVByZWZpeDtcbiAgICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IF90aGlzMy5vcHRpb25zLmtleVNlcGFyYXRvciB8fCAnLic7XG4gICAgICBsZXQgcmVzdWx0S2V5O1xuICAgICAgaWYgKG9wdGlvbnMua2V5UHJlZml4ICYmIEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICByZXN1bHRLZXkgPSBrZXkubWFwKGsgPT4gYCR7b3B0aW9ucy5rZXlQcmVmaXh9JHtrZXlTZXBhcmF0b3J9JHtrfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0S2V5ID0gb3B0aW9ucy5rZXlQcmVmaXggPyBgJHtvcHRpb25zLmtleVByZWZpeH0ke2tleVNlcGFyYXRvcn0ke2tleX1gIDoga2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzMy50KHJlc3VsdEtleSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGxuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZpeGVkVC5sbmcgPSBsbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpeGVkVC5sbmdzID0gbG5nO1xuICAgIH1cbiAgICBmaXhlZFQubnMgPSBucztcbiAgICBmaXhlZFQua2V5UHJlZml4ID0ga2V5UHJlZml4O1xuICAgIHJldHVybiBmaXhlZFQ7XG4gIH1cbiAgdCgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yICYmIHRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUoLi4uYXJndW1lbnRzKTtcbiAgfVxuICBleGlzdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiB0aGlzLnRyYW5zbGF0b3IuZXhpc3RzKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgc2V0RGVmYXVsdE5hbWVzcGFjZShucykge1xuICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0TlMgPSBucztcbiAgfVxuICBoYXNMb2FkZWROYW1lc3BhY2UobnMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bmV4dCB3YXMgbm90IGluaXRpYWxpemVkJywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMubGFuZ3VhZ2VzIHx8ICF0aGlzLmxhbmd1YWdlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bi5sYW5ndWFnZXMgd2VyZSB1bmRlZmluZWQgb3IgZW1wdHknLCB0aGlzLmxhbmd1YWdlcyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGxuZyA9IG9wdGlvbnMubG5nIHx8IHRoaXMucmVzb2x2ZWRMYW5ndWFnZSB8fCB0aGlzLmxhbmd1YWdlc1swXTtcbiAgICBjb25zdCBmYWxsYmFja0xuZyA9IHRoaXMub3B0aW9ucyA/IHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyA6IGZhbHNlO1xuICAgIGNvbnN0IGxhc3RMbmcgPSB0aGlzLmxhbmd1YWdlc1t0aGlzLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAobG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnKSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBsb2FkTm90UGVuZGluZyA9IChsLCBuKSA9PiB7XG4gICAgICBjb25zdCBsb2FkU3RhdGUgPSB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgICAgcmV0dXJuIGxvYWRTdGF0ZSA9PT0gLTEgfHwgbG9hZFN0YXRlID09PSAyO1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMucHJlY2hlY2spIHtcbiAgICAgIGNvbnN0IHByZVJlc3VsdCA9IG9wdGlvbnMucHJlY2hlY2sodGhpcywgbG9hZE5vdFBlbmRpbmcpO1xuICAgICAgaWYgKHByZVJlc3VsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcHJlUmVzdWx0O1xuICAgIH1cbiAgICBpZiAodGhpcy5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCB8fCB0aGlzLm9wdGlvbnMucmVzb3VyY2VzICYmICF0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHJldHVybiB0cnVlO1xuICAgIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsb2FkTmFtZXNwYWNlcyhucywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubnMpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBucyA9PT0gJ3N0cmluZycpIG5zID0gW25zXTtcbiAgICBucy5mb3JFYWNoKG4gPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgdGhpcy5vcHRpb25zLm5zLnB1c2gobik7XG4gICAgfSk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGxvYWRMYW5ndWFnZXMobG5ncywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgaWYgKHR5cGVvZiBsbmdzID09PSAnc3RyaW5nJykgbG5ncyA9IFtsbmdzXTtcbiAgICBjb25zdCBwcmVsb2FkZWQgPSB0aGlzLm9wdGlvbnMucHJlbG9hZCB8fCBbXTtcbiAgICBjb25zdCBuZXdMbmdzID0gbG5ncy5maWx0ZXIobG5nID0+IHByZWxvYWRlZC5pbmRleE9mKGxuZykgPCAwICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5pc1N1cHBvcnRlZENvZGUobG5nKSk7XG4gICAgaWYgKCFuZXdMbmdzLmxlbmd0aCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMucHJlbG9hZCA9IHByZWxvYWRlZC5jb25jYXQobmV3TG5ncyk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGRpcihsbmcpIHtcbiAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5yZXNvbHZlZExhbmd1YWdlIHx8ICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLmxhbmd1YWdlcy5sZW5ndGggPiAwID8gdGhpcy5sYW5ndWFnZXNbMF0gOiB0aGlzLmxhbmd1YWdlKTtcbiAgICBpZiAoIWxuZykgcmV0dXJuICdydGwnO1xuICAgIGNvbnN0IHJ0bExuZ3MgPSBbJ2FyJywgJ3NodScsICdzcXInLCAnc3NoJywgJ3hhYScsICd5aGQnLCAneXVkJywgJ2FhbycsICdhYmgnLCAnYWJ2JywgJ2FjbScsICdhY3EnLCAnYWN3JywgJ2FjeCcsICdhY3knLCAnYWRmJywgJ2FkcycsICdhZWInLCAnYWVjJywgJ2FmYicsICdhanAnLCAnYXBjJywgJ2FwZCcsICdhcmInLCAnYXJxJywgJ2FycycsICdhcnknLCAnYXJ6JywgJ2F1eicsICdhdmwnLCAnYXloJywgJ2F5bCcsICdheW4nLCAnYXlwJywgJ2JieicsICdwZ2EnLCAnaGUnLCAnaXcnLCAncHMnLCAncGJ0JywgJ3BidScsICdwc3QnLCAncHJwJywgJ3ByZCcsICd1ZycsICd1cicsICd5ZGQnLCAneWRzJywgJ3lpaCcsICdqaScsICd5aScsICdoYm8nLCAnbWVuJywgJ3htbicsICdmYScsICdqcHInLCAncGVvJywgJ3BlcycsICdwcnMnLCAnZHYnLCAnc2FtJywgJ2NrYiddO1xuICAgIGNvbnN0IGxhbmd1YWdlVXRpbHMgPSB0aGlzLnNlcnZpY2VzICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscyB8fCBuZXcgTGFuZ3VhZ2VVdGlsKGdldCgpKTtcbiAgICByZXR1cm4gcnRsTG5ncy5pbmRleE9mKGxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUobG5nKSkgPiAtMSB8fCBsbmcudG9Mb3dlckNhc2UoKS5pbmRleE9mKCctYXJhYicpID4gMSA/ICdydGwnIDogJ2x0cic7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IEkxOG4ob3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG4gIGNsb25lSW5zdGFuY2UoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBjb25zdCBmb3JrUmVzb3VyY2VTdG9yZSA9IG9wdGlvbnMuZm9ya1Jlc291cmNlU3RvcmU7XG4gICAgaWYgKGZvcmtSZXNvdXJjZVN0b3JlKSBkZWxldGUgb3B0aW9ucy5mb3JrUmVzb3VyY2VTdG9yZTtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLntcbiAgICAgICAgaXNDbG9uZTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgSTE4bihtZXJnZWRPcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsb25lLmxvZ2dlciA9IGNsb25lLmxvZ2dlci5jbG9uZShvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgbWVtYmVyc1RvQ29weSA9IFsnc3RvcmUnLCAnc2VydmljZXMnLCAnbGFuZ3VhZ2UnXTtcbiAgICBtZW1iZXJzVG9Db3B5LmZvckVhY2gobSA9PiB7XG4gICAgICBjbG9uZVttXSA9IHRoaXNbbV07XG4gICAgfSk7XG4gICAgY2xvbmUuc2VydmljZXMgPSB7XG4gICAgICAuLi50aGlzLnNlcnZpY2VzXG4gICAgfTtcbiAgICBjbG9uZS5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogY2xvbmUuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoY2xvbmUpXG4gICAgfTtcbiAgICBpZiAoZm9ya1Jlc291cmNlU3RvcmUpIHtcbiAgICAgIGNsb25lLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5zdG9yZS5kYXRhLCBtZXJnZWRPcHRpb25zKTtcbiAgICAgIGNsb25lLnNlcnZpY2VzLnJlc291cmNlU3RvcmUgPSBjbG9uZS5zdG9yZTtcbiAgICB9XG4gICAgY2xvbmUudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKGNsb25lLnNlcnZpY2VzLCBtZXJnZWRPcHRpb25zKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuICAgICAgY2xvbmUuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfSk7XG4gICAgY2xvbmUuaW5pdChtZXJnZWRPcHRpb25zLCBjYWxsYmFjayk7XG4gICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gbWVyZ2VkT3B0aW9ucztcbiAgICBjbG9uZS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHMgPSB7XG4gICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IGNsb25lLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGNsb25lKVxuICAgIH07XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmUsXG4gICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXMsXG4gICAgICByZXNvbHZlZExhbmd1YWdlOiB0aGlzLnJlc29sdmVkTGFuZ3VhZ2VcbiAgICB9O1xuICB9XG59XG5jb25zdCBpbnN0YW5jZSA9IEkxOG4uY3JlYXRlSW5zdGFuY2UoKTtcbmluc3RhbmNlLmNyZWF0ZUluc3RhbmNlID0gSTE4bi5jcmVhdGVJbnN0YW5jZTtcblxuY29uc3QgY3JlYXRlSW5zdGFuY2UgPSBpbnN0YW5jZS5jcmVhdGVJbnN0YW5jZTtcbmNvbnN0IGRpciA9IGluc3RhbmNlLmRpcjtcbmNvbnN0IGluaXQgPSBpbnN0YW5jZS5pbml0O1xuY29uc3QgbG9hZFJlc291cmNlcyA9IGluc3RhbmNlLmxvYWRSZXNvdXJjZXM7XG5jb25zdCByZWxvYWRSZXNvdXJjZXMgPSBpbnN0YW5jZS5yZWxvYWRSZXNvdXJjZXM7XG5jb25zdCB1c2UgPSBpbnN0YW5jZS51c2U7XG5jb25zdCBjaGFuZ2VMYW5ndWFnZSA9IGluc3RhbmNlLmNoYW5nZUxhbmd1YWdlO1xuY29uc3QgZ2V0Rml4ZWRUID0gaW5zdGFuY2UuZ2V0Rml4ZWRUO1xuY29uc3QgdCA9IGluc3RhbmNlLnQ7XG5jb25zdCBleGlzdHMgPSBpbnN0YW5jZS5leGlzdHM7XG5jb25zdCBzZXREZWZhdWx0TmFtZXNwYWNlID0gaW5zdGFuY2Uuc2V0RGVmYXVsdE5hbWVzcGFjZTtcbmNvbnN0IGhhc0xvYWRlZE5hbWVzcGFjZSA9IGluc3RhbmNlLmhhc0xvYWRlZE5hbWVzcGFjZTtcbmNvbnN0IGxvYWROYW1lc3BhY2VzID0gaW5zdGFuY2UubG9hZE5hbWVzcGFjZXM7XG5jb25zdCBsb2FkTGFuZ3VhZ2VzID0gaW5zdGFuY2UubG9hZExhbmd1YWdlcztcblxuZXhwb3J0IHsgY2hhbmdlTGFuZ3VhZ2UsIGNyZWF0ZUluc3RhbmNlLCBpbnN0YW5jZSBhcyBkZWZhdWx0LCBkaXIsIGV4aXN0cywgZ2V0Rml4ZWRULCBoYXNMb2FkZWROYW1lc3BhY2UsIGluaXQsIGxvYWRMYW5ndWFnZXMsIGxvYWROYW1lc3BhY2VzLCBsb2FkUmVzb3VyY2VzLCByZWxvYWRSZXNvdXJjZXMsIHNldERlZmF1bHROYW1lc3BhY2UsIHQsIHVzZSB9O1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCIuLi8uLi9FbnVtXCI7XG5cbmNvbnN0IHpoOiBUcmFuc2xhdGlvbiA9IHtcbiAgICB2YWxpZGF0b3I6IFwiXHU5QThDXHU4QkMxXHU2NUI5XHU1RjBGXCIsXG4gICAgc3RyYXRlZ3k6IFwiXHU3QjU2XHU3NTY1XCIsXG4gICAgY2FuY2VsOiBcIlx1NTNENlx1NkQ4OFwiLFxuICAgIGFwcGx5OiBcIlx1NUU5NFx1NzUyOFwiLFxuICAgIGZlYXR1cmU6IHtcbiAgICAgICAgW0ZlYXR1cmUuQWxpYXNdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NTIyQlx1NTQwREFsaWFzXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NEZFRVx1NjUzOVx1NTE0M1x1NjU3MFx1NjM2RVx1RkYwOGZyb250bWF0dGVyXHVGRjA5XHU3RjEzXHU1QjU4XHU0RTJEXHU3Njg0XHU1MjJCXHU1NDBEXHVGRjBDXHU0RTBEXHU1RjcxXHU1NENEXHU1QjlFXHU5NjQ1XHU1MjJCXHU1NDBEXCIsXG4gICAgICAgICAgICB2YWxpZGF0b3I6IHtcbiAgICAgICAgICAgICAgICBhdXRvOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU4MUVBXHU1MkE4RnJvbnRtYXR0ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJcdTU5ODJcdTY3OUMgZnJvbnRtYXR0ZXIgXHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjE5XHU0RjFBXHU1NzI4XHU3RjEzXHU1QjU4XHU0RTJEXHU1MjFCXHU1RUZBXHUzMDAyXHU1M0VGXHU4MEZEXHU0RjFBXHU1M0QxXHU3NTFGXHU1MjZGXHU0RjVDXHU3NTI4XHUzMDAyXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlx1NjcwOUZyb250bWF0dGVyXHU2MjREXHU3NTFGXHU2NTQ4XCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU1M0VBXHU1OTA0XHU3NDA2XHU2NzA5IGZyb250bWF0dGVyIFx1NzY4NFx1NjU4N1x1NEVGNlx1MzAwMlwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RyYXRlZ3k6IHtcbiAgICAgICAgICAgICAgICBlbnN1cmU6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJcdTU4OUVcdTVGM0FcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJcdTRFQzVcdTVGNTNcdTY4MDdcdTk4OThcdTRFMERcdTU3MjhcdTUyMkJcdTU0MERcdTRFMkRcdTY1RjZcdUZGMENcdTYyNERcdTVDMDZcdTY4MDdcdTk4OThcdThCQkVcdTdGNkVcdTRFM0FcdTUyMkJcdTU0MERcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkanVzdDoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlx1OEMwM1x1NjU3NFwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NUMwNlx1NjgwN1x1OTg5OFx1NkRGQlx1NTJBMFx1NTIzMFx1NTIyQlx1NTQwRFx1NEUyRFx1RkYwQ1x1NEY0Nlx1NEUwRFx1NUY3MVx1NTRDRFx1NzNCMFx1NjcwOVx1NTIyQlx1NTQwRFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVwbGFjZToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlx1NjZGRlx1NjM2MlwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NzUyOFx1NjgwN1x1OTg5OFx1NjZGRlx1NjM2Mlx1NUY1M1x1NTI0RFx1NTIyQlx1NTQwRFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5FeHBsb3Jlcl06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU2NTg3XHU0RUY2XHU4RDQ0XHU2RTkwXHU3QkExXHU3NDA2XHU1NjY4XCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjM2Mlx1NjU4N1x1NEVGNlx1OEQ0NFx1NkU5MFx1N0JBMVx1NzQwNlx1NTY2OFx1NEUyRFx1NjYzRVx1NzkzQVx1NzY4NFx1NjgwN1x1OTg5OFwiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5HcmFwaF06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU1NkZFXHU4QzMxXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjM2Mlx1NTZGRVx1OEMzMS9cdTY3MkNcdTU3MzBcdTU2RkVcdThDMzFcdTRFMkRcdTY2M0VcdTc5M0FcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuSGVhZGVyXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTk4NzVcdTk4NzZcdTY4MDdcdTk4OThcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2MzYyVGFiXHU2ODA3XHU3QjdFXHU5ODc1XHU5ODc2XHU5MEU4XHU3Njg0XHU2ODA3XHU5ODk4XHU1RTc2XHU2NkY0XHU2NUIwXHU1QjgzXHU0RUVDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLkJvb2ttYXJrc106IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU0RTY2XHU3QjdFXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjM2Mlx1NTE4NVx1N0Y2RVx1NEU2Nlx1N0I3RVx1NjNEMlx1NEVGNlx1NEUyRFx1NjYzRVx1NzkzQVx1NzY4NFx1NjgwN1x1OTg5OFwiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5TZWFyY2hdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NjQxQ1x1N0QyMlwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzNjJcdTY0MUNcdTdEMjJcdTk4NzVcdTk3NjJcdTRFMkRcdTY2M0VcdTc5M0FcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuU3VnZ2VzdF06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU1RUZBXHU4QkFFXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjM2Mlx1NUVGQVx1OEJBRVx1N0E5N1x1NTNFM1x1NEUyRFx1NjYzRVx1NzkzQVx1NzY4NFx1NjgwN1x1OTg5OFwiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5UYWJdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NjgwN1x1N0I3RVx1OTg3NVwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzNjJUYWJcdTY4MDdcdTdCN0VcdTk4NzVcdTRFMkRcdTY2M0VcdTc5M0FcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuSW5saW5lVGl0bGVdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1OTg3NVx1NTE4NVx1NjgwN1x1OTg5OFwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzNjJcdTk4NzVcdTk3NjJcdTUxODVcdTY2M0VcdTc5M0FcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuQ2FudmFzXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTc2N0RcdTY3N0ZcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2MzYyXHU3NjdEXHU2NzdGXHU0RTJEXHU2NjNFXHU3OTNBXHU3Njg0XHU2ODA3XHU5ODk4XCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLkJhY2tsaW5rXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTUzQ0RcdTU0MTFcdTk0RkVcdTYzQTVcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2MzYyXHU1M0NEXHU1NDExXHU5NEZFXHU2M0E1KFx1OTRGRVx1NjNBNVx1NjNEMFx1NTNDQSlcdTRFMkRcdTY2M0VcdTc5M0FcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuTm90ZUxpbmtdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1N0IxNFx1OEJCMFx1OTRGRVx1NjNBNVwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzNjJcdTdCMTRcdThCQjBcdTRFMkRcdTc2ODRcdTUxODVcdTkwRThcdTk0RkVcdTYzQTVcIixcbiAgICAgICAgICAgIHN0cmF0ZWd5OiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBhbGw6IFwiXHU2NkZGXHU2MzYyXHU1MTY4XHU5MEU4XHU5NEZFXHU2M0E1XCIsXG4gICAgICAgICAgICAgICAgICAgIG9ubHlFbXB0eTogXCJcdTUzRUFcdTY2RkZcdTYzNjJcdTZDQTFcdTY3MDlcdTUyMkJcdTU0MERcdTc2ODRcdTk0RkVcdTYzQTVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFwcHJvdmFsOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWw6IFwiXHU2NjNFXHU3OTNBXHU3ODZFXHU4QkE0XHU3QTk3XHU1M0UzXCIsXG4gICAgICAgICAgICAgICAgICAgIGF1dG86IFwiXHU0RjdGXHU3NTI4XHU4MUVBXHU1MkE4XHU3ODZFXHU4QkE0XCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtYW5hZ2U6IFwiXHU3QkExXHU3NDA2XCIsXG4gICAgdGVtcGxhdGU6IHtcbiAgICAgICAgZmVhdHVyZXM6IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU3Mjc5XHU2MDI3XHU2QTIxXHU2NzdGXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjgzOVx1NjM2RVx1NTQwNFx1NzI3OVx1NjAyN1x1NTI5Rlx1ODBGRFx1NzJFQ1x1N0FDQlx1N0JBMVx1NzQwNlx1NkEyMVx1Njc3RlwiLFxuICAgICAgICB9LFxuICAgICAgICBtYWluOiBcIlx1NEUzQlx1NkEyMVx1Njc3RlwiLFxuICAgICAgICBmYWxsYmFjazogXCJcdTU5MDdcdTc1MjhcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiXHU4RjkzXHU1MTY1XHU2QTIxXHU2NzdGXCIsXG4gICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgbWFpbjoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU5MDFBXHU3NTI4XHU0RTNCXHU2QTIxXHU2NzdGXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogYFx1OEJCRVx1N0Y2RSB5YW1sIFx1OERFRlx1NUY4NFx1RkYwQ1x1OEJFNVx1NTAzQ1x1NUMwNlx1NzUyOFx1NEU4RVx1NjU4N1x1NEVGNlx1NjgwN1x1OTg5OFx1MzAwMlx1NTAzQ1x1NUZDNVx1OTg3Qlx1NjYyRlx1NUI1N1x1N0IyNlx1NEUzMlx1NjIxNlx1NjU3MFx1NTAzQ1x1MzAwMlx1OEZEOFx1NTNFRlx1NEVFNVx1NEY3Rlx1NzUyOFx1N0M3Qlx1NEYzQ1x1NkEyMVx1Njc3Rlx1OERFRlx1NUY4NCBcInt7IH19XCJcdTMwMDJcbiAgICAgICAgICAgICAgICBcdThGRDhcdTUzRUZcdTRFRTVcdTRGN0ZcdTc1MjggI1x1NjgwN1x1OTg5OCBcdTY3NjVcdTRGN0ZcdTc1MjhcdTRFMDBcdTdFQTdcdTY4MDdcdTk4OThcdUZGMENcdTYyMTYgXyBiYXNlbmFtZSBcdTU0OENcdTUxNzZcdTRFRDZcdTRGRERcdTc1NTlcdTVCNTdcdTMwMDJcbiAgICAgICAgICAgICAgICBcdTY3RTVcdTk2MDUgUmVhZG1lIFx1NEU4Nlx1ODlFM1x1NjZGNFx1NTkxQWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsbGJhY2s6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlx1OTAxQVx1NzUyOFx1NTkwN1x1NzUyOFx1NkEyMVx1Njc3RlwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU0RjVDXHU0RTNBXHU1OTA3XHU3NTI4XHU5MDA5XHU5ODc5XHU3Njg0XHU2QTIxXHU2NzdGXHVGRjBDXHU1RjUzXHU5MDFBXHU3NTI4XHU0RTNCXHU2QTIxXHU2NzdGXHU2NUUwXHU2Q0Q1XHU4OUUzXHU2NzkwXHU1MUZBXHU2NzY1XHU2NUY2XHU0RjdGXHU3NTI4XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB1c2VkOiBcIlx1OTAxQVx1NzUyOFx1NkEyMVx1Njc3Rlx1NUMwNlx1NEYxQVx1NEY3Rlx1NzUyOC4gXHU1MDNDXHU0RTNBIHt7dmFsdWV9fVwiLFxuICAgICAgICBzcGVjaWZpYzogXCJcdThGRDlcdTRFMkFcdTcyNzlcdTYwMjdcdTUyOUZcdTgwRkRcdTVDMDZcdTRGN0ZcdTc1MjhcdTVGNTNcdTUyNERcdTZBMjFcdTY3N0ZcIixcbiAgICB9LFxuICAgIHNldHRpbmdzOiBcIlx1NjNEMlx1NEVGNlx1OEJCRVx1N0Y2RVwiLFxuICAgIHJ1bGU6IHtcbiAgICAgICAgbmFtZTogXCJcdTg5QzRcdTUyMTlcIixcbiAgICAgICAgcGF0aDoge1xuICAgICAgICAgICAgbmFtZTogXCJcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTg5QzRcdTUyMTlcIixcbiAgICAgICAgICAgIGJsYWNrOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTlFRDFcdTU0MERcdTUzNTVcdTZBMjFcdTVGMEZcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NjNEMlx1NEVGNlx1NUMwNlx1NUZGRFx1NzU2NVx1OERFRlx1NUY4NFx1NEUyRFx1NzY4NFx1NjU4N1x1NEVGNlx1RkYwQ1x1NkJDRlx1NEUyQVx1OERFRlx1NUY4NFx1NUZDNVx1OTg3Qlx1NEY3Rlx1NzUyOFx1NTcyOFx1NjVCMFx1ODg0Q1x1NEUyRFx1NTE5OVx1NTE2NS5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aGl0ZToge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU3NjdEXHU1NDBEXHU1MzU1XHU2QTIxXHU1RjBGXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJcdTYzRDJcdTRFRjZcdTVDMDZcdTU5MDRcdTc0MDZcdThERUZcdTVGODRcdTRFMkRcdTc2ODRcdTY1ODdcdTRFRjZcdUZGMENcdTZCQ0ZcdTRFMkFcdThERUZcdTVGODRcdTVGQzVcdTk4N0JcdTRGN0ZcdTc1MjhcdTU3MjhcdTY1QjBcdTg4NENcdTRFMkRcdTUxOTlcdTUxNjUuXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkZWxpbWl0ZXI6IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU1MjE3XHU4ODY4XHU1MDNDXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1OEJCRVx1N0Y2RVx1NTkwNFx1NzQwNlx1NTIxN1x1ODg2OFx1NTAzQ1x1NzY4NFx1ODlDNFx1NTIxOVwiLFxuICAgICAgICAgICAgZmlyc3Q6IFwiXHU0RjdGXHU3NTI4XHU3QjJDXHU0RTAwXHU0RTJBXHU1MDNDXCIsXG4gICAgICAgICAgICBqb2luOiBcIlx1NzUyOFx1NTIwNlx1OTY5NFx1N0IyNlx1NjJGQ1x1NjNBNVx1NTE2OFx1OTBFOFwiLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICAgICAgICBmaXJzdDogXCJcdTRGMUFcdTkxQzdcdTc1MjhcdTdCMkNcdTRFMDBcdTRFMkFcdTUwM0NcIixcbiAgICAgICAgICAgICAgICBqb2luOiBcIlx1OEY5M1x1NTE2NVx1NTIwNlx1OTY5NFx1N0IyNlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGZlYXR1cmVzOiBcIlx1NzI3OVx1NjAyN1x1NTI5Rlx1ODBGRFwiLFxuICAgIHV0aWw6IFwiXHU1REU1XHU1MTc3XCIsXG4gICAgY29mZmVlOiBcIlx1NTk4Mlx1Njc5Q1x1NjBBOFx1NTU5Q1x1NkIyMlx1NkI2NFx1NjNEMlx1NEVGNlx1NUU3Nlx1NUUwQ1x1NjcxQlx1NUUyRVx1NTJBOS9cdTY1MkZcdTYzMDFcdTRGNUNcdTgwMDVcdTYzMDFcdTdFRURcdTVGMDBcdTUzRDFcdUZGMENcdThCRjdcdTcwQjlcdTUxRkJcdTRFRTVcdTRFMEJcdTYzMDlcdTk0QUU6XCIsXG4gICAgZGVidWdfaW5mbzoge1xuICAgICAgICB0aXRsZTogXCJcdThDMDNcdThCRDVcdTRGRTFcdTYwNkZcIixcbiAgICAgICAgZGVzYzogXCJcdTU3MjhcdTdFQzhcdTdBRUZcdTRFMkRcdTY2M0VcdTc5M0FcdThDMDNcdThCRDVcdTRGRTFcdTYwNkZcdTU0OENcdTYzNTVcdTYzNDlcdTUyMzBcdTc2ODRcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcIixcbiAgICB9LFxuICAgIGJvb3RfZGVsYXk6IHtcbiAgICAgICAgdGl0bGU6IFwiXHU1RUY2XHU4RkRGXHU1NDJGXHU1MkE4XHU1MkEwXHU4RjdEXCIsXG4gICAgICAgIGRlc2M6IFwiXHU2M0QyXHU0RUY2XHU1QzA2XHU1NzI4XHU2MzA3XHU1QjlBXHU2NUY2XHU5NUY0XHVGRjA4XHU2QkVCXHU3OUQyXHVGRjA5XHU1NDBFXHU1MkEwXHU4RjdEXCIsXG4gICAgfSxcbiAgICBkaXNhYmxlZDogXCJcdTc5ODFcdTc1MjhcIixcbiAgICBwcm9jZXNzb3I6IHtcbiAgICAgICAgbmFtZTogXCJcdTU5MDRcdTc0MDZcdTU2NjhcIixcbiAgICAgICAgZGVzYzogXCJcdTRGRUVcdTY1MzlcdTg5RTNcdTY3OTBcdTc2ODRcdTY4MDdcdTk4OThcIixcbiAgICAgICAgcmVwbGFjZToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTY2RkZcdTYzNjJcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU1QzA2XHU2MjY3XHU4ODRDXCIsXG4gICAgICAgICAgICBwYXR0ZXJuOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTZCNjNcdTUyMTlQYXR0ZXJuXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJcdTVDMDZcdTk5OTZcdTUxNDhcdTc1MjhcdTRGNUMgUmVnRXhwIFx1NzY4NFx1N0IyQ1x1NEUwMFx1NEUyQVx1NTNDMlx1NjU3MFx1RkYwQ1x1NzEzNlx1NTQwRVx1NzUyOFx1NEY1QyByZXBsYWNlKClcdTc2ODRcdTdCMkNcdTRFMDBcdTRFMkFcdTUzQzJcdTY1NzBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU0RkVFXHU5OTcwXHU3QjI2RmxhZ3NcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NUMwNlx1NzUyOFx1NEY1Q1x1NjVCMFJlZ0V4cCBcdTc2ODRcdTdCMkNcdTRFOENcdTRFMkFcdTUzQzJcdTY1NzBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXBsYWNlbWVudDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU2NkZGXHU2MzYyXHU1MDNDUmVwbGFjZW1lbnRcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NUMwNlx1NzUyOFx1NEY1QyByZXBsYWNlKCkgXHU3Njg0XHU3QjJDXHU0RThDXHU0RTJBXHU1M0MyXHU2NTcwXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogXCJcdTUxRkRcdTY1NzBcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU1QzA2XHU2MDBFXHU2ODM3XHU4RDc3XHU0RjVDXHU3NTI4OlwiLFxuICAgICAgICAgICAgdmFsdWVEZXNjOiBcIlx1NEY2MFx1NTcyOFx1NjU4N1x1NjcyQ1x1NTMzQVx1OEY5M1x1NTE2NVx1NzY4NFx1NTAzQ1wiLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgY29tbWFuZDoge1xuICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgICAgcmVsb2FkOiBcIlx1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RFx1NzI3OVx1NjAyN1x1NTI5Rlx1ODBGRFwiLFxuICAgICAgICAgICAgZGlzYWJsZTogXCJcdTc5ODFcdTc1MjhcdTcyNzlcdTYwMjdcdTUyOUZcdTgwRkRcIixcbiAgICAgICAgfSxcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgemg7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcIi4uLy4uL0VudW1cIjtcblxuY29uc3QgemhfdHc6IFRyYW5zbGF0aW9uID0ge1xuICAgIHZhbGlkYXRvcjogXCJcdTlBNTdcdThCNDlcdTY1QjlcdTVGMEZcIixcbiAgICBzdHJhdGVneTogXCJcdTdCNTZcdTc1NjVcIixcbiAgICBjYW5jZWw6IFwiXHU1M0Q2XHU2RDg4XCIsXG4gICAgYXBwbHk6IFwiXHU2MUM5XHU3NTI4XCIsXG4gICAgZmVhdHVyZToge1xuICAgICAgICBbRmVhdHVyZS5BbGlhc106IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU1MjI1XHU1NDBEQWxpYXNcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU0RkVFXHU2NTM5XHU1MTQzXHU2NTc4XHU2NERBXHVGRjA4ZnJvbnRtYXR0ZXJcdUZGMDlcdTdERTlcdTVCNThcdTRFMkRcdTc2ODRcdTUyMjVcdTU0MERcdUZGMENcdTRFMERcdTVGNzFcdTk3RkZcdTVCRTZcdTk2OUJcdTUyMjVcdTU0MERcIixcbiAgICAgICAgICAgIHZhbGlkYXRvcjoge1xuICAgICAgICAgICAgICAgIGF1dG86IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJcdTgxRUFcdTUyRDVGcm9udG1hdHRlclwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NTk4Mlx1Njc5QyBmcm9udG1hdHRlciBcdTRFMERcdTVCNThcdTU3MjhcdUZGMENcdTUyNDdcdTY3MDNcdTU3MjhcdTdERTlcdTVCNThcdTRFMkRcdTUyNzVcdTVFRkFcdTMwMDJcdTUzRUZcdTgwRkRcdTY3MDNcdTc2N0NcdTc1MUZcdTUyNkZcdTRGNUNcdTc1MjhcdTMwMDJcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU2NzA5RnJvbnRtYXR0ZXJcdTYyNERcdTc1MUZcdTY1NDhcIixcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJcdTUzRUFcdTg2NTVcdTc0MDZcdTY3MDkgZnJvbnRtYXR0ZXIgXHU3Njg0XHU2QTk0XHUzMDAyXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJhdGVneToge1xuICAgICAgICAgICAgICAgIGVuc3VyZToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlx1NTg5RVx1NUYzN1wiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NTBDNVx1NzU3Nlx1NkExOVx1OTg0Q1x1NEUwRFx1NTcyOFx1NTIyNVx1NTQwRFx1NEUyRFx1NjY0Mlx1RkYwQ1x1NjI0RFx1NUMwN1x1NkExOVx1OTg0Q1x1OEEyRFx1N0Y2RVx1NzBCQVx1NTIyNVx1NTQwRFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRqdXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU4QUJGXHU2NTc0XCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU1QzA3XHU2QTE5XHU5ODRDXHU2REZCXHU1MkEwXHU1MjMwXHU1MjI1XHU1NDBEXHU0RTJEXHVGRjBDXHU0RjQ2XHU0RTBEXHU1RjcxXHU5N0ZGXHU3M0ZFXHU2NzA5XHU1MjI1XHU1NDBEXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXBsYWNlOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU2NkZGXHU2M0RCXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU3NTI4XHU2QTE5XHU5ODRDXHU2NkZGXHU2M0RCXHU3NTc2XHU1MjREXHU1MjI1XHU1NDBEXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLkV4cGxvcmVyXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTZBOTRcdThDQzdcdTZFOTBcdTdCQTFcdTc0MDZcdTU2NjhcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2M0RCXHU2QTk0XHU4Q0M3XHU2RTkwXHU3QkExXHU3NDA2XHU1NjY4XHU0RTJEXHU5ODZGXHU3OTNBXHU3Njg0XHU2QTE5XHU5ODRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLkdyYXBoXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTU3MTZcdThCNUNcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2M0RCXHU1NzE2XHU4QjVDL1x1NjcyQ1x1NTczMFx1NTcxNlx1OEI1Q1x1NEUyRFx1OTg2Rlx1NzkzQVx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5IZWFkZXJdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1OTgwMVx1OTgwMlx1NkExOVx1OTg0Q1wiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzREJUYWJcdTZBMTlcdTdDNjRcdTk4MDFcdTk4MDJcdTkwRThcdTc2ODRcdTZBMTlcdTk4NENcdTRFMjZcdTY2RjRcdTY1QjBcdTVCODNcdTUwMTFcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuQm9va21hcmtzXToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTY2RjhcdTdDM0RcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2M0RCXHU1MTY3XHU3RjZFXHU2NkY4XHU3QzNEXHU2M0QyXHU0RUY2XHU0RTJEXHU5ODZGXHU3OTNBXHU3Njg0XHU2QTE5XHU5ODRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLlNlYXJjaF06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU2NDFDXHU3RDIyXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjNEQlx1NjQxQ1x1N0QyMlx1OTgwMVx1OTc2Mlx1NEUyRFx1OTg2Rlx1NzkzQVx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5TdWdnZXN0XToge1xuICAgICAgICAgICAgbmFtZTogXCJcdTVFRkFcdThCNzBcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2NkZGXHU2M0RCXHU1RUZBXHU4QjcwXHU3QTk3XHU1M0UzXHU0RTJEXHU5ODZGXHU3OTNBXHU3Njg0XHU2QTE5XHU5ODRDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIFtGZWF0dXJlLlRhYl06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU2QTE5XHU3QzY0XHU5ODAxXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjNEQlRhYlx1NkExOVx1N0M2NFx1OTgwMVx1NEUyRFx1OTg2Rlx1NzkzQVx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5JbmxpbmVUaXRsZV06IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU5ODAxXHU1MTY3XHU2QTE5XHU5ODRDXCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjNEQlx1OTgwMVx1OTc2Mlx1NTE2N1x1OTg2Rlx1NzkzQVx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5DYW52YXNdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NzY3RFx1Njc3RlwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzREJcdTc2N0RcdTY3N0ZcdTRFMkRcdTk4NkZcdTc5M0FcdTc2ODRcdTZBMTlcdTk4NENcIixcbiAgICAgICAgfSxcbiAgICAgICAgW0ZlYXR1cmUuQmFja2xpbmtdOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NTNDRFx1NTQxMVx1OTNDOFx1NjNBNVwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTY2RkZcdTYzREJcdTUzQ0RcdTU0MTFcdTkzQzhcdTYzQTUoXHU5M0M4XHU2M0E1XHU2M0QwXHU1M0NBKVx1NEUyRFx1OTg2Rlx1NzkzQVx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICB9LFxuICAgICAgICBbRmVhdHVyZS5Ob3RlTGlua106IHtcbiAgICAgICAgICAgIG5hbWU6IFwiXHU3QjQ2XHU4QTE4XHU5M0M4XHU2M0E1XCIsXG4gICAgICAgICAgICBkZXNjOiBcIlx1NjZGRlx1NjNEQlx1N0I0Nlx1OEExOFx1NEUyRFx1NzY4NFx1NTE2N1x1OTBFOFx1OTNDOFx1NjNBNVwiLFxuICAgICAgICAgICAgc3RyYXRlZ3k6IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGFsbDogXCJcdTY2RkZcdTYzREJcdTUxNjhcdTkwRThcdTkzQzhcdTYzQTVcIixcbiAgICAgICAgICAgICAgICAgICAgb25seUVtcHR5OiBcIlx1NTNFQVx1NjZGRlx1NjNEQlx1NkM5Mlx1NjcwOVx1NTIyNVx1NTQwRFx1NzY4NFx1OTNDOFx1NjNBNVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXBwcm92YWw6IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dNb2RhbDogXCJcdTk4NkZcdTc5M0FcdTc4QkFcdThBOERcdTdBOTdcdTUzRTNcIixcbiAgICAgICAgICAgICAgICAgICAgYXV0bzogXCJcdTRGN0ZcdTc1MjhcdTgxRUFcdTUyRDVcdTc4QkFcdThBOERcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIG1hbmFnZTogXCJcdTdCQTFcdTc0MDZcIixcbiAgICB0ZW1wbGF0ZToge1xuICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgICAgbmFtZTogXCJcdTcyNzlcdTYwMjdcdTdCQzRcdTY3MkNcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU2ODM5XHU2NERBXHU1NDA0XHU3Mjc5XHU2MDI3XHU1MjlGXHU4MEZEXHU3MzY4XHU3QUNCXHU3QkExXHU3NDA2XHU3QkM0XHU2NzJDXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1haW46IFwiXHU0RTNCXHU3QkM0XHU2NzJDXCIsXG4gICAgICAgIGZhbGxiYWNrOiBcIlx1NTA5OVx1NzUyOFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJcdThGMzhcdTUxNjVcdTdCQzRcdTY3MkNcIixcbiAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICBtYWluOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTkwMUFcdTc1MjhcdTRFM0JcdTdCQzRcdTY3MkNcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBgXHU4QTJEXHU3RjZFIHlhbWwgXHU4REVGXHU1RjkxXHVGRjBDXHU4QTcyXHU1MDNDXHU1QzA3XHU3NTI4XHU2NUJDXHU2QTk0XHU2QTE5XHU5ODRDXHUzMDAyXHU1MDNDXHU1RkM1XHU5ODA4XHU2NjJGXHU1QjU3XHU0RTMyXHU2MjE2XHU2NTc4XHU1MDNDXHUzMDAyXHU5MDg0XHU1M0VGXHU0RUU1XHU0RjdGXHU3NTI4XHU5ODVFXHU0RjNDXHU3QkM0XHU2NzJDXHU4REVGXHU1RjkxIFwie3sgfX1cIlx1MzAwMlxuICAgICAgICAgICAgICAgIFx1OTA4NFx1NTNFRlx1NEVFNVx1NEY3Rlx1NzUyOCAjXHU2QTE5XHU5ODRDIFx1NEY4Nlx1NEY3Rlx1NzUyOFx1NEUwMFx1N0QxQVx1NkExOVx1OTg0Q1x1RkYwQ1x1NjIxNiBfIGJhc2VuYW1lIFx1NTQ4Q1x1NTE3Nlx1NEVENlx1NEZERFx1NzU1OVx1NUI1N1x1MzAwMlxuICAgICAgICAgICAgICAgIFx1NjdFNVx1OTVCMSBSZWFkbWUgXHU3N0FEXHU4OUUzXHU2NkY0XHU1OTFBYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWxsYmFjazoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXHU5MDFBXHU3NTI4XHU1MDk5XHU3NTI4XHU3QkM0XHU2NzJDXCIsXG4gICAgICAgICAgICAgICAgZGVzYzogXCJcdTRGNUNcdTcwQkFcdTUwOTlcdTc1MjhcdTkwNzhcdTk4MDVcdTc2ODRcdTdCQzRcdTY3MkNcdUZGMENcdTc1NzZcdTkwMUFcdTc1MjhcdTRFM0JcdTdCQzRcdTY3MkNcdTcxMjFcdTZDRDVcdTg5RTNcdTY3OTBcdTUxRkFcdTRGODZcdTY2NDJcdTRGN0ZcdTc1MjhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHVzZWQ6IFwiXHU5MDFBXHU3NTI4XHU3QkM0XHU2NzJDXHU1QzA3XHU2NzAzXHU0RjdGXHU3NTI4LiBcdTUwM0NcdTcwQkEge3t2YWx1ZX19XCIsXG4gICAgICAgIHNwZWNpZmljOiBcIlx1OTAxOVx1NTAwQlx1NzI3OVx1NjAyN1x1NTI5Rlx1ODBGRFx1NUMwN1x1NEY3Rlx1NzUyOFx1NzU3Nlx1NTI0RFx1N0JDNFx1NjcyQ1wiLFxuICAgIH0sXG4gICAgc2V0dGluZ3M6IFwiXHU2M0QyXHU0RUY2XHU4QTJEXHU3RjZFXCIsXG4gICAgcnVsZToge1xuICAgICAgICBuYW1lOiBcIlx1ODk4Rlx1NTI0N1wiLFxuICAgICAgICBwYXRoOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NkE5NFx1OERFRlx1NUY5MVx1ODk4Rlx1NTI0N1wiLFxuICAgICAgICAgICAgYmxhY2s6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlx1OUVEMVx1NTQwRFx1NTVBRVx1NkEyMVx1NUYwRlwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU2M0QyXHU0RUY2XHU1QzA3XHU1RkZEXHU3NTY1XHU4REVGXHU1RjkxXHU0RTJEXHU3Njg0XHU2QTk0XHVGRjBDXHU2QkNGXHU1MDBCXHU4REVGXHU1RjkxXHU1RkM1XHU5ODA4XHU0RjdGXHU3NTI4XHU1NzI4XHU2NUIwXHU4ODRDXHU0RTJEXHU1QkVCXHU1MTY1LlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdoaXRlOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTc2N0RcdTU0MERcdTU1QUVcdTZBMjFcdTVGMEZcIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NjNEMlx1NEVGNlx1NUMwN1x1ODY1NVx1NzQwNlx1OERFRlx1NUY5MVx1NEUyRFx1NzY4NFx1NkE5NFx1RkYwQ1x1NkJDRlx1NTAwQlx1OERFRlx1NUY5MVx1NUZDNVx1OTgwOFx1NEY3Rlx1NzUyOFx1NTcyOFx1NjVCMFx1ODg0Q1x1NEUyRFx1NUJFQlx1NTE2NS5cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGRlbGltaXRlcjoge1xuICAgICAgICAgICAgbmFtZTogXCJcdTUyMTdcdTg4NjhcdTUwM0NcIixcbiAgICAgICAgICAgIGRlc2M6IFwiXHU4QTJEXHU3RjZFXHU4NjU1XHU3NDA2XHU1MjE3XHU4ODY4XHU1MDNDXHU3Njg0XHU4OThGXHU1MjQ3XCIsXG4gICAgICAgICAgICBmaXJzdDogXCJcdTRGN0ZcdTc1MjhcdTdCMkNcdTRFMDBcdTUwMEJcdTUwM0NcIixcbiAgICAgICAgICAgIGpvaW46IFwiXHU3NTI4XHU1MjA2XHU5Njk0XHU3QjI2XHU4NjVGXHU2MkZDXHU2M0E1XHU1MTY4XHU5MEU4XCIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjoge1xuICAgICAgICAgICAgICAgIGZpcnN0OiBcIlx1NjcwM1x1NjNBMVx1NzUyOFx1N0IyQ1x1NEUwMFx1NTAwQlx1NTAzQ1wiLFxuICAgICAgICAgICAgICAgIGpvaW46IFwiXHU4RjM4XHU1MTY1XHU1MjA2XHU5Njk0XHU3QjI2XHU4NjVGXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgZmVhdHVyZXM6IFwiXHU3Mjc5XHU2MDI3XHU1MjlGXHU4MEZEXCIsXG4gICAgdXRpbDogXCJcdTVERTVcdTUxNzdcIixcbiAgICBjb2ZmZWU6IFwiXHU1OTgyXHU2NzlDXHU2MEE4XHU1NTlDXHU2QjYxXHU2QjY0XHU2M0QyXHU0RUY2XHU0RTI2XHU1RTBDXHU2NzFCXHU1RTZCXHU1MkE5L1x1NjUyRlx1NjMwMVx1NEY1Q1x1ODAwNVx1NjMwMVx1N0U4Q1x1OTU4Qlx1NzY3Q1x1RkYwQ1x1OEFDQlx1OUVERVx1NjRDQVx1NEVFNVx1NEUwQlx1NjMwOVx1OTIxNTpcIixcbiAgICBkZWJ1Z19pbmZvOiB7XG4gICAgICAgIHRpdGxlOiBcIlx1OEFCRlx1OEE2Nlx1OENDN1x1OEEwQVwiLFxuICAgICAgICBkZXNjOiBcIlx1NTcyOFx1N0Q0Mlx1N0FFRlx1NEUyRFx1OTg2Rlx1NzkzQVx1OEFCRlx1OEE2Nlx1OENDN1x1OEEwQVx1NTQ4Q1x1NjM1NVx1NjM0OVx1NTIzMFx1NzY4NFx1OTMyRlx1OEFBNFx1OENDN1x1OEEwQVwiLFxuICAgIH0sXG4gICAgYm9vdF9kZWxheToge1xuICAgICAgICB0aXRsZTogXCJcdTVFRjZcdTkwNzJcdTU1NUZcdTUyRDVcdTUyQTBcdThGMDlcIixcbiAgICAgICAgZGVzYzogXCJcdTYzRDJcdTRFRjZcdTVDMDdcdTU3MjhcdTYzMDdcdTVCOUFcdTY2NDJcdTk1OTNcdUZGMDhcdTZCRUJcdTc5RDJcdUZGMDlcdTVGOENcdTUyQTBcdThGMDlcIixcbiAgICB9LFxuICAgIGRpc2FibGVkOiBcIlx1Nzk4MVx1NzUyOFwiLFxuICAgIHByb2Nlc3Nvcjoge1xuICAgICAgICBuYW1lOiBcIlx1ODY1NVx1NzQwNlx1NTY2OFwiLFxuICAgICAgICBkZXNjOiBcIlx1NEZFRVx1NjUzOVx1ODlFM1x1Njc5MFx1NzY4NFx1NkExOVx1OTg0Q1wiLFxuICAgICAgICByZXBsYWNlOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NjZGRlx1NjNEQlwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTVDMDdcdTU3RjdcdTg4NENcIixcbiAgICAgICAgICAgIHBhdHRlcm46IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlx1NkI2M1x1NTI0N1BhdHRlcm5cIixcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlx1NUMwN1x1OTk5Nlx1NTE0OFx1NzUyOFx1NEY1QyBSZWdFeHAgXHU3Njg0XHU3QjJDXHU0RTAwXHU1MDBCXHU1M0MzXHU2NTc4XHVGRjBDXHU3MTM2XHU1RjhDXHU3NTI4XHU0RjVDIHJlcGxhY2UoKVx1NzY4NFx1N0IyQ1x1NEUwMFx1NTAwQlx1NTNDM1x1NjU3OFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTRGRUVcdTk4RkVcdTdCMjZGbGFnc1wiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU1QzA3XHU3NTI4XHU0RjVDXHU2NUIwUmVnRXhwIFx1NzY4NFx1N0IyQ1x1NEU4Q1x1NTAwQlx1NTNDM1x1NjU3OFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcGxhY2VtZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcdTY2RkZcdTYzREJcdTUwM0NSZXBsYWNlbWVudFwiLFxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXHU1QzA3XHU3NTI4XHU0RjVDIHJlcGxhY2UoKSBcdTc2ODRcdTdCMkNcdTRFOENcdTUwMEJcdTUzQzNcdTY1NzhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiBcIlx1NTFGRFx1NjU3OFwiLFxuICAgICAgICAgICAgZGVzYzogXCJcdTVDMDdcdTYwMEVcdTZBMjNcdThENzdcdTRGNUNcdTc1Mjg6XCIsXG4gICAgICAgICAgICB2YWx1ZURlc2M6IFwiXHU0RjYwXHU1NzI4XHU2NTg3XHU2NzJDXHU1MzQwXHU4RjM4XHU1MTY1XHU3Njg0XHU1MDNDXCIsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjb21tYW5kOiB7XG4gICAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgICAgICByZWxvYWQ6IFwiXHU5MUNEXHU2NUIwXHU1MkEwXHU4RjA5XHU3Mjc5XHU2MDI3XHU1MjlGXHU4MEZEXCIsXG4gICAgICAgICAgICBkaXNhYmxlOiBcIlx1Nzk4MVx1NzUyOFx1NzI3OVx1NjAyN1x1NTI5Rlx1ODBGRFwiLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB6aF90dztcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3Qga286IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IGtvO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBpdDogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgaXQ7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IGlkOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBpZDtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3Qgcm86IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IHJvO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBwbDogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgcGw7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IGNzOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBjcztcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3QgZGU6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IGRlO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBlczogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgZXM7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IGZyOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBmcjtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3Qgbm86IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IG5vO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBwcl9icjogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgcHJfYnI7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IHB0OiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBwdDtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3QgamE6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IGphO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBkYTogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgZGE7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IHVrOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCB1aztcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3Qgc3E6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IHNxO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCB0aDogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgdGg7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IGZhOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBmYTtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3QgdHI6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IHRyO1xuIiwgImltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSBcIi4uL0xvY2FsZVwiO1xuXG5jb25zdCBubDogVHJhbnNsYXRpb24gPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgbmw7XG4iLCAiaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tIFwiLi4vTG9jYWxlXCI7XG5cbmNvbnN0IGFtOiBUcmFuc2xhdGlvbiA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBhbTtcbiIsICJpbXBvcnQgeyBUcmFuc2xhdGlvbiB9IGZyb20gXCIuLi9Mb2NhbGVcIjtcblxuY29uc3QgbXM6IFRyYW5zbGF0aW9uID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IG1zO1xuIiwgImltcG9ydCBPYmplY3RIZWxwZXIgZnJvbSBcIkBzcmMvVXRpbHMvT2JqZWN0SGVscGVyXCI7XG5pbXBvcnQge1xuICAgIER5bmFtaWNJdGVtLFxuICAgIEtleVN0b3JhZ2VJbnRlcmZhY2UsXG4gICAgT2JqZWN0SXRlbSxcbiAgICBPYmplY3RJdGVtSW50ZXJmYWNlLFxuICAgIFByaW1pdGl2ZUl0ZW1JbnRlcmZhY2UsXG59IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZTxUIGV4dGVuZHMgT2JqZWN0SXRlbT4gaW1wbGVtZW50cyBLZXlTdG9yYWdlSW50ZXJmYWNlPFQ+IHtcbiAgICBwcml2YXRlIGl0ZW06IE9iamVjdEl0ZW1JbnRlcmZhY2U8VD47XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBUKSB7XG4gICAgICAgIHRoaXMuc2V0KGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQ8SyBleHRlbmRzIGtleW9mIFQ+KGs6IEspOiBEeW5hbWljSXRlbTxUW0tdPiB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW0uZ2V0KGspO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pdGVtID0gbmV3IFN0b3JhZ2VPYmplY3RJdGVtPFQ+KHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29sbGVjdCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbS52YWx1ZSgpO1xuICAgIH1cbn1cblxuY29uc3QgY3JlYXRlID0gPFQ+KHZhbHVlOiBUKTogRHluYW1pY0l0ZW08VD4gPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmFnZU9iamVjdEl0ZW0odmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmFnZVByaW1pdGl2ZUl0ZW0odmFsdWUpIGFzIHVua25vd24gYXMgRHluYW1pY0l0ZW08VD47XG4gICAgfVxufTtcblxuY2xhc3MgU3RvcmFnZU9iamVjdEl0ZW08VCBleHRlbmRzIE9iamVjdEl0ZW0+IGltcGxlbWVudHMgT2JqZWN0SXRlbUludGVyZmFjZTxUPiB7XG4gICAgcHJpdmF0ZSBpdGVtcz86IHsgW0sgaW4ga2V5b2YgVF06IER5bmFtaWNJdGVtPFRbS10+IH0gPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoZGF0YTogVCkge1xuICAgICAgICB0aGlzLnNldChkYXRhKTtcbiAgICB9XG5cbiAgICBhZGQ8SyBleHRlbmRzIGtleW9mIFQ+KGtleTogSywgdmFsdWU6IFRbS10pOiBEeW5hbWljSXRlbTxUW0tdPiB7XG4gICAgICAgIHRoaXMuaXRlbXNba2V5XSA9IGNyZWF0ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgIH1cblxuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLKTogRHluYW1pY0l0ZW08VFtLXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1trZXldO1xuICAgIH1cblxuICAgIHNldCh2YWx1ZTogVCk6IHZvaWQge1xuICAgICAgICB0aGlzLml0ZW1zID0ge30gYXMgeyBbSyBpbiBrZXlvZiBUXTogRHluYW1pY0l0ZW08VFtLXT4gfTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2XSBvZiBPYmplY3RIZWxwZXIuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNba2V5XSA9IGNyZWF0ZSh2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbHVlKCk6IFQge1xuICAgICAgICBjb25zdCBkYXRhOiBUID0ge30gYXMgVDtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0SGVscGVyLmVudHJpZXModGhpcy5pdGVtcykpIHtcbiAgICAgICAgICAgIGRhdGFba10gPSB2LnZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGEgYXMgVDtcbiAgICB9XG59XG5cbmNsYXNzIFN0b3JhZ2VQcmltaXRpdmVJdGVtPFQ+IGltcGxlbWVudHMgUHJpbWl0aXZlSXRlbUludGVyZmFjZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBUKSB7fVxuXG4gICAgdmFsdWUoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgc2V0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IFRlbXBsYXRlSW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvQ3JlYXRvci9JbnRlcmZhY2VzXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1widGVtcGxhdGU6cGF0dGVyblwiXSlcbiAgICAgICAgcHJpdmF0ZSBwYXR0ZXJuOiBzdHJpbmcsXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5OnRlbXBsYXRlOnJlc29sdmVyXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IChuYW1lZDogc3RyaW5nKSA9PiBUZW1wbGF0ZUludGVyZmFjZVxuICAgICkge31cblxuICAgIHB1YmxpYyBjcmVhdGUodGVtcGxhdGU6IHN0cmluZyk6IFRlbXBsYXRlSW50ZXJmYWNlIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG5ldyBSZWdFeHAodGhpcy5wYXR0ZXJuKS50ZXN0KHRlbXBsYXRlKSA/IFwiY29tcG9zaXRlXCIgOiBcInNpbXBsZVwiO1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmZhY3RvcnkodHlwZSk7XG4gICAgICAgIG9iai5zZXRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufVxuIiwgImltcG9ydCB7XG4gICAgVGVtcGxhdGVJbnRlcmZhY2UsXG4gICAgVGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2UsXG4gICAgVGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZSxcbn0gZnJvbSBcIkBzcmMvQ3JlYXRvci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlIGltcGxlbWVudHMgVGVtcGxhdGVJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcGxhY2Vob2xkZXI6IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UgPSBudWxsO1xuICAgIHByaXZhdGUgdGVtcGxhdGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0PFRlbXBsYXRlUGxhY2Vob2xkZXJGYWN0b3J5SW50ZXJmYWNlPihTSVtcImZhY3Rvcnk6cGxhY2Vob2xkZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogVGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2VcbiAgICApIHt9XG5cbiAgICBnZXRQbGFjZWhvbGRlcnMoKTogVGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZVtdIHtcbiAgICAgICAgaWYgKHRoaXMucGxhY2Vob2xkZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSB0aGlzLmZhY3RvcnkuY3JlYXRlKHRoaXMudGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdGhpcy5wbGFjZWhvbGRlcl07XG4gICAgfVxuXG4gICAgZ2V0VGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGU7XG4gICAgfVxuXG4gICAgc2V0VGVtcGxhdGUodGVtcGxhdGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFBsYWNlaG9sZGVyVHlwZSwgVGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZSB9IGZyb20gXCJAc3JjL0NyZWF0b3IvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RQbGFjZWhvbGRlciBpbXBsZW1lbnRzIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2Uge1xuICAgIHN0YXRpYyByZWFkb25seSBNRVRBOiBQbGFjZWhvbGRlclR5cGUgPSBcIm1ldGFcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgQlJBQ0tFVFM6IFBsYWNlaG9sZGVyVHlwZSA9IFwiYnJhY2tldHNcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgSEVBRElORzogUGxhY2Vob2xkZXJUeXBlID0gXCJoZWFkaW5nXCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IEZJTEU6IFBsYWNlaG9sZGVyVHlwZSA9IFwiZmlsZVwiO1xuICAgIHN0YXRpYyByZWFkb25seSBMT0dJQzogUGxhY2Vob2xkZXJUeXBlID0gXCJsb2dpY1wiO1xuICAgIHByb3RlY3RlZCBwbGFjZWhvbGRlcjogc3RyaW5nO1xuXG4gICAgZ2V0UGxhY2Vob2xkZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgbWFrZVZhbHVlKHBhdGg6IHN0cmluZyk6IHN0cmluZztcblxuICAgIHNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyOiBzdHJpbmcpOiBUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlIHtcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCAiaW1wb3J0IEFic3RyYWN0UGxhY2Vob2xkZXIgZnJvbSBcIi4vQWJzdHJhY3RQbGFjZWhvbGRlclwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCIuLi8uLi8uLi8uLi9jb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgRXh0cmFjdG9ySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0ludGVyZmFjZXMvRXh0cmFjdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBPYnNpZGlhbk1ldGFGYWN0b3J5IH0gZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmZhY3RvcnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWV0YVBsYWNlaG9sZGVyIGV4dGVuZHMgQWJzdHJhY3RQbGFjZWhvbGRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJjb21wb25lbnQ6ZXh0cmFjdG9yXCJdKVxuICAgICAgICBwcml2YXRlIGV4dHJhY3RvcjogRXh0cmFjdG9ySW50ZXJmYWNlLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTpvYnNpZGlhbjptZXRhXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IE9ic2lkaWFuTWV0YUZhY3RvcnlcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBtYWtlVmFsdWUocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdG9yLmV4dHJhY3QodGhpcy5wbGFjZWhvbGRlciwgdGhpcy5mYWN0b3J5KHBhdGgsIFwiZnJvbnRtYXR0ZXJcIikpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7fVxuIiwgImV4cG9ydCBkZWZhdWx0IGNsYXNzIFR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7fVxuIiwgImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgUGF0aE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0V4Y2VwdGlvbnMvUGF0aE5vdEZvdW5kRXhjZXB0aW9uXCI7XG5pbXBvcnQgVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9FeGNlcHRpb25zL1R5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBUZW1wbGF0ZUZhY3RvcnkgZnJvbSBcIkBzcmMvQ3JlYXRvci9UZW1wbGF0ZS9GYWN0b3J5XCI7XG5pbXBvcnQgeyBDcmVhdG9ySW50ZXJmYWNlLCBUZW1wbGF0ZUludGVyZmFjZSB9IGZyb20gXCJAc3JjL0NyZWF0b3IvSW50ZXJmYWNlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdG9yIGltcGxlbWVudHMgQ3JlYXRvckludGVyZmFjZSB7XG4gICAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgVGVtcGxhdGVJbnRlcmZhY2U+ID0gbmV3IE1hcCgpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5OmNyZWF0b3I6dGVtcGxhdGVcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogVGVtcGxhdGVGYWN0b3J5LFxuICAgICAgICBAaW5qZWN0KFNJLmxvZ2dlcilcbiAgICAgICAgQG5hbWVkKFwiY3JlYXRvclwiKVxuICAgICAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlXG4gICAgKSB7fVxuXG4gICAgY3JlYXRlKHBhdGg6IHN0cmluZywgdGVtcGxhdGU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IHBsYWNlaG9sZGVyIG9mIHRoaXMucHVsbCh0ZW1wbGF0ZSkuZ2V0UGxhY2Vob2xkZXJzKCkpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcGxhY2Vob2xkZXIubWFrZVZhbHVlKHBhdGgpID8/IFwiXCI7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBQYXRoTm90Rm91bmRFeGNlcHRpb24gfHwgZSBpbnN0YW5jZW9mIFR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBFcnJvciBieSBwYXRoOiAke3BhdGh9LiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUucmVwbGFjZShwbGFjZWhvbGRlci5nZXRQbGFjZWhvbGRlcigpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBsYXRlPy50cmltKCk/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHB1bGwodGVtcGxhdGU6IHN0cmluZyk6IFRlbXBsYXRlSW50ZXJmYWNlIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYHRlbXBsYXRlOiR7dGVtcGxhdGV9YDtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGtleSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYENyZWF0ZSB0ZW1wbGF0ZSBmbyAke3RlbXBsYXRlfWApO1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB0aGlzLmZhY3RvcnkuY3JlYXRlKHRlbXBsYXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCB7IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9DcmVhdG9yL0ludGVyZmFjZXNcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vLi4vLi4vLi4vY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IEFic3RyYWN0UGxhY2Vob2xkZXIgZnJvbSBcIkBzcmMvQ3JlYXRvci9UZW1wbGF0ZS9QbGFjZWhvbGRlcnMvQWJzdHJhY3RQbGFjZWhvbGRlclwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6cGxhY2Vob2xkZXI6cmVzb2x2ZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogKHR5cGU6IHN0cmluZywgcGxhY2Vob2xkZXI6IHN0cmluZykgPT4gVGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZVxuICAgICkge31cblxuICAgIHB1YmxpYyBjcmVhdGUocGxhY2Vob2xkZXI6IHN0cmluZyk6IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2Uge1xuICAgICAgICBsZXQgdHlwZSA9IEFic3RyYWN0UGxhY2Vob2xkZXIuTUVUQTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyLnN0YXJ0c1dpdGgoXCJ7e1wiKSAmJiBwbGFjZWhvbGRlci5lbmRzV2l0aChcIn19XCIpKSB7XG4gICAgICAgICAgICB0eXBlID0gQWJzdHJhY3RQbGFjZWhvbGRlci5CUkFDS0VUUztcbiAgICAgICAgfSBlbHNlIGlmIChwbGFjZWhvbGRlci5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgICAgICAgICAgdHlwZSA9IEFic3RyYWN0UGxhY2Vob2xkZXIuRklMRTtcbiAgICAgICAgfSBlbHNlIGlmIChwbGFjZWhvbGRlciA9PT0gXCIjaGVhZGluZ1wiKSB7XG4gICAgICAgICAgICB0eXBlID0gQWJzdHJhY3RQbGFjZWhvbGRlci5IRUFESU5HO1xuICAgICAgICB9IGVsc2UgaWYgKHBsYWNlaG9sZGVyLmluY2x1ZGVzKFwifFwiKSkge1xuICAgICAgICAgICAgdHlwZSA9IEFic3RyYWN0UGxhY2Vob2xkZXIuTE9HSUM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yeSh0eXBlLCBwbGFjZWhvbGRlcikuc2V0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXIpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQge1xuICAgIFRlbXBsYXRlSW50ZXJmYWNlLFxuICAgIFRlbXBsYXRlUGxhY2Vob2xkZXJGYWN0b3J5SW50ZXJmYWNlLFxuICAgIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UsXG59IGZyb20gXCJAc3JjL0NyZWF0b3IvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb3NpdGUgaW1wbGVtZW50cyBUZW1wbGF0ZUludGVyZmFjZSB7XG4gICAgcHJpdmF0ZSBwbGFjZWhvbGRlcnM6IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2VbXSA9IFtdO1xuICAgIHByaXZhdGUgdGVtcGxhdGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1widGVtcGxhdGU6cGF0dGVyblwiXSlcbiAgICAgICAgcHJpdmF0ZSBwYXR0ZXJuOiBzdHJpbmcsXG4gICAgICAgIEBpbmplY3Q8VGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2U+KFNJW1wiZmFjdG9yeTpwbGFjZWhvbGRlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWN0b3J5OiBUZW1wbGF0ZVBsYWNlaG9sZGVyRmFjdG9yeUludGVyZmFjZVxuICAgICkge31cblxuICAgIGdldFBsYWNlaG9sZGVycygpOiBUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlW10ge1xuICAgICAgICBpZiAodGhpcy5wbGFjZWhvbGRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUubWF0Y2gobmV3IFJlZ0V4cCh0aGlzLnBhdHRlcm4sIFwiZ1wiKSk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiB7IHBsYWNlaG9sZGVyIH0sXG4gICAgICAgICAgICAgICAgfSA9IHBhcnQubWF0Y2godGhpcy5wYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVycy5wdXNoKHRoaXMuZmFjdG9yeS5jcmVhdGUocGxhY2Vob2xkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlaG9sZGVycztcbiAgICB9XG5cbiAgICBnZXRUZW1wbGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBzZXRUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IHsgVGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2UsIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9DcmVhdG9yL0ludGVyZmFjZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJhY2tldHNQbGFjZWhvbGRlciBpbXBsZW1lbnRzIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcGxhY2Vob2xkZXI6IHN0cmluZztcbiAgICBwcml2YXRlIGxlZnRTcGFjZSA9IFwiXCI7XG4gICAgcHJpdmF0ZSByaWdodFNwYWNlID0gXCJcIjtcbiAgICBwcml2YXRlIGNoaWxkOiBUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3Q8VGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2U+KFNJW1wiZmFjdG9yeTpwbGFjZWhvbGRlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWN0b3J5OiBUZW1wbGF0ZVBsYWNlaG9sZGVyRmFjdG9yeUludGVyZmFjZVxuICAgICkge31cblxuICAgIGdldFBsYWNlaG9sZGVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIG1ha2VWYWx1ZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY2hpbGQubWFrZVZhbHVlKHBhdGgpO1xuICAgICAgICByZXR1cm4gdmFsdWUgPyBgJHt0aGlzLmxlZnRTcGFjZX0ke3ZhbHVlfSR7dGhpcy5yaWdodFNwYWNlfWAgOiBudWxsO1xuICAgIH1cblxuICAgIHNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyOiBzdHJpbmcpOiBUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlIHtcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBncm91cHM6IHsgbGVmdCwga2V5LCByaWdodCB9LFxuICAgICAgICB9ID0gdGhpcy5wbGFjZWhvbGRlci5tYXRjaChuZXcgUmVnRXhwKGBee3soKD88bGVmdD5cXFxccyopKD88a2V5Pi4qXFxcXGIpKD88cmlnaHQ+XFxcXHMqKSl9fWApKTtcbiAgICAgICAgdGhpcy5sZWZ0U3BhY2UgPSBsZWZ0ID8/IFwiXCI7XG4gICAgICAgIHRoaXMucmlnaHRTcGFjZSA9IHJpZ2h0ID8/IFwiXCI7XG4gICAgICAgIHRoaXMuY2hpbGQgPSB0aGlzLmZhY3RvcnkuY3JlYXRlKGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgQWJzdHJhY3RQbGFjZWhvbGRlciBmcm9tIFwiQHNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9BYnN0cmFjdFBsYWNlaG9sZGVyXCI7XG5pbXBvcnQgRXh0cmFjdG9ySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0ludGVyZmFjZXMvRXh0cmFjdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3QgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBPYnNpZGlhbkZpbGVGYWN0b3J5IH0gZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmZhY3RvcnkudHlwZXNcIjtcbmltcG9ydCB7IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vLi4vSW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWxlUGxhY2Vob2xkZXIgZXh0ZW5kcyBBYnN0cmFjdFBsYWNlaG9sZGVyIHtcbiAgICBwcml2YXRlIHBhdGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiY29tcG9uZW50OmV4dHJhY3RvclwiXSlcbiAgICAgICAgcHJpdmF0ZSBleHRyYWN0b3I6IEV4dHJhY3RvckludGVyZmFjZSxcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6b2JzaWRpYW46ZmlsZVwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWN0b3J5OiBPYnNpZGlhbkZpbGVGYWN0b3J5XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgbWFrZVZhbHVlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dHJhY3Rvci5leHRyYWN0KHRoaXMucGF0aCwgdGhpcy5mYWN0b3J5KHBhdGgpKTtcbiAgICB9XG5cbiAgICBzZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcjogc3RyaW5nKTogVGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHBsYWNlaG9sZGVyLnN1YnN0cmluZygxKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IHsgT2JzaWRpYW5NZXRhRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgQWJzdHJhY3RQbGFjZWhvbGRlciBmcm9tIFwiLi9BYnN0cmFjdFBsYWNlaG9sZGVyXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRpbmdQbGFjZWhvbGRlciBleHRlbmRzIEFic3RyYWN0UGxhY2Vob2xkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTpvYnNpZGlhbjptZXRhXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IE9ic2lkaWFuTWV0YUZhY3RvcnlcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBtYWtlVmFsdWUocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yeShwYXRoLCBcImhlYWRpbmdzXCIpPy5bMF0/LmhlYWRpbmcgPz8gXCJcIjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IHsgVGVtcGxhdGVQbGFjZWhvbGRlckZhY3RvcnlJbnRlcmZhY2UsIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9DcmVhdG9yL0ludGVyZmFjZXNcIjtcbmltcG9ydCBGYWN0b3J5IGZyb20gXCJAc3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL0ZhY3RvcnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naWNQbGFjZWhvbGRlciBpbXBsZW1lbnRzIFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVMSU1JVEVSID0gXCJ8XCI7XG4gICAgcHJpdmF0ZSBwbGFjZWhvbGRlcjogc3RyaW5nO1xuICAgIHByaXZhdGUgY2hpbGRyZW46IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2VbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3Q8RmFjdG9yeT4oU0lbXCJmYWN0b3J5OnBsYWNlaG9sZGVyXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IFRlbXBsYXRlUGxhY2Vob2xkZXJGYWN0b3J5SW50ZXJmYWNlXG4gICAgKSB7fVxuXG4gICAgbWFrZVZhbHVlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2hpbGQubWFrZVZhbHVlKHBhdGgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXI6IHN0cmluZyk6IFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2Uge1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnBsYWNlaG9sZGVyLnNwbGl0KHRoaXMuREVMSU1JVEVSKSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZmFjdG9yeS5jcmVhdGUoaXRlbS50cmltKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRQbGFjZWhvbGRlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZWhvbGRlcjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQ29udGFpbmVyTW9kdWxlLCBpbnRlcmZhY2VzIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCIuLi9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBUZW1wbGF0ZUZhY3RvcnkgZnJvbSBcIi4uLy4uL3NyYy9DcmVhdG9yL1RlbXBsYXRlL0ZhY3RvcnlcIjtcbmltcG9ydCBTaW1wbGUgZnJvbSBcIi4uLy4uL3NyYy9DcmVhdG9yL1RlbXBsYXRlL1NpbXBsZVwiO1xuaW1wb3J0IE1ldGFQbGFjZWhvbGRlciBmcm9tIFwiLi4vLi4vc3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL01ldGFQbGFjZWhvbGRlclwiO1xuaW1wb3J0IENyZWF0b3IgZnJvbSBcIi4uLy4uL3NyYy9DcmVhdG9yL0NyZWF0b3JcIjtcbmltcG9ydCBQbGFjZWhvbGRlckZhY3RvcnkgZnJvbSBcIi4uLy4uL3NyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9GYWN0b3J5XCI7XG5pbXBvcnQgQ29tcG9zaXRlIGZyb20gXCJAc3JjL0NyZWF0b3IvVGVtcGxhdGUvQ29tcG9zaXRlXCI7XG5pbXBvcnQgQnJhY2tldHNQbGFjZWhvbGRlciBmcm9tIFwiQHNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9CcmFja2V0c1BsYWNlaG9sZGVyXCI7XG5pbXBvcnQgRmlsZVBsYWNlaG9sZGVyIGZyb20gXCJAc3JjL0NyZWF0b3IvVGVtcGxhdGUvUGxhY2Vob2xkZXJzL0ZpbGVQbGFjZWhvbGRlclwiO1xuaW1wb3J0IEhlYWRpbmdQbGFjZWhvbGRlciBmcm9tIFwiQHNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9IZWFkaW5nUGxhY2Vob2xkZXJcIjtcbmltcG9ydCB7IENyZWF0b3JJbnRlcmZhY2UsIFRlbXBsYXRlSW50ZXJmYWNlLCBUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvQ3JlYXRvci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgQWJzdHJhY3RQbGFjZWhvbGRlciBmcm9tIFwiQHNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9BYnN0cmFjdFBsYWNlaG9sZGVyXCI7XG5pbXBvcnQgTG9naWNQbGFjZWhvbGRlciBmcm9tIFwiQHNyYy9DcmVhdG9yL1RlbXBsYXRlL1BsYWNlaG9sZGVycy9Mb2dpY1BsYWNlaG9sZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDb250YWluZXJNb2R1bGUoYmluZCA9PiB7XG4gICAgYmluZDxUZW1wbGF0ZUZhY3Rvcnk+KFNJW1wiZmFjdG9yeTpjcmVhdG9yOnRlbXBsYXRlXCJdKS50byhUZW1wbGF0ZUZhY3RvcnkpO1xuXG4gICAgYmluZDxpbnRlcmZhY2VzLkZhY3Rvcnk8VGVtcGxhdGVJbnRlcmZhY2U+PihTSVtcImZhY3Rvcnk6dGVtcGxhdGU6cmVzb2x2ZXJcIl0pLnRvQXV0b05hbWVkRmFjdG9yeTxUZW1wbGF0ZUludGVyZmFjZT4oXG4gICAgICAgIFNJW1wiY3JlYXRvcjp0ZW1wbGF0ZVwiXVxuICAgICk7XG5cbiAgICBiaW5kPFRlbXBsYXRlSW50ZXJmYWNlPihTSVtcImNyZWF0b3I6dGVtcGxhdGVcIl0pLnRvKFNpbXBsZSkud2hlblRhcmdldE5hbWVkKFwic2ltcGxlXCIpO1xuXG4gICAgYmluZDxUZW1wbGF0ZUludGVyZmFjZT4oU0lbXCJjcmVhdG9yOnRlbXBsYXRlXCJdKS50byhDb21wb3NpdGUpLndoZW5UYXJnZXROYW1lZChcImNvbXBvc2l0ZVwiKTtcblxuICAgIGJpbmQ8VGVtcGxhdGVQbGFjZWhvbGRlckludGVyZmFjZT4oU0kucGxhY2Vob2xkZXIpLnRvKE1ldGFQbGFjZWhvbGRlcikud2hlblRhcmdldE5hbWVkKEFic3RyYWN0UGxhY2Vob2xkZXIuTUVUQSk7XG4gICAgYmluZDxUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlPihTSS5wbGFjZWhvbGRlcikudG8oRmlsZVBsYWNlaG9sZGVyKS53aGVuVGFyZ2V0TmFtZWQoQWJzdHJhY3RQbGFjZWhvbGRlci5GSUxFKTtcbiAgICBiaW5kPFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2U+KFNJLnBsYWNlaG9sZGVyKVxuICAgICAgICAudG8oQnJhY2tldHNQbGFjZWhvbGRlcilcbiAgICAgICAgLndoZW5UYXJnZXROYW1lZChBYnN0cmFjdFBsYWNlaG9sZGVyLkJSQUNLRVRTKTtcbiAgICBiaW5kPFRlbXBsYXRlUGxhY2Vob2xkZXJJbnRlcmZhY2U+KFNJLnBsYWNlaG9sZGVyKVxuICAgICAgICAudG8oSGVhZGluZ1BsYWNlaG9sZGVyKVxuICAgICAgICAud2hlblRhcmdldE5hbWVkKEFic3RyYWN0UGxhY2Vob2xkZXIuSEVBRElORyk7XG4gICAgYmluZDxUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlPihTSS5wbGFjZWhvbGRlcikudG8oTG9naWNQbGFjZWhvbGRlcikud2hlblRhcmdldE5hbWVkKEFic3RyYWN0UGxhY2Vob2xkZXIuTE9HSUMpO1xuXG4gICAgYmluZDxDcmVhdG9ySW50ZXJmYWNlPihTSVtcImNyZWF0b3I6Y3JlYXRvclwiXSkudG8oQ3JlYXRvcik7XG5cbiAgICBiaW5kPGludGVyZmFjZXMuRmFjdG9yeTxUZW1wbGF0ZVBsYWNlaG9sZGVySW50ZXJmYWNlPj4oU0lbXCJmYWN0b3J5OnBsYWNlaG9sZGVyOnJlc29sdmVyXCJdKS50b0F1dG9OYW1lZEZhY3RvcnkoXG4gICAgICAgIFNJLnBsYWNlaG9sZGVyXG4gICAgKTtcblxuICAgIGJpbmQoU0lbXCJnZXR0ZXI6ZGVsaW1pdGVyXCJdKS50b0R5bmFtaWNWYWx1ZShjID0+ICgpID0+IGMuY29udGFpbmVyLmdldChTSS5kZWxpbWl0ZXIpKTtcbiAgICBiaW5kPFBsYWNlaG9sZGVyRmFjdG9yeT4oU0lbXCJmYWN0b3J5OnBsYWNlaG9sZGVyXCJdKS50byhQbGFjZWhvbGRlckZhY3RvcnkpLmluU2luZ2xldG9uU2NvcGUoKTtcbn0pO1xuIiwgImltcG9ydCB7IFRGaWxlLCBURmlsZUV4cGxvcmVySXRlbSwgVEZpbGVFeHBsb3JlclZpZXcsIFdvcmtzcGFjZUxlYWZFeHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcywgUGx1Z2lucyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgT2JzaWRpYW5GYWNhZGUgZnJvbSBcIkBzcmMvT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCBBYnN0cmFjdE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCBFeHBsb3JlclZpZXdVbmRlZmluZWQgZnJvbSBcIkBzcmMvRmVhdHVyZS9FeHBsb3Jlci9FeHBsb3JlclZpZXdVbmRlZmluZWRcIjtcbmltcG9ydCB7IEV4cGxvcmVyRmlsZUl0ZW1NdXRhdG9yIH0gZnJvbSBcIi4vRXhwbG9yZXJGaWxlSXRlbU11dGF0b3JcIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEV4cGxvcmVyU29ydCBmcm9tIFwiQHNyYy9GZWF0dXJlL0V4cGxvcmVyL0V4cGxvcmVyU29ydFwiO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tIFwiQHNyYy9GZWF0dXJlL0V4cGxvcmVyL1R5cGVzXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckludGVyZmFjZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBsb3Jlck1hbmFnZXIgZXh0ZW5kcyBBYnN0cmFjdE1hbmFnZXIge1xuICAgIHByaXZhdGUgZXhwbG9yZXJWaWV3OiBURmlsZUV4cGxvcmVyVmlldyA9IG51bGw7XG4gICAgcHJpdmF0ZSBtb2RpZmllZCA9IG5ldyBXZWFrTWFwPFRGaWxlRXhwbG9yZXJJdGVtLCBFeHBsb3JlckZpbGVJdGVtTXV0YXRvcj4oKTtcbiAgICBwcml2YXRlIHN0YXRlOiBTdGF0ZSA9IFN0YXRlLkRpc2FibGVkO1xuICAgIHByaXZhdGUgc29ydDogRXhwbG9yZXJTb3J0ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGUsXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOmV4cGxvcmVyOmZpbGVfbXV0YXRvcjpmYWN0b3J5XCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IChpdGVtOiBURmlsZUV4cGxvcmVySXRlbSwgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlKSA9PiBFeHBsb3JlckZpbGVJdGVtTXV0YXRvcixcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6ZmVhdHVyZTpleHBsb3Jlcjpzb3J0XCJdKVxuICAgICAgICBzb3J0RmFjdG9yeTogKCkgPT4gRXhwbG9yZXJTb3J0IHwgbnVsbCxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJsb2dnZXJcIl0pXG4gICAgICAgIEBuYW1lZChGZWF0dXJlLkV4cGxvcmVyKVxuICAgICAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc29ydCA9IHNvcnRGYWN0b3J5KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gRmVhdHVyZS5FeHBsb3JlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBTdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIHByaXZhdGUgaXNTdGF0ZShzdGF0ZTogU3RhdGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IHN0YXRlO1xuICAgIH1cbiAgICBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuRXhwbG9yZXI7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gU3RhdGUuRGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvRGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9yZXJWaWV3KSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RvcmVUaXRsZXMoKTtcbiAgICAgICAgICAgIHRoaXMuZXhwbG9yZXJWaWV3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnQ/LnN0b3AoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShTdGF0ZS5EaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0cnlFbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc29ydD8uc3RhcnQoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShTdGF0ZS5FbmFibGVkKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiTWFuYWdlciBlbmFibGVkXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCByZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJhY3RpdmU6bGVhZjpjaGFuZ2VcIixcbiAgICAgICAgICAgIGNiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkgJiYgdGhpcy5nZXRFeHBsb3JlclZpZXcoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJDYXRjaCBleHBsb3JlciB2aWV3XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVuYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUmVmcmVzaCgpLmNhdGNoKHRoaXMubG9nZ2VyLmxvZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcihyZWYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiQ2FsbGVkIHdoZW4gaXMgbm90IGVuYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcihyZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKFN0YXRlLldhaXRGb3JBY3RpdmVMZWFmKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZG9FbmFibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5mYWNhZGUuaXNJbnRlcm5hbFBsdWdpbkVuYWJsZWQoUGx1Z2lucy5GaWxlRXhwbG9yZXIpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBpbnRlcm5hbCBwbHVnaW4gJHtQbHVnaW5zLkZpbGVFeHBsb3Jlcn0gaXMgbm90IGVuYWJsZWRgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZ2V0RXhwbG9yZXJWaWV3KCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBnZXQgdmlldy4gU3Vic2NyaWJlIGFuZCB3YWl0IGZvciBhY3RpdmUgbGVhZlwiKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIGRvUmVmcmVzaCgpOiBQcm9taXNlPHsgW3A6IHN0cmluZ106IGJvb2xlYW4gfT4ge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXRlKFN0YXRlLkVuYWJsZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVJbnRlcm5hbChPYmplY3QudmFsdWVzKHRoaXMuZ2V0RXhwbG9yZXJGaWxlSXRlbXMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZG9VcGRhdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGUoU3RhdGUuRW5hYmxlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEV4cGxvcmVyRmlsZUl0ZW1zKClbcGF0aF07XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUludGVybmFsKGl0ZW0gPyBbaXRlbV0gOiBbXSk7XG4gICAgICAgICAgICByZXR1cm4gISFpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEV4cGxvcmVyVmlldygpOiBURmlsZUV4cGxvcmVyVmlldyB8IG51bGwge1xuICAgICAgICBpZiAodGhpcy5leHBsb3JlclZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMuZmFjYWRlLmdldExlYXZlc09mVHlwZTxXb3Jrc3BhY2VMZWFmRXh0PihMZWF2ZXMuRkUpO1xuXG4gICAgICAgICAgICBpZiAobGVhdmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBhcmUgc29tZSBleHBsb3JlcnMnIGxlYXZlc1wiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGVhZiA9IGxlYXZlcz8uWzBdO1xuXG4gICAgICAgICAgICAvL1RPRE86IHdoYXQgaWYgaXQgYmUgbGF0ZXI/XG4gICAgICAgICAgICBpZiAobGVhZiA9PT0gdW5kZWZpbmVkIHx8IGxlYWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhwbG9yZXJWaWV3VW5kZWZpbmVkKFwiRXhwbG9yZXIgbGVhZiBpcyB1bmRlZmluZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGVhZi5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwbG9yZXJWaWV3ID0gbGVhZi52aWV3IGFzIFRGaWxlRXhwbG9yZXJWaWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cGxvcmVyVmlldztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEV4cGxvcmVyRmlsZUl0ZW1zKCk6IHsgW0s6IHN0cmluZ106IFRGaWxlRXhwbG9yZXJJdGVtIH0ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFeHBsb3JlclZpZXcoKT8uZmlsZUl0ZW1zID8/IHt9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlSW50ZXJuYWwoaXRlbXM6IFRGaWxlRXhwbG9yZXJJdGVtW10pOiBQcm9taXNlPHsgW2s6IHN0cmluZ106IGJvb2xlYW4gfT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGlmICghKGkuZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGlmaWVkLmhhcyhpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZWQuc2V0KGksIHRoaXMuZmFjdG9yeShpLCB0aGlzLnJlc29sdmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpLnVwZGF0ZVRpdGxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdG9yZVRpdGxlcygpOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmV4cGxvcmVyVmlldy5maWxlSXRlbXMpLm1hcCh0aGlzLnJlc3RvcmUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0b3JlKGl0ZW06IFRGaWxlRXhwbG9yZXJJdGVtKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLm1vZGlmaWVkLmhhcyhpdGVtKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllZC5nZXQoaXRlbSkuZGVzdHJveSgpO1xuICAgICAgICAgICAgaXRlbS51cGRhdGVUaXRsZSgpO1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllZC5kZWxldGUoaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwgImltcG9ydCBGZWF0dXJlSW50ZXJmYWNlIGZyb20gXCJAc3JjL0ludGVyZmFjZXMvRmVhdHVyZUludGVyZmFjZVwiO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RGZWF0dXJlPFQ+IGltcGxlbWVudHMgRmVhdHVyZUludGVyZmFjZTxUPiB7XG4gICAgc3RhdGljIGdldElkKCk6IGFueSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRpYyBmdW5jdGlvbiAnZ2V0SWQoKScgaXMgbm90IGltcGxlbWVudGVkXCIpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGRpc2FibGUoKTogdm9pZDtcblxuICAgIGFic3RyYWN0IGVuYWJsZSgpOiB2b2lkO1xuXG4gICAgYWJzdHJhY3QgZ2V0SWQoKTogVDtcblxuICAgIGFic3RyYWN0IGlzRW5hYmxlZCgpOiBib29sZWFuO1xufVxuIiwgImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgQWJzdHJhY3RGZWF0dXJlIGZyb20gXCJAc3JjL0ZlYXR1cmUvQWJzdHJhY3RGZWF0dXJlXCI7XG5pbXBvcnQgTWFuYWdlckZlYXR1cmVJbnRlcmZhY2UgZnJvbSBcIkBzcmMvSW50ZXJmYWNlcy9NYW5hZ2VyRmVhdHVyZUludGVyZmFjZVwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIi4uL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RNYW5hZ2VyIGV4dGVuZHMgQWJzdHJhY3RGZWF0dXJlPEZlYXR1cmU+IGltcGxlbWVudHMgTWFuYWdlckZlYXR1cmVJbnRlcmZhY2Uge1xuICAgIHByb3RlY3RlZCByZXNvbHZlcjogUmVzb2x2ZXJJbnRlcmZhY2U7XG5cbiAgICBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlzRW5hYmxlZCgpICYmIHRoaXMuZG9EaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICAhdGhpcy5pc0VuYWJsZWQoKSAmJiB0aGlzLmRvRW5hYmxlKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb1VwZGF0ZShwYXRoKTtcbiAgICB9XG5cbiAgICBhc3luYyByZWZyZXNoKCk6IFByb21pc2U8eyBbazogc3RyaW5nXTogYm9vbGVhbiB9IHwgdm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9SZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRSZXNvbHZlcihyZXNvbHZlcjogUmVzb2x2ZXJJbnRlcmZhY2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGlzRW5hYmxlZCgpOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGRvRW5hYmxlKCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZG9EaXNhYmxlKCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZG9VcGRhdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBkb1JlZnJlc2goKTogUHJvbWlzZTx7IFtrOiBzdHJpbmddOiBib29sZWFuIH0gfCB2b2lkPjtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBsb3JlclZpZXdVbmRlZmluZWQgZXh0ZW5kcyBFcnJvciB7fVxuIiwgImltcG9ydCBGZWF0dXJlSW50ZXJmYWNlIGZyb20gXCJAc3JjL0ludGVyZmFjZXMvRmVhdHVyZUludGVyZmFjZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBuYW1lZCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IEFwcEV2ZW50cyB9IGZyb20gXCJAc3JjL1R5cGVzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmVhdHVyZUNvbXBvc2VyIHtcbiAgICBwcml2YXRlIGZlYXR1cmVzOiB7IFtrOiBzdHJpbmddOiBGZWF0dXJlSW50ZXJmYWNlPGFueT4gfSA9IHt9O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5OmZlYXR1cmVcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogKG5hbWU6IHN0cmluZykgPT4gRmVhdHVyZUludGVyZmFjZTxhbnk+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZXZlbnQ6ZGlzcGF0Y2hlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBkaXNwYXRjaGVyOiBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2U8QXBwRXZlbnRzPixcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChcImNvbXBvc2VyOmZlYXR1cmVcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZVxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXQ8SyBleHRlbmRzIEZlYXR1cmVJbnRlcmZhY2U8YW55Pj4oaWQ6IGFueSk6IEsgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZlYXR1cmVzW2lkXSBhcyBLKSA/PyBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5mZWF0dXJlcyk7XG4gICAgfVxuXG4gICAgdG9nZ2xlKGlkOiBhbnksIHN0YXRlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgRmVhdHVyZSAtICR7aWR9IHRvZ2dsZSB0byAke3N0YXRlfWApO1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5mZWF0dXJlc1tpZF07XG4gICAgICAgIGlmICgoIXN0YXRlICYmICFmZWF0dXJlKSB8fCAoc3RhdGUgJiYgZmVhdHVyZT8uaXNFbmFibGVkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZlYXR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNbaWRdID0gdGhpcy5mYWN0b3J5KGlkKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZShpZCwgc3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmVhdHVyZVtzdGF0ZSA/IFwiZW5hYmxlXCIgOiBcImRpc2FibGVcIl0oKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBGZWF0dXJlIC0gJHtmZWF0dXJlLmdldElkKCl9LiBTdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZmVhdHVyZXNbaWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwiZmVhdHVyZTplbmFibGVcIiwgbmV3IEV2ZW50KHsgZmVhdHVyZSB9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlQWxsKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmZlYXR1cmVzKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBEaXNhYmxlIGZlYXR1cmUgJHtmZWF0dXJlLmdldElkKCl9YCk7XG4gICAgICAgICAgICBmZWF0dXJlLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZlYXR1cmVzID0ge307XG4gICAgfVxufVxuIiwgImltcG9ydCBGdW5jdGlvblJlcGxhY2VyIGZyb20gXCIuLi8uLi9VdGlscy9GdW5jdGlvblJlcGxhY2VyXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBuYW1lZCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vLi4vLi4vY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiLi4vLi4vQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiLi4vLi4vT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCB7IGRlYm91bmNlLCBURmlsZUV4cGxvcmVySXRlbSwgVEZpbGVFeHBsb3JlclZpZXcsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCBFeHBsb3JlclZpZXdVbmRlZmluZWQgZnJvbSBcIkBzcmMvRmVhdHVyZS9FeHBsb3Jlci9FeHBsb3JlclZpZXdVbmRlZmluZWRcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgeyBSZXNvbHZlckludGVyZmFjZSB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcbmltcG9ydCBGZWF0dXJlU2VydmljZSBmcm9tIFwiLi4vRmVhdHVyZVNlcnZpY2VcIjtcbmltcG9ydCB7IEZ1bmN0aW9uUmVwbGFjZXJGYWN0b3J5IH0gZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmZhY3RvcnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwbG9yZXJTb3J0IHtcbiAgICBwcml2YXRlIHZpZXc6IFRGaWxlRXhwbG9yZXJWaWV3O1xuICAgIHByaXZhdGUgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVwbGFjZXI6IEZ1bmN0aW9uUmVwbGFjZXI8VEZpbGVFeHBsb3JlclZpZXcsIFwiZ2V0U29ydGVkRm9sZGVySXRlbXNcIiwgRXhwbG9yZXJTb3J0PjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNiOiAoZTogeyBpZDogc3RyaW5nOyByZXN1bHQ/OiBib29sZWFuIH0pID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSByZWZzOiBbTGlzdGVuZXJSZWY8XCJtYW5hZ2VyOnJlZnJlc2hcIj4/LCBMaXN0ZW5lclJlZjxcIm1hbmFnZXI6dXBkYXRlXCI+P10gPSBbXTtcbiAgICBwcml2YXRlIHJlc29sdmVyOiBSZXNvbHZlckludGVyZmFjZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJLmxvZ2dlcilcbiAgICAgICAgQG5hbWVkKFwiZXhwbG9yZXI6ZmVhdHVyZTpzb3J0XCIpXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOnNlcnZpY2VcIl0pXG4gICAgICAgIHNlcnZpY2U6IEZlYXR1cmVTZXJ2aWNlLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTpyZXBsYWNlclwiXSlcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSByZXBsYWNlckZhY3Rvcnk6IEZ1bmN0aW9uUmVwbGFjZXJGYWN0b3J5PFxuICAgICAgICAgICAgVEZpbGVFeHBsb3JlclZpZXcsXG4gICAgICAgICAgICBcImdldFNvcnRlZEZvbGRlckl0ZW1zXCIsXG4gICAgICAgICAgICBFeHBsb3JlclNvcnRcbiAgICAgICAgPlxuICAgICkge1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gc2VydmljZS5jcmVhdGVSZXNvbHZlcihGZWF0dXJlLkV4cGxvcmVyKTtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRlYm91bmNlKHRoaXMub25NYW5hZ2VyVXBkYXRlLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICB0aGlzLmNiID0gZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5pZCA9PT0gRmVhdHVyZS5FeHBsb3JlciAmJiAoZS5yZXN1bHQgPT09IHRydWUgfHwgZS5yZXN1bHQgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy52aWV3ICYmICh0aGlzLmluaXRWaWV3KCksICF0aGlzLnZpZXcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXhwbG9yZXJWaWV3VW5kZWZpbmVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZnMucHVzaCh0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoeyBuYW1lOiBcIm1hbmFnZXI6cmVmcmVzaFwiLCBjYjogZSA9PiB0aGlzLmNiKHsgaWQ6IGUuZ2V0KCkuaWQgfSkgfSkpO1xuICAgICAgICB0aGlzLnJlZnMucHVzaChcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJtYW5hZ2VyOnVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgIGNiOiBlID0+IHRoaXMuY2IoZS5nZXQoKSksXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyeVRvUmVwbGFjZU9yaWdpbmFsU29ydCgpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJlbmFibGVkXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goZSA9PiB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIoZSkpO1xuICAgICAgICB0aGlzLnJlZnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZXBsYWNlcj8uZGlzYWJsZSgpO1xuICAgICAgICB0aGlzLnZpZXc/LnJlcXVlc3RTb3J0KCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImRpc2FibGVkXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1N0YXJ0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1hbmFnZXJVcGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlRyeSB0byByZXF1ZXN0IHNvcnQgYnkgZXZlbnRcIik7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiU2tpcHBlZCBiZWNhdXNlIGZlYXR1cmUgaXMgbm90IGVuYWJsZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RTb3J0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0VmlldygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5mYWNhZGUuZ2V0Vmlld3NPZlR5cGU8VEZpbGVFeHBsb3JlclZpZXc+KExlYXZlcy5GRSk/LlswXSA/PyBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgdHJ5VG9SZXBsYWNlT3JpZ2luYWxTb3J0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdGFydGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXBsYWNlcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBSZXBsYWNlciBpcyBleGlzdCBhbHJlYWR5LiBTdGF0ZSBpcyAke3RoaXMucmVwbGFjZXIuaXNFbmFibGVkKCl9YCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVwbGFjZXIuaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJFbmFibGUgcmVwbGFjZXJcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlci5lbmFibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkluaXQgcmVwbGFjZXJcIik7XG5cbiAgICAgICAgdGhpcy5yZXBsYWNlciA9IHRoaXMucmVwbGFjZXJGYWN0b3J5KFxuICAgICAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMudmlldyksXG4gICAgICAgICAgICBcImdldFNvcnRlZEZvbGRlckl0ZW1zXCIsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgKGZlYXR1cmUsIGRlZmF1bHRBcmdzLCB2YW5pbGxhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUuZ2V0U29ydGVkRm9sZGVySXRlbXMoZGVmYXVsdEFyZ3M/LlswXSkgPz8gdmFuaWxsYS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnJlcGxhY2VyLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNTb3J0U3VwcG9ydGVkKHNvcnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gW1wiYWxwaGFiZXRpY2FsUmV2ZXJzZVwiLCBcImFscGhhYmV0aWNhbFwiXS5pbmNsdWRlcyhzb3J0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQXNjKG9yZGVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG9yZGVyID09PSBcImFscGhhYmV0aWNhbFwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U29ydGVkRm9sZGVySXRlbXMoZm9sZGVyOiBURm9sZGVyKTogVEZpbGVFeHBsb3Jlckl0ZW1bXSB8IG51bGwge1xuICAgICAgICBjb25zdCBzb3J0T3JkZXIgPSB0aGlzLnZpZXcuc29ydE9yZGVyO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1NvcnRTdXBwb3J0ZWQoc29ydE9yZGVyKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBTb3J0IGlzICR7c29ydE9yZGVyfS4gU2tpcHBlZC5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiRmlsZSBpcyBub3QgVEZvbGRlci4gV2h5PyBTa2lwcGVkLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZm9sZGVyLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjaGlsZHJlbi5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gYSBpbnN0YW5jZW9mIFRGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCByID0gYiBpbnN0YW5jZW9mIFRGb2xkZXI7XG4gICAgICAgICAgICBsZXQgaztcbiAgICAgICAgICAgIGlmIChpICYmICFyKSB7XG4gICAgICAgICAgICAgICAgayA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaSAmJiByKSB7XG4gICAgICAgICAgICAgICAgayA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0ID0gaSA/IGEubmFtZSA6IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShhLnBhdGgpID8/IGEubmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBidCA9IHIgPyBiLm5hbWUgOiB0aGlzLnJlc29sdmVyLnJlc29sdmUoYi5wYXRoKSA/PyBiLm5hbWU7XG4gICAgICAgICAgICAgICAgayA9IGF0LmxvY2FsZUNvbXBhcmUoYnQpO1xuICAgICAgICAgICAgICAgIGsgPSB0aGlzLmlzQXNjKHNvcnRPcmRlcikgPyBrIDogLWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZiA9IHRoaXMudmlldy5maWxlSXRlbXNbY2hpbGQucGF0aF07XG4gICAgICAgICAgICBmICYmIHJlc3VsdC5wdXNoKGYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwgImltcG9ydCBGZWF0dXJlQ29tcG9zZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9GZWF0dXJlQ29tcG9zZXJcIjtcbmltcG9ydCB7IEZlYXR1cmUsIE1hbmFnZXJzIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IEFic3RyYWN0TWFuYWdlciBmcm9tIFwiQHNyYy9GZWF0dXJlL0Fic3RyYWN0TWFuYWdlclwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBuYW1lZCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEFwcEV2ZW50cyB9IGZyb20gXCJAc3JjL1R5cGVzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFuYWdlckNvbXBvc2VyIHtcbiAgICBwcml2YXRlIGlkczogRmVhdHVyZVtdID0gTWFuYWdlcnM7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZlYXR1cmU6Y29tcG9zZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZmVhdHVyZXM6IEZlYXR1cmVDb21wb3NlcixcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChcImNvbXBvc2VyOm1hbmFnZXJcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz5cbiAgICApIHt9XG5cbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlKHBhdGg6IHN0cmluZywgaWQ6IEZlYXR1cmUgPSBudWxsKTogUHJvbWlzZTx7IFtLIGluIEZlYXR1cmVdPzogYm9vbGVhbiB9PiB7XG4gICAgICAgIGNvbnN0IGlkcyA9IGlkID8gW2lkXSA6IHRoaXMuaWRzO1xuICAgICAgICBjb25zdCByZXN1bHQ6IHsgW0sgaW4gRmVhdHVyZV0/OiBib29sZWFuIH0gPSB7fTtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgbWFuYWdlciA9IHRoaXMuZmVhdHVyZXMuZ2V0PEFic3RyYWN0TWFuYWdlcj4oaSk7XG4gICAgICAgICAgICBpZiAobWFuYWdlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgUnVuIHVwZGF0ZSBmb3IgWyR7cGF0aH1dIG9uIFske21hbmFnZXIuZ2V0SWQoKX1dYCk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlci51cGRhdGUocGF0aCkudGhlbihyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2goXCJtYW5hZ2VyOnVwZGF0ZVwiLCBuZXcgRXZlbnQoeyBpZDogaSwgcmVzdWx0OiByLCBwYXRoIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcmVmcmVzaChpZDogRmVhdHVyZSA9IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicmVmcmVzaFwiKTtcbiAgICAgICAgY29uc3QgaWRzID0gaWQgPyBbaWRdIDogdGhpcy5pZHM7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmFnZXIgPSB0aGlzLmZlYXR1cmVzLmdldDxBYnN0cmFjdE1hbmFnZXI+KGkpO1xuICAgICAgICAgICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyLnJlZnJlc2goKS50aGVuKCgpID0+IHRoaXMuZGlzcGF0Y2hlci5kaXNwYXRjaChcIm1hbmFnZXI6cmVmcmVzaFwiLCBuZXcgRXZlbnQoeyBpZDogaSB9KSkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGluamVjdCwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgT2JzaWRpYW5GYWNhZGUgZnJvbSBcIkBzcmMvT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcywgUGx1Z2lucyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IFNlYXJjaERPTSwgU2VhcmNoUGx1Z2luVmlldywgV29ya3NwYWNlTGVhZkV4dCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi9VdGlscy9TZWFyY2hEb21XcmFwcGVyU2VydmljZVwiO1xuaW1wb3J0IEFic3RyYWN0RmVhdHVyZSBmcm9tIFwiLi4vQWJzdHJhY3RGZWF0dXJlXCI7XG5pbXBvcnQgRmVhdHVyZVNlcnZpY2UgZnJvbSBcIi4uL0ZlYXR1cmVTZXJ2aWNlXCI7XG5pbXBvcnQgeyBSZXNvbHZlckludGVyZmFjZSB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEFwcEV2ZW50cyB9IGZyb20gXCJAc3JjL1R5cGVzXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCJAc3JjL0ZlYXR1cmUvU2VhcmNoL1R5cGVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaE1hbmFnZXIgZXh0ZW5kcyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgc3RhdGU6IFN0YXRlID0gU3RhdGUuRGlzYWJsZWQ7XG4gICAgcHJpdmF0ZSBkb206IFNlYXJjaERPTSA9IG51bGw7XG4gICAgcHJpdmF0ZSByZXNvbHZlcjogUmVzb2x2ZXJJbnRlcmZhY2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY2FkZTpvYnNpZGlhblwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWNhZGU6IE9ic2lkaWFuRmFjYWRlLFxuICAgICAgICBAaW5qZWN0KFNJLmxvZ2dlcilcbiAgICAgICAgQG5hbWVkKFwibWFuYWdlcjpzZWFyY2hcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZSxcbiAgICAgICAgQGluamVjdChTSVtcInNlcnZpY2U6c2VhcmNoOmRvbTp3cmFwcGVyXCJdKVxuICAgICAgICBwcml2YXRlIHNlcnZpY2U6IFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpzZXJ2aWNlXCJdKVxuICAgICAgICBmZWF0dXJlU2VydmljZTogRmVhdHVyZVNlcnZpY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxBcHBFdmVudHM+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSBmZWF0dXJlU2VydmljZS5jcmVhdGVSZXNvbHZlcih0aGlzLmdldElkKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuU2VhcmNoO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VydmljZS5kZXN0cm95QnlUYWcodGhpcy5nZXRJZCgpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShTdGF0ZS5EaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmZhY2FkZS5pc0ludGVybmFsUGx1Z2luRW5hYmxlZChQbHVnaW5zLlNlYXJjaCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYGludGVybmFsIHBsdWdpbiAke1BsdWdpbnMuU2VhcmNofSBpcyBub3QgZW5hYmxlZGApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTGVhZkFjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVuYWJsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53YWl0Rm9yTGVhZkFjdGl2YXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U3RhdGUoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYENoYW5nZSBzdGF0ZSBmcm9tICR7dGhpcy5zdGF0ZX0gdG8gJHtzdGF0ZX1gKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICBwcml2YXRlIHRyeUVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZG9tID0gdGhpcy5nZXRTZWFyY2hEb20oKTtcbiAgICAgICAgaWYgKCFkb20pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmlldyBvZiAke0xlYXZlcy5TfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcnZpY2Uud3JhcERvbShkb20sIHRoaXMucmVzb2x2ZXIsIHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoU3RhdGUuRW5hYmxlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB3YWl0Rm9yTGVhZkFjdGl2YXRpb24oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuYW1lOiBcImFjdGl2ZTpsZWFmOmNoYW5nZVwiLFxuICAgICAgICAgICAgY2I6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcImNhbGxlZCBhY3RpdmU6bGVhZjpjaGFuZ2UgY2FsbGJhY2tcIik7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcihyZWYpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0xlYWZBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShTdGF0ZS5XYWl0Rm9yQWN0aXZlTGVhZik7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBTZWFyY2hNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gU3RhdGUuRGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0xlYWZBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY2FkZS5nZXRMZWF2ZXNPZlR5cGU8V29ya3NwYWNlTGVhZkV4dD4oTGVhdmVzLlMpPy5bMF0/LmlzVmlzaWJsZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmlldygpOiBTZWFyY2hQbHVnaW5WaWV3IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY2FkZS5nZXRWaWV3c09mVHlwZTxTZWFyY2hQbHVnaW5WaWV3PihMZWF2ZXMuUyk/LlswXSA/PyBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2VhcmNoRG9tKCk6IFNlYXJjaERPTSB8IG51bGwge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLmRvbSA9IHRoaXMuZ2V0VmlldygpPy5kb20gPz8gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb207XG4gICAgfVxufVxuIiwgImV4cG9ydCB0eXBlIEZ1bmN0aW9uUHJvcGVydHlOYW1lczxUPiA9IHsgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueSA/IEsgOiBuZXZlciB9W2tleW9mIFRdICZcbiAgICBzdHJpbmc7XG5leHBvcnQgdHlwZSBJbXBsZW1lbnRhdGlvbjxUYXJnZXQsIE1ldGhvZCBleHRlbmRzIEZ1bmN0aW9uUHJvcGVydHlOYW1lczxSZXF1aXJlZDxUYXJnZXQ+PiwgTz4gPSAoXG4gICAgYXJnczogTyxcbiAgICBkZWZhdWx0QXJnczogVGFyZ2V0W01ldGhvZF0gZXh0ZW5kcyAoLi4uYXJnOiBhbnkpID0+IGFueSA/IFBhcmFtZXRlcnM8VGFyZ2V0W01ldGhvZF0+IDogdW5rbm93bltdLFxuICAgIHZhbmlsbGE6IFRhcmdldFtNZXRob2RdXG4pID0+IGFueTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bmN0aW9uUmVwbGFjZXI8VGFyZ2V0LCBNZXRob2QgZXh0ZW5kcyBGdW5jdGlvblByb3BlcnR5TmFtZXM8UmVxdWlyZWQ8VGFyZ2V0Pj4sIE8+IHtcbiAgICBwcml2YXRlIHZhbmlsbGE6IFRhcmdldFtNZXRob2RdIHwgbnVsbCA9IG51bGw7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgdGFyZ2V0OiBUYXJnZXQsXG4gICAgICAgIHByaXZhdGUgbWV0aG9kOiBNZXRob2QsXG4gICAgICAgIHByaXZhdGUgYXJnczogTyxcbiAgICAgICAgcHJpdmF0ZSBpbXBsZW1lbnRhdGlvbjogSW1wbGVtZW50YXRpb248VGFyZ2V0LCBNZXRob2QsIE8+XG4gICAgKSB7XG4gICAgICAgIHRoaXMudmFsaWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZTxUYXJnZXQsIE1ldGhvZCBleHRlbmRzIEZ1bmN0aW9uUHJvcGVydHlOYW1lczxSZXF1aXJlZDxUYXJnZXQ+PiwgTz4oXG4gICAgICAgIHRhcmdldDogVGFyZ2V0LFxuICAgICAgICBtZXRob2Q6IE1ldGhvZCxcbiAgICAgICAgYXJnczogTyxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IEltcGxlbWVudGF0aW9uPFRhcmdldCwgTWV0aG9kLCBPPlxuICAgICkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uUmVwbGFjZXIodGFyZ2V0LCBtZXRob2QsIGFyZ3MsIGltcGxlbWVudGF0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGFyZ2V0KCk6IFRhcmdldCB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy52YW5pbGxhICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy52YW5pbGxhID0gdGhpcy50YXJnZXRbdGhpcy5tZXRob2RdO1xuICAgICAgICB0aGlzLnRhcmdldFt0aGlzLm1ldGhvZF0gPSBmdW5jdGlvbiAoLi4uYXJnczogdW5rbm93bltdKTogdW5rbm93biB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5pbXBsZW1lbnRhdGlvbi5jYWxsKHRoaXMsIHNlbGYuYXJncywgYXJncywgc2VsZi52YW5pbGxhKTtcbiAgICAgICAgfSBhcyB1bmtub3duIGFzIFRhcmdldFtNZXRob2RdO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy52YW5pbGxhICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldFt0aGlzLm1ldGhvZF0gPSB0aGlzLnZhbmlsbGE7XG4gICAgICAgICAgICB0aGlzLnZhbmlsbGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFuaWxsYSAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkKCk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMudGFyZ2V0W3RoaXMubWV0aG9kXSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1ldGhvZCAke3RoaXMubWV0aG9kfSBpcyBub3QgYSBmdW5jdGlvbmApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCBBYnN0cmFjdE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuaW1wb3J0IHsgRmVhdHVyZSwgTGVhdmVzIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IHsgTWFya2Rvd25MZWFmLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IHsgT2JzaWRpYW5BY3RpdmVGaWxlIH0gZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmZhY3RvcnkudHlwZXNcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgRnVuY3Rpb25SZXBsYWNlciBmcm9tIFwiLi4vLi4vVXRpbHMvRnVuY3Rpb25SZXBsYWNlclwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJNYW5hZ2VyIGV4dGVuZHMgQWJzdHJhY3RNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGVuYWJsZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhbGxiYWNrOiAoKSA9PiB2b2lkID0gbnVsbDtcbiAgICBwcml2YXRlIHJlZjogTGlzdGVuZXJSZWY8XCJsYXlvdXQ6Y2hhbmdlXCI+O1xuICAgIHByaXZhdGUgcmVwbGFjZXI6IEZ1bmN0aW9uUmVwbGFjZXI8V29ya3NwYWNlTGVhZiwgXCJzZXRQaW5uZWRcIiwgVGFiTWFuYWdlcj4gPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5Om9ic2lkaWFuOmFjdGl2ZTpmaWxlXCJdKVxuICAgICAgICBmYWN0b3J5OiBPYnNpZGlhbkFjdGl2ZUZpbGVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBmYWN0b3J5KCk7XG4gICAgICAgICAgICBmaWxlICYmIHRoaXMudXBkYXRlKGZpbGUucGF0aCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gRmVhdHVyZS5UYWI7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBUYWJNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb0Rpc2FibGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZik7XG4gICAgICAgIHRoaXMucmVwbGFjZXI/LmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5yZWYgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb0VuYWJsZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbml0UmVwbGFjZXIoKTtcbiAgICAgICAgdGhpcy5yZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoeyBuYW1lOiBcImxheW91dDpjaGFuZ2VcIiwgY2I6IHRoaXMuY2FsbGJhY2sgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZG9SZWZyZXNoKCk6IFByb21pc2U8eyBbazogc3RyaW5nXTogYm9vbGVhbiB9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIGRvVXBkYXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmlubmVyVXBkYXRlKHBhdGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0W3BhdGhdID09PSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdFJlcGxhY2VyKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBsZWFmID0gdGhpcy5mYWNhZGUuZ2V0QWN0aXZlTGVhZigpO1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gRnVuY3Rpb25SZXBsYWNlci5jcmVhdGUoXG4gICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobGVhZiksXG4gICAgICAgICAgICBcInNldFBpbm5lZFwiLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzZWxmLCBbcGlubmVkXSwgdmFuaWxsYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbmlsbGEuY2FsbCh0aGlzLCBwaW5uZWQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzPy52aWV3Py5nZXRWaWV3VHlwZSgpID09PSBMZWF2ZXMuTUQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbm5lclVwZGF0ZSh0aGlzLnZpZXcuZmlsZS5wYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZXBsYWNlci5lbmFibGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0KCkge1xuICAgICAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmZhY2FkZS5nZXRMZWF2ZXNPZlR5cGU8TWFya2Rvd25MZWFmPihcIm1hcmtkb3duXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGxlYWYgb2YgbGVhdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gbGVhZi52aWV3Py5maWxlO1xuICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICBsZWFmLnRhYkhlYWRlcklubmVyVGl0bGVFbC5zZXRUZXh0KGZpbGUuYmFzZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbm5lclVwZGF0ZShwYXRoOiBzdHJpbmcgPSBudWxsKTogUHJvbWlzZTx7IFtrOiBzdHJpbmddOiBib29sZWFuIH0+IHtcbiAgICAgICAgY29uc3QgbGVhdmVzID0gdGhpcy5mYWNhZGUuZ2V0TGVhdmVzT2ZUeXBlPE1hcmtkb3duTGVhZj4oXCJtYXJrZG93blwiKTtcbiAgICAgICAgY29uc3QgcmVzdWx0OiB7IFtrOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsZWFmIG9mIGxlYXZlcykge1xuICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBsZWFmLnZpZXc/LmdldFN0YXRlKCk/LmZpbGUgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKCFmaWxlUGF0aCB8fCAocGF0aCAmJiBwYXRoICE9PSBmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtmaWxlUGF0aF0gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gZmlsZVBhdGggPyB0aGlzLnJlc29sdmVyLnJlc29sdmUoZmlsZVBhdGgpIDogbnVsbDtcbiAgICAgICAgICAgIGlmICh0aXRsZSAmJiB0aXRsZSAhPT0gbGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuZ2V0VGV4dCgpKSB7XG4gICAgICAgICAgICAgICAgbGVhZi50YWJIZWFkZXJJbm5lclRpdGxlRWwuc2V0VGV4dCh0aXRsZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ZpbGVQYXRoXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpYXMge1xuICAgIHByaXZhdGUgY2hhbmdlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgb3JpZ2luYWw6IHtcbiAgICAgICAga2V5OiBzdHJpbmcgfCBudWxsO1xuICAgICAgICB2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsO1xuICAgIH0gPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhY2hlOiB7IFtrOiBzdHJpbmddOiBhbnkgfSkge31cblxuICAgIHB1YmxpYyBnZXRLZXkoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuY2FjaGUpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NzaWJsZUtleXMoKS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWUoKTogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5jYWNoZVt0aGlzLmdldEtleSgpXSA/PyBudWxsO1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gWy4uLnZhbF0gOiB2YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFZhbHVlKGFsaWFzOiBzdHJpbmcgfCBzdHJpbmdbXSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWwgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gWy4uLnZhbHVlXSA6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGtleTogdGhpcy5nZXRLZXkoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RpZnkoYWxpYXMpO1xuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0NoYW5nZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc3RvcmUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsLmtleSA9PT0gbnVsbCAmJiBrZXkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlW2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcmlnaW5hbC5rZXkpIHtcbiAgICAgICAgICAgIHRoaXMubW9kaWZ5KHRoaXMub3JpZ2luYWwudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UG9zc2libGVLZXlzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIFtcImFsaWFzZXNcIiwgXCJhbGlhc1wiXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vZGlmeShhbGlhczogc3RyaW5nIHwgc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoKSA/PyB0aGlzLmdldFBvc3NpYmxlS2V5cygpWzBdO1xuICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSBhbGlhcztcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBuYW1lZCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgQWxpYXMgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc1wiO1xuaW1wb3J0IHsgQ2FjaGVkTWV0YWRhdGEsIE1ldGFkYXRhQ2FjaGVFeHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IE1ldGFkYXRhQ2FjaGVGYWN0b3J5IH0gZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmZhY3RvcnkudHlwZXNcIjtcbmltcG9ydCB7IFN0cmF0ZWd5RmFjdG9yeSwgU3RyYXRlZ3lUeXBlLCBWYWxpZGF0b3JGYWN0b3J5LCBWYWxpZGF0b3JUeXBlIH0gZnJvbSBcIi4vVHlwZXNcIjtcbmltcG9ydCB7IFN0cmF0ZWd5SW50ZXJmYWNlLCBWYWxpZGF0b3JJbnRlcmZhY2UgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgQWJzdHJhY3RGZWF0dXJlIGZyb20gXCJAc3JjL0ZlYXR1cmUvQWJzdHJhY3RGZWF0dXJlXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IEFsaWFzQ29uZmlnIGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvQWxpYXNDb25maWdcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBbGlhc0ZlYXR1cmUgZXh0ZW5kcyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgc3RyYXRlZ3k6IFN0cmF0ZWd5SW50ZXJmYWNlID0gbnVsbDtcbiAgICBwcml2YXRlIHZhbGlkYXRvcjogVmFsaWRhdG9ySW50ZXJmYWNlID0gbnVsbDtcbiAgICBwcml2YXRlIGl0ZW1zOiB7IFtrOiBzdHJpbmddOiBBbGlhcyB9ID0ge307XG4gICAgcHJpdmF0ZSByZWY6IExpc3RlbmVyUmVmPFwibWV0YWRhdGE6Y2FjaGU6Y2hhbmdlZFwiPiA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6YWxpYXM6bW9kaWZpZXI6c3RyYXRlZ3lcIl0pXG4gICAgICAgIHByaXZhdGUgc3RyYXRlZ3lGYWN0b3J5OiBTdHJhdGVneUZhY3RvcnksXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5OmFsaWFzOm1vZGlmaWVyOnZhbGlkYXRvclwiXSlcbiAgICAgICAgcHJpdmF0ZSB2YWxpZGF0b3JGYWN0b3J5OiBWYWxpZGF0b3JGYWN0b3J5LFxuICAgICAgICBAaW5qZWN0KFNJLmxvZ2dlcilcbiAgICAgICAgQG5hbWVkKFwiYWxpYXM6bW9kaWZpZXJcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZSxcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6bWV0YWRhdGE6Y2FjaGVcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogTWV0YWRhdGFDYWNoZUZhY3Rvcnk8TWV0YWRhdGFDYWNoZUV4dD4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxBcHBFdmVudHM+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTphbGlhczpjb25maWdcIl0pXG4gICAgICAgIHByaXZhdGUgY29uZmlnOiBBbGlhc0NvbmZpZ1xuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuQWxpYXM7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWYpO1xuICAgICAgICB0aGlzLnJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJtZXRhZGF0YTpjYWNoZTpjaGFuZ2VkXCIsXG4gICAgICAgICAgICBjYjogZSA9PiB0aGlzLnVwZGF0ZShlLmdldCgpLnBhdGgsIGUuZ2V0KCkuY2FjaGUpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRWYWxpZGF0b3IodGhpcy5jb25maWcuZ2V0VmFsaWRhdG9yKCkpO1xuICAgICAgICB0aGlzLnNldFN0cmF0ZWd5KHRoaXMuY29uZmlnLmdldFN0cmF0ZWd5KCkpO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZnJlc2goKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG5cbiAgICBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEFsaWFzRmVhdHVyZS5nZXRJZCgpO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFZhbGlkYXRvcih0eXBlOiBWYWxpZGF0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JGYWN0b3J5KHR5cGUpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYFNldCB2YWxpZGF0b3IgWyR7dHlwZX1dLiBTdGF0dXM6ICR7dGhpcy52YWxpZGF0b3IgIT09IG51bGx9YCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdHJhdGVneSh0eXBlOiBTdHJhdGVneVR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdHJhdGVneSA9IHRoaXMuc3RyYXRlZ3lGYWN0b3J5KHR5cGUpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYFNldCBzdHJhdGVneSBbJHt0eXBlfV0uIFN0YXR1czogJHt0aGlzLnN0cmF0ZWd5ICE9PSBudWxsfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzcyhmcm9udG1hdHRlcjogeyBbazogc3RyaW5nXTogYW55IH0sIHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhbGlhcyA9IG5ldyBBbGlhcyhmcm9udG1hdHRlcik7XG4gICAgICAgIHRoaXMuc3RyYXRlZ3kucHJvY2VzcyhhbGlhcywgcGF0aCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFsaWFzLmlzQ2hhbmdlZCgpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW3BhdGhdID0gYWxpYXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIE9iamVjdC52YWx1ZXModGhpcy5pdGVtcykpIHtcbiAgICAgICAgICAgIGFsaWFzLnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0ge307XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB1cGRhdGUocGF0aDogc3RyaW5nLCBtZXRhZGF0YTogQ2FjaGVkTWV0YWRhdGEgPSBudWxsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRvci52YWxpZGF0ZShtZXRhZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyhtZXRhZGF0YS5mcm9udG1hdHRlciwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlZnJlc2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5mYWN0b3J5KCk7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBjYWNoZS5nZXRDYWNoZWRGaWxlcygpKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMudXBkYXRlKHBhdGgsIGNhY2hlLmdldENhY2hlKHBhdGgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgQWxpYXMgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc1wiO1xuaW1wb3J0IHsgU3RyYXRlZ3lJbnRlcmZhY2UgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEZlYXR1cmVTZXJ2aWNlIGZyb20gXCIuLi8uLi9GZWF0dXJlU2VydmljZVwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFN0cmF0ZWd5IGltcGxlbWVudHMgU3RyYXRlZ3lJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOnNlcnZpY2VcIl0pXG4gICAgICAgIHByaXZhdGUgc2VydmljZTogRmVhdHVyZVNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHNlcnZpY2UuY3JlYXRlUmVzb2x2ZXIoRmVhdHVyZS5BbGlhcyk7XG4gICAgfVxuXG4gICAgcHJvY2VzcyhhbGlhczogQWxpYXMsIHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShwYXRoKTtcbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGlmeShhbGlhcywgdGl0bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG1vZGlmeShhbGlhczogQWxpYXMsIHRpdGxlOiBzdHJpbmcpOiB2b2lkO1xufVxuIiwgImltcG9ydCBBYnN0cmFjdFN0cmF0ZWd5IGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvQWJzdHJhY3RTdHJhdGVneVwiO1xuaW1wb3J0IEFsaWFzIGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvQWxpYXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVwbGFjZVN0cmF0ZWd5IGV4dGVuZHMgQWJzdHJhY3RTdHJhdGVneSB7XG4gICAgcHJvdGVjdGVkIG1vZGlmeShhbGlhczogQWxpYXMsIHRpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgYWxpYXMuc2V0VmFsdWUodGl0bGUpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgUmVwbGFjZVN0cmF0ZWd5IGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvUmVwbGFjZVN0cmF0ZWd5XCI7XG5pbXBvcnQgQWxpYXMgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnN1cmVTdHJhdGVneSBleHRlbmRzIFJlcGxhY2VTdHJhdGVneSB7XG4gICAgcHJvY2VzcyhhbGlhczogQWxpYXMsIHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoYWxpYXMuZ2V0VmFsdWUoKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3VwZXIucHJvY2VzcyhhbGlhcywgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IEFic3RyYWN0U3RyYXRlZ3kgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9TdHJhdGVneS9BYnN0cmFjdFN0cmF0ZWd5XCI7XG5pbXBvcnQgQWxpYXMgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGp1c3RTdHJhdGVneSBleHRlbmRzIEFic3RyYWN0U3RyYXRlZ3kge1xuICAgIHByb3RlY3RlZCBtb2RpZnkoYWxpYXM6IEFsaWFzLCB0aXRsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGFsaWFzLmdldFZhbHVlKCkgPz8gW107XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZS5wdXNoKHRpdGxlKTtcbiAgICAgICAgYWxpYXMuc2V0VmFsdWUodmFsdWUpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IEZ1bmN0aW9uUmVwbGFjZXIgZnJvbSBcIkBzcmMvVXRpbHMvRnVuY3Rpb25SZXBsYWNlclwiO1xuaW1wb3J0IHsgQ2hvb3NlciwgU3VnZ2VzdE1vZGFsQ2hvb3NlckZpbGVJdGVtIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgQWJzdHJhY3RGZWF0dXJlIGZyb20gXCIuLi9BYnN0cmFjdEZlYXR1cmVcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgaW50ZXJmYWNlcyB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBGZWF0dXJlU2VydmljZSBmcm9tIFwiQHNyYy9GZWF0dXJlL0ZlYXR1cmVTZXJ2aWNlXCI7XG5pbXBvcnQgeyBSZXNvbHZlckludGVyZmFjZSB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcbmltcG9ydCBOZXdhYmxlID0gaW50ZXJmYWNlcy5OZXdhYmxlO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWdnZXN0RmVhdHVyZSBleHRlbmRzIEFic3RyYWN0RmVhdHVyZTxGZWF0dXJlPiB7XG4gICAgcHJpdmF0ZSByZXBsYWNlcjogRnVuY3Rpb25SZXBsYWNlcjxDaG9vc2VyLCBcInNldFN1Z2dlc3Rpb25zXCIsIFN1Z2dlc3RGZWF0dXJlPiA9IG51bGw7XG4gICAgcHJpdmF0ZSBzdGF0ZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIHJlc29sdmVyOiBSZXNvbHZlckludGVyZmFjZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wibmV3YWJsZTpvYnNpZGlhbjpjaG9vc2VyXCJdKVxuICAgICAgICBjaG9vc2VyOiBOZXdhYmxlPENob29zZXI+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpzZXJ2aWNlXCJdKVxuICAgICAgICBzZXJ2aWNlOiBGZWF0dXJlU2VydmljZVxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gc2VydmljZS5jcmVhdGVSZXNvbHZlcih0aGlzLmdldElkKCkpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNob29zZXJSZXBsYWNlcihjaG9vc2VyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBGZWF0dXJlLlN1Z2dlc3Q7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwbGFjZXIuZW5hYmxlKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlcGxhY2VyLmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gU3VnZ2VzdEZlYXR1cmUuZ2V0SWQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNob29zZXJSZXBsYWNlcihjaG9vc2VyOiBOZXdhYmxlPENob29zZXI+KTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hvb3Nlci5wcm90b3R5cGUuc2V0U3VnZ2VzdGlvbnMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwbGFjZXIgPSBuZXcgRnVuY3Rpb25SZXBsYWNlcihjaG9vc2VyLnByb3RvdHlwZSwgXCJzZXRTdWdnZXN0aW9uc1wiLCB0aGlzLCBmdW5jdGlvbiAoXG4gICAgICAgICAgICBzZWxmOiBTdWdnZXN0RmVhdHVyZSxcbiAgICAgICAgICAgIGFyZ3M6IHVua25vd25bXSxcbiAgICAgICAgICAgIHZhbmlsbGE6IChlOiBhbnkpID0+IGFueVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3M/LlswXSkpIHtcbiAgICAgICAgICAgICAgICBhcmdzWzBdID0gc2VsZi5tb2RpZnlTdWdnZXN0aW9ucyhhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YW5pbGxhLmNhbGwodGhpcywgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlcGxhY2VyLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbW9kaWZ5U3VnZ2VzdGlvbnMoaXRlbXM6IFN1Z2dlc3RNb2RhbENob29zZXJGaWxlSXRlbVtdKTogU3VnZ2VzdE1vZGFsQ2hvb3NlckZpbGVJdGVtW10ge1xuICAgICAgICBjb25zdCBhbGlhc2VzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0/LmZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsaWFzZXMuYWRkKGl0ZW0uYWxpYXMgKyBpdGVtLmZpbGUucGF0aCk7XG4gICAgICAgICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0udHlwZSB8fCBpdGVtLnR5cGUgIT09IFwiZmlsZVwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGlhcyA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShpdGVtLmZpbGUucGF0aCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFsaWFzICsgaXRlbS5maWxlLnBhdGg7XG4gICAgICAgICAgICBpZiAoYWxpYXMgJiYgIWFsaWFzZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGl0ZW0uYWxpYXMgPSBhbGlhcztcbiAgICAgICAgICAgICAgICBpdGVtLnR5cGUgPSBcImFsaWFzXCI7XG4gICAgICAgICAgICAgICAgYWxpYXNlcy5hZGQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQm9va21hcmtzUGx1Z2luTGVhZiwgQm9va21hcmtzUGx1Z2luVmlldywgRXZlbnRSZWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgT2JzaWRpYW5GYWNhZGUgZnJvbSBcIkBzcmMvT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCBBYnN0cmFjdEZlYXR1cmUgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdEZlYXR1cmVcIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEZlYXR1cmVTZXJ2aWNlIGZyb20gXCJAc3JjL0ZlYXR1cmUvRmVhdHVyZVNlcnZpY2VcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEFwcEV2ZW50cyB9IGZyb20gXCJAc3JjL1R5cGVzXCI7XG5pbXBvcnQgTGlzdGVuZXJSZWYgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9MaXN0ZW5lclJlZlwiO1xuXG5lbnVtIFN0YXRlIHtcbiAgICBEaXNhYmxlZCA9IFwiZGlzYWJsZWRcIixcbiAgICBFbmFibGVkID0gXCJlbmFibGVkXCIsXG4gICAgQXdhaXRpbmcgPSBcImF3YWl0aW5nXCIsXG59XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb2ttYXJrc01hbmFnZXIgZXh0ZW5kcyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgc3RhdGU6IFN0YXRlID0gU3RhdGUuRGlzYWJsZWQ7XG4gICAgcHJpdmF0ZSB2aWV3OiBCb29rbWFya3NQbHVnaW5WaWV3ID0gbnVsbDtcbiAgICBwcml2YXRlIHJlZjogRXZlbnRSZWYgPSBudWxsO1xuICAgIHByaXZhdGUgbWV0YVJlZjogTGlzdGVuZXJSZWY8XCJtZXRhZGF0YTpjYWNoZTpjaGFuZ2VkXCI+ID0gbnVsbDtcbiAgICBwcml2YXRlIGFjdGl2ZUxlYWZDaGFuZ2VSZWY6IExpc3RlbmVyUmVmPFwiYWN0aXZlOmxlYWY6Y2hhbmdlXCI+ID0gbnVsbDtcbiAgICBwcml2YXRlIHJlc29sdmVyOiBSZXNvbHZlckludGVyZmFjZTtcbiAgICBwcml2YXRlIHJlcXVlc3RVcGRhdGU6ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY2FkZTpvYnNpZGlhblwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWNhZGU6IE9ic2lkaWFuRmFjYWRlLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpzZXJ2aWNlXCJdKVxuICAgICAgICBzZXJ2aWNlOiBGZWF0dXJlU2VydmljZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0kubG9nZ2VyKVxuICAgICAgICBAbmFtZWQoXCJtYW5hZ2VyOmJvb2ttYXJrc1wiKVxuICAgICAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSA9ICgpID0+IHNldFRpbWVvdXQodGhpcy5vbkNoYW5nZWQuYmluZCh0aGlzKSwgMTAwKTtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHNlcnZpY2UuY3JlYXRlUmVzb2x2ZXIodGhpcy5nZXRJZCgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBTdGF0ZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYFN0YXRlIGNoYW5nZWQgZnJvbSAke3RoaXMuc3RhdGV9IHRvICR7c3RhdGV9YCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgc3RhdGljIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gRmVhdHVyZS5Cb29rbWFya3M7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRyeUVuYWJsZSh0cnVlKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJkaXNhYmxlXCIpO1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU3RhdGUuRGlzYWJsZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBCb29rbWFya3NNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gU3RhdGUuRGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0cnlFbmFibGUoc3Vic2NyaWJlT25BY3RpdmUgPSBmYWxzZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBsZWFmID0gdGhpcy5mYWNhZGUuZ2V0TGVhdmVzT2ZUeXBlPEJvb2ttYXJrc1BsdWdpbkxlYWY+KExlYXZlcy5Cb29rbWFya3MpPy5bMF07XG5cbiAgICAgICAgaWYgKGxlYWYuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTdGF0ZS5FbmFibGVkICYmIHRoaXMuaW5pdFZpZXcoKSAmJiB0aGlzLnN1YnNjcmliZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTdGF0ZS5FbmFibGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUxlYWZDaGFuZ2VSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5hY3RpdmVMZWFmQ2hhbmdlUmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUxlYWZDaGFuZ2VSZWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN1YnNjcmliZU9uQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFN0YXRlLkF3YWl0aW5nKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlTGVhZkNoYW5nZVJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhY3RpdmU6bGVhZjpjaGFuZ2VcIixcbiAgICAgICAgICAgICAgICBjYjogKCkgPT4gdGhpcy50cnlFbmFibGUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0VmlldygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZmFjYWRlLmdldFZpZXdzT2ZUeXBlPEJvb2ttYXJrc1BsdWdpblZpZXc+KExlYXZlcy5Cb29rbWFya3MpPy5bMF0gPz8gbnVsbDtcbiAgICAgICAgaWYgKHZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIkNvdWxkIG5vdCBmaW5kIGEgdmlldyBvZiBib29rbWFya3MgdHlwZVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN1YnNjcmliZSgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy52aWV3LnBsdWdpbiA/PyBudWxsO1xuICAgICAgICBpZiAocGx1Z2luID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJMZWFmIGRvZXMgbm90IGhhdmUgYSBwbHVnaW5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWYgPSBwbHVnaW4ub24oXCJjaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIlRyaWdnZXJlZCBieSBwbHVnaW4gZXZlbnRcIik7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWV0YVJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuYW1lOiBcIm1ldGFkYXRhOmNhY2hlOmNoYW5nZWRcIixcbiAgICAgICAgICAgIGNiOiB0aGlzLnJlcXVlc3RVcGRhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLm1ldGFSZWYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUxlYWZDaGFuZ2VSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmFjdGl2ZUxlYWZDaGFuZ2VSZWYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5FbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGx1Z2luLm9mZnJlZih0aGlzLnJlZik7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGx1Z2luLnRyaWdnZXIoXCJjaGFuZ2VkXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNoYW5nZWQocGF0aDogc3RyaW5nID0gbnVsbCk6IHsgW2s6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTdGF0ZS5FbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYENhbGxlZCBvbkNoYW5nZWQgd2hlbiBpcyAke3RoaXMuc3RhdGV9IHN0YXRlYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZpZXcucGx1Z2luKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLnZpZXcucGx1Z2luLml0ZW1zO1xuICAgICAgICBjb25zdCBpdGVtRG9tcyA9IHRoaXMudmlldy5pdGVtRG9tcztcbiAgICAgICAgY29uc3QgcmVzdWx0OiB7IFtrOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZUVsID0gaXRlbURvbXMuZ2V0KGl0ZW0pPy50aXRsZUVsO1xuICAgICAgICAgICAgcmVzdWx0W2l0ZW0ucGF0aF0gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aXRsZUVsICYmXG4gICAgICAgICAgICAgICAgaXRlbS50eXBlID09PSBcImZpbGVcIiAmJlxuICAgICAgICAgICAgICAgIChpdGVtLnRpdGxlID09PSBcIlwiIHx8IGl0ZW0/LnRpdGxlID09PSB1bmRlZmluZWQpICYmXG4gICAgICAgICAgICAgICAgKCFwYXRoIHx8IGl0ZW0ucGF0aCA9PT0gcGF0aClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzcyh0aXRsZUVsLCBpdGVtLnBhdGgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpdGVtLnBhdGhdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2VzcyhkaXY6IEVsZW1lbnQsIHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShwYXRoKSA/PyBkaXYuZ2V0VGV4dCgpO1xuICAgICAgICBpZiAoZGl2LmdldFRleHQoKSAhPT0gdGl0bGUpIHtcbiAgICAgICAgICAgIGRpdi5zZXRUZXh0KHRpdGxlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgQWJzdHJhY3RNYW5hZ2VyIGZyb20gXCJAc3JjL0ZlYXR1cmUvQWJzdHJhY3RNYW5hZ2VyXCI7XG5pbXBvcnQgeyBGZWF0dXJlLCBMZWF2ZXMgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIG5hbWVkIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50RGlzcGF0Y2hlckludGVyZmFjZVwiO1xuaW1wb3J0IHsgQXBwRXZlbnRzIH0gZnJvbSBcIkBzcmMvVHlwZXNcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgRnVuY3Rpb25SZXBsYWNlciBmcm9tIFwiQHNyYy9VdGlscy9GdW5jdGlvblJlcGxhY2VyXCI7XG5pbXBvcnQgeyBHcmFwaE5vZGUsIEdyYXBoVmlldyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IE9ic2lkaWFuRmFjYWRlIGZyb20gXCJAc3JjL09ic2lkaWFuL09ic2lkaWFuRmFjYWRlXCI7XG5pbXBvcnQgTG9nZ2VySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBGdW5jdGlvblJlcGxhY2VyRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXBoTWFuYWdlciBleHRlbmRzIEFic3RyYWN0TWFuYWdlciB7XG4gICAgcHJpdmF0ZSBlbmFibGVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSByZWY6IExpc3RlbmVyUmVmPFwibGF5b3V0OmNoYW5nZVwiPiA9IG51bGw7XG4gICAgcHJpdmF0ZSByZXBsYWNlbWVudDogRnVuY3Rpb25SZXBsYWNlcjxHcmFwaE5vZGUsIFwiZ2V0RGlzcGxheVRleHRcIiwgR3JhcGhNYW5hZ2VyPiA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6cmVwbGFjZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogRnVuY3Rpb25SZXBsYWNlckZhY3Rvcnk8R3JhcGhOb2RlLCBcImdldERpc3BsYXlUZXh0XCIsIEdyYXBoTWFuYWdlcj4sXG4gICAgICAgIEBpbmplY3QoU0kubG9nZ2VyKVxuICAgICAgICBAbmFtZWQoXCJtYW5hZ2VyOmdyYXBoXCIpXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2VcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBGZWF0dXJlLkdyYXBoO1xuICAgIH1cblxuICAgIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gR3JhcGhNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0Rpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICAgIHRoaXMucmVwbGFjZW1lbnQ/LmRpc2FibGUoKTtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdFJlcGxhY2VtZW50KCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvUmVmcmVzaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHRoaXMuZ2V0Vmlld3MoKSkge1xuICAgICAgICAgICAgdmlldy5yZW5kZXJlcj8ub25JZnJhbWVMb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb1VwZGF0ZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHZpZXcgb2YgdGhpcy5nZXRWaWV3cygpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygdmlldy5yZW5kZXJlcj8ubm9kZXMgPz8gW10pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5pZCA9PT0gcGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnJlbmRlcmVyLm9uSWZyYW1lTG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVuYmluZCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucmVmKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJ1bmJpbmRcIik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWYpO1xuICAgICAgICAgICAgdGhpcy5yZWYgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiaW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXCJiaW5kXCIpO1xuICAgICAgICB0aGlzLnJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuYW1lOiBcImxheW91dDpjaGFuZ2VcIixcbiAgICAgICAgICAgIGNiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0UmVwbGFjZW1lbnQoKSAmJiB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0UmVwbGFjZW1lbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmdldEZpcnN0Tm9kZSgpO1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlbWVudCA9IHRoaXMuZmFjdG9yeShcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobm9kZSksXG4gICAgICAgICAgICAgICAgXCJnZXREaXNwbGF5VGV4dFwiLFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHNlbGYsIGRlZmF1bHRBcmdzLCB2YW5pbGxhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBzZWxmLnJlc29sdmVyLnJlc29sdmUodGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0ID8/IHZhbmlsbGEuY2FsbCh0aGlzLCAuLi5kZWZhdWx0QXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZW1lbnQuZW5hYmxlKCk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0Vmlld3MoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucnVuQmFja2dyb3VuZEluaXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJ1bkJhY2tncm91bmRJbml0KCk6IHZvaWQge1xuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImluaXQgYnkgYmFja2dyb3VuZEluaXRcIik7XG4gICAgICAgICAgICB0aGlzLmluaXRSZXBsYWNlbWVudCgpO1xuICAgICAgICB9LCAyMDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Rmlyc3ROb2RlKCk6IEdyYXBoTm9kZSB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IHZpZXcgb2YgdGhpcy5nZXRWaWV3cygpKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gKHZpZXcucmVuZGVyZXI/Lm5vZGVzID8/IFtdKS5maXJzdCgpID8/IG51bGw7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Vmlld3MoKTogR3JhcGhWaWV3W10ge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuZmFjYWRlLmdldFZpZXdzT2ZUeXBlKExlYXZlcy5HKSwgLi4udGhpcy5mYWNhZGUuZ2V0Vmlld3NPZlR5cGUoTGVhdmVzLkxHKV07XG4gICAgfVxufVxuIiwgImltcG9ydCBBYnN0cmFjdE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvTGlzdGVuZXJSZWZcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuaW1wb3J0IHsgTWFya2Rvd25WaWV3RXh0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgTG9nZ2VySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNYXJrZG93bkhlYWRlck1hbmFnZXIgZXh0ZW5kcyBBYnN0cmFjdE1hbmFnZXIge1xuICAgIHByaXZhdGUgcmVmOiBMaXN0ZW5lclJlZjxcImxheW91dDpjaGFuZ2VcIj4gPSBudWxsO1xuICAgIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxBcHBFdmVudHM+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGUsXG4gICAgICAgIEBpbmplY3QoU0kubG9nZ2VyKVxuICAgICAgICBAbmFtZWQoYG1hbmFnZXI6JHtNYXJrZG93bkhlYWRlck1hbmFnZXIuZ2V0SWQoKX1gKVxuICAgICAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gRmVhdHVyZS5IZWFkZXI7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBNYXJrZG93bkhlYWRlck1hbmFnZXIuZ2V0SWQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvRGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuZ2V0Vmlld3NPZlR5cGU8TWFya2Rvd25WaWV3RXh0PihMZWF2ZXMuTUQpLmZvckVhY2godGhpcy5yZXZlcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0VuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJsYXlvdXQ6Y2hhbmdlXCIsXG4gICAgICAgICAgICBjYjogKCkgPT4gdGhpcy5yZWZyZXNoKCkuY2F0Y2goY29uc29sZS5lcnJvciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb1JlZnJlc2goKTogUHJvbWlzZTx7IFtwOiBzdHJpbmddOiBib29sZWFuIH0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbm5lclVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZG9VcGRhdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyVXBkYXRlKHBhdGgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5uZXJVcGRhdGUocGF0aDogc3RyaW5nID0gbnVsbCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCB2aWV3cyA9IHRoaXMuZmFjYWRlLmdldFZpZXdzT2ZUeXBlPE1hcmtkb3duVmlld0V4dD4oTGVhdmVzLk1EKTtcbiAgICAgICAgbGV0IHVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHZpZXdzKSB7XG4gICAgICAgICAgICBpZiAodmlldy5maWxlICYmICghcGF0aCB8fCB2aWV3LmZpbGUucGF0aCA9PT0gcGF0aCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZSh2aWV3LmZpbGUucGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUaXRsZSh2aWV3LCB0aXRsZSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRpdGxlKHZpZXc6IE1hcmtkb3duVmlld0V4dCwgdGl0bGU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBTZXQgdGl0bGUgXCIke3RpdGxlID8/IFwiIFwifVwiIGZvciAke3ZpZXcuZmlsZS5wYXRofWApO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB2aWV3LnRpdGxlQ29udGFpbmVyRWwgYXMgSFRNTERpdkVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJ0KHZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGVsID0gdGhpcy5maW5kRXhpc3RpbmdGYWtlRWwoY29udGFpbmVyKTtcblxuICAgICAgICBpZiAodGl0bGUgJiYgZWwgJiYgZWwuaW5uZXJUZXh0ID09PSB0aXRsZSAmJiAhZWwuaGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXIubG9nKGBTZXQgdGl0bGUgXCIke3RpdGxlfVwiIGZvciAke3ZpZXcuZmlsZS5wYXRofSBpcyBza2lwcGVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbCA9IGVsID8/IHRoaXMuY3JlYXRlRmFrZUVsKHRpdGxlLCB2aWV3KTtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgICAgIGVsLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB2aWV3LnRpdGxlRWwuaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJldmVydCh2aWV3OiBNYXJrZG93blZpZXdFeHQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF2aWV3LmZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB2aWV3LnRpdGxlQ29udGFpbmVyRWwgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsID0gdGhpcy5maW5kRXhpc3RpbmdGYWtlRWwoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcudGl0bGVFbC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZEV4aXN0aW5nRmFrZUVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpOiBIVE1MRGl2RWxlbWVudCB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoaS5oYXNBdHRyaWJ1dGUoXCJkYXRhLW9mbXRcIikgJiYgaSBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVGYWtlRWwodGl0bGU6IHN0cmluZywgdmlldzogTWFya2Rvd25WaWV3RXh0KTogSFRNTERpdkVsZW1lbnQge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IFwidmlldy1oZWFkZXItdGl0bGVcIjtcbiAgICAgICAgZWwuZGF0YXNldFtcIm9mbXRcIl0gPSBcInRydWVcIjtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgICAgIGVsLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIGVsLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBlbC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgdmlldy50aXRsZUVsLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdmlldy50aXRsZUVsLmZvY3VzKCk7XG4gICAgICAgICAgICB2aWV3LnRpdGxlRWwub25ibHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZpZXcudGl0bGVFbC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgKHZpZXcudGl0bGVDb250YWluZXJFbCBhcyBIVE1MRGl2RWxlbWVudCkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IENhY2hlZE1ldGFkYXRhIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBWYWxpZGF0b3JJbnRlcmZhY2UgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmFsaWRhdG9yUmVxdWlyZWQgaW1wbGVtZW50cyBWYWxpZGF0b3JJbnRlcmZhY2Uge1xuICAgIHZhbGlkYXRlKG1ldGFkYXRhOiBDYWNoZWRNZXRhZGF0YSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGEuZnJvbnRtYXR0ZXIgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxufVxuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVmFsaWRhdG9yQXV0byBpbXBsZW1lbnRzIFZhbGlkYXRvckludGVyZmFjZSB7XG4gICAgdmFsaWRhdGUobWV0YWRhdGE6IENhY2hlZE1ldGFkYXRhKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWV0YWRhdGEuZnJvbnRtYXR0ZXIpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLmZyb250bWF0dGVyID0ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwgImltcG9ydCBBYnN0cmFjdE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvTGlzdGVuZXJSZWZcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckludGVyZmFjZVwiO1xuaW1wb3J0IEZha2VUaXRsZUVsZW1lbnRTZXJ2aWNlIGZyb20gXCJAc3JjL1V0aWxzL0Zha2VUaXRsZUVsZW1lbnRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBNYXJrZG93blZpZXdFeHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIElubGluZVRpdGxlTWFuYWdlciBleHRlbmRzIEFic3RyYWN0TWFuYWdlciB7XG4gICAgcHJpdmF0ZSByZWY6IExpc3RlbmVyUmVmPFwibGF5b3V0OmNoYW5nZVwiPiA9IG51bGw7XG4gICAgcHJpdmF0ZSBlbmFibGVkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChgbWFuYWdlcjoke0lubGluZVRpdGxlTWFuYWdlci5nZXRJZCgpfWApXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJzZXJ2aWNlOmZha2VfdGl0bGVfZWxlbWVudFwiXSlcbiAgICAgICAgcHJpdmF0ZSBmYWtlVGl0bGVFbGVtZW50U2VydmljZTogRmFrZVRpdGxlRWxlbWVudFNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBGZWF0dXJlLklubGluZVRpdGxlO1xuICAgIH1cblxuICAgIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gSW5saW5lVGl0bGVNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0Rpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZik7XG4gICAgICAgIHRoaXMuZmFrZVRpdGxlRWxlbWVudFNlcnZpY2UucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0VuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJsYXlvdXQ6Y2hhbmdlXCIsXG4gICAgICAgICAgICBjYjogKCkgPT4gdGhpcy5yZWZyZXNoKCkuY2F0Y2goY29uc29sZS5lcnJvciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb1JlZnJlc2goKTogUHJvbWlzZTx7IFtwOiBzdHJpbmddOiBib29sZWFuIH0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbm5lclVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZG9VcGRhdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyVXBkYXRlKHBhdGgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVzb2x2ZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXIucmVzb2x2ZShwYXRoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGlubmVyVXBkYXRlKHBhdGg6IHN0cmluZyA9IG51bGwpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgdmlld3MgPSB0aGlzLmZhY2FkZS5nZXRWaWV3c09mVHlwZTxNYXJrZG93blZpZXdFeHQ+KExlYXZlcy5NRCk7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgIGNvbnN0IGlkczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHZpZXdzKSB7XG4gICAgICAgICAgICBpZiAodmlldy5maWxlICYmICghcGF0aCB8fCB2aWV3LmZpbGUucGF0aCA9PT0gcGF0aCkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUodmlldy5maWxlLnBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbih0aXRsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID8gaWRzLnB1c2godGhpcy5zZXRUaXRsZSh2aWV3LCB0aXRsZSkpIDogdGhpcy5yZXNldFRpdGxlKHRoaXMuZ2V0VGl0bGVFbElkKHZpZXcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgdGhpcy5mYWtlVGl0bGVFbGVtZW50U2VydmljZS5yZW1vdmVFeGNlcHQoaWRzKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNldFRpdGxlKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5mYWtlVGl0bGVFbGVtZW50U2VydmljZS5yZW1vdmUoaWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VGl0bGUodmlldzogTWFya2Rvd25WaWV3RXh0LCB0aXRsZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgU2V0IGlubGluZSB0aXRsZSBcIiR7dGl0bGUgPz8gXCIgXCJ9XCIgZm9yICR7dmlldy5maWxlLnBhdGh9YCk7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRUaXRsZUVsSWQodmlldyk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdmlldy5pbmxpbmVUaXRsZUVsO1xuICAgICAgICBjb25zdCB7IGNyZWF0ZWQgfSA9IHRoaXMuZmFrZVRpdGxlRWxlbWVudFNlcnZpY2UuZ2V0T3JDcmVhdGUoeyBvcmlnaW5hbCwgdGl0bGUsIGlkLCBldmVudHM6IFtcImNsaWNrXCJdIH0pO1xuICAgICAgICBpZiAoY3JlYXRlZCAmJiAhb3JpZ2luYWwuaXNBY3RpdmVFbGVtZW50KCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmFrZVRpdGxlRWxlbWVudFNlcnZpY2Uuc2V0VmlzaWJsZShpZCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGl0bGVFbElkKHZpZXc6IE1hcmtkb3duVmlld0V4dCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt2aWV3LmdldFN0YXRlKCkubW9kZX0tJHt0aGlzLmdldElkKCl9LSR7dmlldy5sZWFmLmlkfWA7XG4gICAgfVxufVxuIiwgImltcG9ydCBBYnN0cmFjdE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCB7IEZlYXR1cmUsIExlYXZlcyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvTGlzdGVuZXJSZWZcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuaW1wb3J0IHsgQ2FudmFzTm9kZSwgQ2FudmFzVmlld0V4dCwgZGVib3VuY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBGYWtlVGl0bGVFbGVtZW50U2VydmljZSBmcm9tIFwiQHNyYy9VdGlscy9GYWtlVGl0bGVFbGVtZW50U2VydmljZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ2FudmFzTWFuYWdlciBleHRlbmRzIEFic3RyYWN0TWFuYWdlciB7XG4gICAgcHJpdmF0ZSByZWY6IExpc3RlbmVyUmVmPFwibGF5b3V0OmNoYW5nZVwiPiA9IG51bGw7XG4gICAgcHJpdmF0ZSBlbmFibGVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBxdWV1ZTogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gICAgcHJpdmF0ZSB1cGRhdGVCeVJlcXVlc3RGcmFtZSA9IGRlYm91bmNlKFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYHVwZGF0ZUJ5UmVxdWVzdEZyYW1lYCwgdGhpcy5xdWV1ZSk7XG4gICAgICAgICAgICBBcnJheS5mcm9tKHRoaXMucXVldWUudmFsdWVzKCkpLmZvckVhY2goZSA9PiB0aGlzLmlubmVyVXBkYXRlKGUpICYmIHRoaXMucXVldWUuZGVsZXRlKGUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgMTAwMCxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChgbWFuYWdlcjoke0NhbnZhc01hbmFnZXIuZ2V0SWQoKX1gKVxuICAgICAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VySW50ZXJmYWNlLFxuICAgICAgICBAaW5qZWN0KFNJW1wic2VydmljZTpmYWtlX3RpdGxlX2VsZW1lbnRcIl0pXG4gICAgICAgIHByaXZhdGUgZmFrZVRpdGxlRWxlbWVudFNlcnZpY2U6IEZha2VUaXRsZUVsZW1lbnRTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldElkKCk6IEZlYXR1cmUge1xuICAgICAgICByZXR1cm4gRmVhdHVyZS5DYW52YXM7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBDYW52YXNNYW5hZ2VyLmdldElkKCk7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0Rpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZik7XG4gICAgICAgIHRoaXMuZmFrZVRpdGxlRWxlbWVudFNlcnZpY2UucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkb0VuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJsYXlvdXQ6Y2hhbmdlXCIsXG4gICAgICAgICAgICBjYjogKCkgPT4gdGhpcy5yZWZyZXNoKCkuY2F0Y2goY29uc29sZS5lcnJvciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBkb1JlZnJlc2goKTogUHJvbWlzZTx7IFtwOiBzdHJpbmddOiBib29sZWFuIH0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbm5lclVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZG9VcGRhdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyVXBkYXRlKHBhdGgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVzb2x2ZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXIucmVzb2x2ZShwYXRoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGlubmVyVXBkYXRlKHBhdGg6IHN0cmluZyA9IG51bGwpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBpbm5lciB1cGRhdGUgXCIke3BhdGh9XCJgKTtcblxuICAgICAgICBjb25zdCBjYW52YXNWaWV3cyA9IHRoaXMuZmFjYWRlLmdldFZpZXdzT2ZUeXBlPENhbnZhc1ZpZXdFeHQ+KExlYXZlcy5DVik7XG4gICAgICAgIGZvciAoY29uc3QgdmlldyBvZiBjYW52YXNWaWV3cykge1xuICAgICAgICAgICAgaWYgKCF2aWV3LmZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gdmlldy5maWxlLnBhdGg7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB2aWV3LmNhbnZhcztcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXMubm9kZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUuZmlsZVBhdGggfHwgKHBhdGggJiYgcGF0aCAhPT0gbm9kZS5maWxlUGF0aCAmJiBwYXRoICE9PSBjdXJyZW50UGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZShub2RlLmZpbGVQYXRoKS50aGVuKHRpdGxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Tm9kZVRpdGxlKG5vZGUsIHRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlTm9kZVRpdGxlKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FudmFzLnJlcXVlc3RGcmFtZS5fb3JpZ2luYWxGdW5jKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGdW5jID0gY2FudmFzLnJlcXVlc3RGcmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VyID0gdGhpcztcbiAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdEZyYW1lID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RGcmFtZS5fb3JpZ2luYWxGdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFuYWdlci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyLnF1ZXVlLmFkZChjdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyLnVwZGF0ZUJ5UmVxdWVzdEZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdEZyYW1lID0gY2FudmFzLnJlcXVlc3RGcmFtZS5fb3JpZ2luYWxGdW5jO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYW52YXMucmVxdWVzdEZyYW1lLl9vcmlnaW5hbEZ1bmMgPSBvcmlnaW5hbEZ1bmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlcy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdG9yZU5vZGVUaXRsZShub2RlOiBDYW52YXNOb2RlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGlkcyA9IHRoaXMubWFrZUZha2VFbGVtZW50SWRzKG5vZGUuY2FudmFzLnZpZXcuZmlsZS5wYXRoLCBub2RlLmZpbGVQYXRoKTtcbiAgICAgICAgdGhpcy5mYWtlVGl0bGVFbGVtZW50U2VydmljZS5yZW1vdmUoaWRzLmxhYmVsKTtcbiAgICAgICAgdGhpcy5mYWtlVGl0bGVFbGVtZW50U2VydmljZS5yZW1vdmUoaWRzLmlubGluZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzZXROb2RlVGl0bGUobm9kZTogQ2FudmFzTm9kZSwgdGl0bGU6IHN0cmluZyB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMCkpO1xuICAgICAgICB9IHdoaWxlICghbm9kZS5pbml0aWFsaXplZCk7XG5cbiAgICAgICAgY29uc3QgdmlldyA9IG5vZGUuY2FudmFzLnZpZXc7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBTZXQgY2FudmFzIHRpdGxlIFwiJHt0aXRsZX1cIiBmb3IgY2FudmFzIFwiJHt2aWV3LmZpbGUucGF0aH1cIiBhbmQgbm9kZSBcIiR7bm9kZS5maWxlUGF0aH1cImApO1xuXG4gICAgICAgIGNvbnN0IGlkcyA9IHRoaXMubWFrZUZha2VFbGVtZW50SWRzKHZpZXcuZmlsZS5wYXRoLCBub2RlLmZpbGVQYXRoKTtcblxuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuZmFrZVRpdGxlRWxlbWVudFNlcnZpY2UuZ2V0T3JDcmVhdGUoe1xuICAgICAgICAgICAgb3JpZ2luYWw6IG5vZGUubGFiZWxFbCxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgaWQ6IGlkcy5sYWJlbCxcbiAgICAgICAgICAgIGV2ZW50czogW1wiaG92ZXJcIl0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChsYWJlbD8uY3JlYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5mYWtlVGl0bGVFbGVtZW50U2VydmljZS5zZXRWaXNpYmxlKGlkcy5sYWJlbCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmxpbmVUaXRsZUVsID0gbm9kZS5jb250ZW50RWw/LnF1ZXJ5U2VsZWN0b3IoXCIuaW5saW5lLXRpdGxlXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBpbmxpbmUgPSB0aGlzLmZha2VUaXRsZUVsZW1lbnRTZXJ2aWNlLmdldE9yQ3JlYXRlKHtcbiAgICAgICAgICAgIG9yaWdpbmFsOiBpbmxpbmVUaXRsZUVsLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBpZDogaWRzLmlubGluZSxcbiAgICAgICAgICAgIGV2ZW50czogW1wiY2xpY2tcIl0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5saW5lPy5jcmVhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZha2VUaXRsZUVsZW1lbnRTZXJ2aWNlLnNldFZpc2libGUoaWRzLmlubGluZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucGxhY2Vob2xkZXJFbC5nZXRUZXh0KCkgIT09IHRpdGxlKSB7XG4gICAgICAgICAgICBub2RlLnBsYWNlaG9sZGVyRWwuc2V0VGV4dCh0aXRsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG1ha2VGYWtlRWxlbWVudElkcyhjYW52YXNQYXRoOiBzdHJpbmcsIG5vZGVQYXRoOiBzdHJpbmcpOiB7IGxhYmVsOiBzdHJpbmc7IGlubGluZTogc3RyaW5nIH0ge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBgJHtjYW52YXNQYXRofS0ke25vZGVQYXRofWA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogYCR7cHJlZml4fS1sYWJlbGAsXG4gICAgICAgICAgICBpbmxpbmU6IGAke3ByZWZpeH0taW5saW5lYCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIi4uL2kxOG4vTG9jYWxlXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZlYXR1cmVIZWxwZXIge1xuICAgIGdldE9yZGVyZWRGZWF0dXJlcygpOiBGZWF0dXJlW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgRmVhdHVyZS5BbGlhcyxcbiAgICAgICAgICAgIEZlYXR1cmUuRXhwbG9yZXIsXG4gICAgICAgICAgICBGZWF0dXJlLkdyYXBoLFxuICAgICAgICAgICAgRmVhdHVyZS5IZWFkZXIsXG4gICAgICAgICAgICBGZWF0dXJlLkJvb2ttYXJrcyxcbiAgICAgICAgICAgIEZlYXR1cmUuU2VhcmNoLFxuICAgICAgICAgICAgRmVhdHVyZS5TdWdnZXN0LFxuICAgICAgICAgICAgRmVhdHVyZS5UYWIsXG4gICAgICAgICAgICBGZWF0dXJlLklubGluZVRpdGxlLFxuICAgICAgICAgICAgRmVhdHVyZS5DYW52YXMsXG4gICAgICAgICAgICBGZWF0dXJlLkJhY2tsaW5rLFxuICAgICAgICAgICAgRmVhdHVyZS5Ob3RlTGluayxcbiAgICAgICAgICAgIEZlYXR1cmUuV2luZG93RnJhbWUsXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0TmFtZShmZWF0dXJlOiBGZWF0dXJlKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuQWxpYXM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmFsaWFzLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuRXhwbG9yZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmV4cGxvcmVyLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuR3JhcGg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmdyYXBoLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuSGVhZGVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5oZWFkZXIubmFtZVwiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5Cb29rbWFya3M6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmJvb2ttYXJrcy5uYW1lXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLlNlYXJjaDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuc2VhcmNoLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuU3VnZ2VzdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuc3VnZ2VzdC5uYW1lXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLlRhYjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUudGFiLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuSW5saW5lVGl0bGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmlubGluZVRpdGxlLm5hbWVcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuQ2FudmFzOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5jYW52YXMubmFtZVwiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5CYWNrbGluazpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuYmFja2xpbmsubmFtZVwiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5Ob3RlTGluazpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUubm90ZUxpbmsubmFtZVwiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5XaW5kb3dGcmFtZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUud2luZG93RnJhbWUubmFtZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERlc2NyaXB0aW9uKGZlYXR1cmU6IEZlYXR1cmUpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKGZlYXR1cmUpIHtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5BbGlhczpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuYWxpYXMuZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5FeHBsb3JlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuZXhwbG9yZXIuZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5HcmFwaDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuZ3JhcGguZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5IZWFkZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmhlYWRlci5kZXNjXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLkJvb2ttYXJrczpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuYm9va21hcmtzLmRlc2NcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuU2VhcmNoOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5zZWFyY2guZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5TdWdnZXN0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5zdWdnZXN0LmRlc2NcIik7XG4gICAgICAgICAgICBjYXNlIEZlYXR1cmUuVGFiOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS50YWIuZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5JbmxpbmVUaXRsZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdChcImZlYXR1cmUuaW5saW5lVGl0bGUuZGVzY1wiKTtcbiAgICAgICAgICAgIGNhc2UgRmVhdHVyZS5DYW52YXM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQoXCJmZWF0dXJlLmNhbnZhcy5kZXNjXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLkJhY2tsaW5rOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5iYWNrbGluay5kZXNjXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLk5vdGVMaW5rOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS5ub3RlTGluay5kZXNjXCIpO1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLldpbmRvd0ZyYW1lOlxuICAgICAgICAgICAgICAgIHJldHVybiB0KFwiZmVhdHVyZS53aW5kb3dGcmFtZS5kZXNjXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RG9jU2VjdGlvbihmZWF0dXJlOiBGZWF0dXJlKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHN3aXRjaCAoZmVhdHVyZSkge1xuICAgICAgICAgICAgY2FzZSBGZWF0dXJlLk5vdGVMaW5rOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkZlYXR1cmVzL05vdGVMaW5rLm1kXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlLCBSZXNvbHZlclNlcnZpY2VJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmVhdHVyZVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wicmVzb2x2ZXI6c2VydmljZVwiXSlcbiAgICAgICAgcHJpdmF0ZSBzZXJ2aWNlOiBSZXNvbHZlclNlcnZpY2VJbnRlcmZhY2VcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgY3JlYXRlUmVzb2x2ZXIobmFtZTogc3RyaW5nKTogUmVzb2x2ZXJJbnRlcmZhY2UgfCBudWxsIHtcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXMuc2VydmljZS5jcmVhdGVOYW1lZChgJHtuYW1lfTptYWluYCk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrID0gdGhpcy5zZXJ2aWNlLmNyZWF0ZU5hbWVkKGAke25hbWV9OmZhbGxiYWNrYCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNvbHZlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYWluLnJlc29sdmUocGF0aCkgPz8gZmFsbGJhY2sucmVzb2x2ZShwYXRoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgT2JzaWRpYW5GYWNhZGUgZnJvbSBcIi4uLy4uL09ic2lkaWFuL09ic2lkaWFuRmFjYWRlXCI7XG5pbXBvcnQgeyBGZWF0dXJlLCBMZWF2ZXMsIFBsdWdpbnMgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIi4uLy4uL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBCYWNrbGlua1ZpZXdFeHQsIE1hcmtkb3duVmlld0V4dCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCIuLi8uLi9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9FdmVudERpc3BhdGNoZXJcIjtcbmltcG9ydCB7IEFwcEV2ZW50cyB9IGZyb20gXCJAc3JjL1R5cGVzXCI7XG5pbXBvcnQgQWJzdHJhY3RGZWF0dXJlIGZyb20gXCIuLi9BYnN0cmFjdEZlYXR1cmVcIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEZlYXR1cmVTZXJ2aWNlIGZyb20gXCIuLi9GZWF0dXJlU2VydmljZVwiO1xuaW1wb3J0IFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlIGZyb20gXCIuLi8uLi9VdGlscy9TZWFyY2hEb21XcmFwcGVyU2VydmljZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWNrbGlua0ZlYXR1cmUgZXh0ZW5kcyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVmczogTGlzdGVuZXJSZWY8a2V5b2YgQXBwRXZlbnRzPltdIHwgbmV2ZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlO1xuICAgIHByaXZhdGUgZFByb2Nlc3M6ICgpID0+IHZvaWQgPSBudWxsO1xuICAgIHByaXZhdGUgdGltZXI6IG51bWJlciA9IG51bGw7XG4gICAgcHJpdmF0ZSBpc0JhY2tsaW5rV3JhcHBlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWNhZGU6b2JzaWRpYW5cIl0pXG4gICAgICAgIHByaXZhdGUgZmFjYWRlOiBPYnNpZGlhbkZhY2FkZSxcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChcImJhY2tsaW5rXCIpXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlcjxBcHBFdmVudHM+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpzZXJ2aWNlXCJdKVxuICAgICAgICBzZXJ2aWNlOiBGZWF0dXJlU2VydmljZSxcbiAgICAgICAgQGluamVjdChTSVtcInNlcnZpY2U6c2VhcmNoOmRvbTp3cmFwcGVyXCJdKVxuICAgICAgICBwcml2YXRlIG11dGF0ZVNlcnZpY2U6IFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSBzZXJ2aWNlLmNyZWF0ZVJlc29sdmVyKHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgIHRoaXMuZFByb2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnByb2Nlc3MuYmluZCh0aGlzKSwgNTApO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuQmFja2xpbms7XG4gICAgfVxuXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRoaXMuZmFjYWRlLmlzSW50ZXJuYWxQbHVnaW5FbmFibGVkKFBsdWdpbnMuQmFja2xpbmspO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYE1hbmFnZXIgc3RhdGUgaXMgJHt0aGlzLmVuYWJsZWR9YCk7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZzID0gW1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmFkZExpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1ldGFkYXRhOmNhY2hlOmNoYW5nZWRcIixcbiAgICAgICAgICAgICAgICBjYjogdGhpcy5kUHJvY2Vzcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibGF5b3V0OmNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIGNiOiB0aGlzLmRQcm9jZXNzLmJpbmQodGhpcyksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5yZWZzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goZSA9PiB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIoZSkpO1xuICAgICAgICAgICAgdGhpcy5yZWZzID0gW107XG4gICAgICAgICAgICB0aGlzLm11dGF0ZVNlcnZpY2UuZGVzdHJveUJ5VGFnKHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEJhY2tsaW5rRmVhdHVyZS5nZXRJZCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2VzcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwicHJvY2Vzc1wiKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzQmFja2xpbmtMYXlvdXQoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZpZXcgb2YgdGhpcy5mYWNhZGUuZ2V0Vmlld3NPZlR5cGU8TWFya2Rvd25WaWV3RXh0PihMZWF2ZXMuTUQpKSB7XG4gICAgICAgICAgICBjb25zdCBkb20gPSB2aWV3Py5iYWNrbGlua3M/LmJhY2tsaW5rRG9tO1xuICAgICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMubXV0YXRlU2VydmljZS53cmFwRG9tKGRvbSwgdGhpcy5yZXNvbHZlciwgdGhpcy5nZXRJZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc0JhY2tsaW5rTGF5b3V0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0JhY2tsaW5rV3JhcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmZhY2FkZS5nZXRWaWV3c09mVHlwZTxCYWNrbGlua1ZpZXdFeHQ+KExlYXZlcy5CTClbMF0gPz8gbnVsbDtcbiAgICAgICAgaWYgKHZpZXc/LmJhY2tsaW5rPy5iYWNrbGlua0RvbSkge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGVTZXJ2aWNlLndyYXBEb20odmlldy5iYWNrbGluay5iYWNrbGlua0RvbSwgdGhpcy5yZXNvbHZlciwgdGhpcy5nZXRJZCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQmFja2xpbmtXcmFwcGVkID0gdHJ1ZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiLi4vLi4vQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgQXBwRXZlbnRzIH0gZnJvbSBcIkBzcmMvVHlwZXNcIjtcbmltcG9ydCBGaWxlTm90ZUxpbmtTZXJ2aWNlLCB7IE5vdGVMaW5rIH0gZnJvbSBcIkBzcmMvVXRpbHMvRmlsZU5vdGVMaW5rU2VydmljZVwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCBBYnN0cmFjdEZlYXR1cmUgZnJvbSBcIi4uL0Fic3RyYWN0RmVhdHVyZVwiO1xuaW1wb3J0IEZlYXR1cmVTZXJ2aWNlIGZyb20gXCIuLi9GZWF0dXJlU2VydmljZVwiO1xuaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCIuLi8uLi9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgeyBpbmplY3QsIG5hbWVkIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCIuLi8uLi8uLi9jb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBOb3RlTGlua0NoYW5nZSwgTm90ZUxpbmtTdHJhdGVneSB9IGZyb20gXCIuL05vdGVMaW5rVHlwZXNcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiLi4vLi4vT2JzaWRpYW4vT2JzaWRpYW5GYWNhZGVcIjtcbmltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBGZWF0dXJlQ29uZmlnIH0gZnJvbSBcIi4uL1R5cGVzXCI7XG5pbXBvcnQgTm90ZUxpbmtBcHByb3ZlIGZyb20gXCIuL05vdGVMaW5rQXBwcm92ZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlTGlua0ZlYXR1cmUgZXh0ZW5kcyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlO1xuICAgIHByaXZhdGUgcmVmczogTGlzdGVuZXJSZWY8YW55PltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZlYXR1cmU6c2VydmljZVwiXSlcbiAgICAgICAgZmVhdHVyZVNlcnZpY2U6IEZlYXR1cmVTZXJ2aWNlLFxuICAgICAgICBAaW5qZWN0KFNJW1wic2VydmljZTpub3RlOmxpbmtcIl0pXG4gICAgICAgIHByaXZhdGUgc2VydmljZTogRmlsZU5vdGVMaW5rU2VydmljZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOm5vdGVsaW5rOmFwcHJvdmVcIl0pXG4gICAgICAgIHByaXZhdGUgYXBwcm92ZTogTm90ZUxpbmtBcHByb3ZlLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGUsXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOmNvbmZpZ1wiXSlcbiAgICAgICAgQG5hbWVkKEZlYXR1cmUuTm90ZUxpbmspXG4gICAgICAgIHByaXZhdGUgY29uZmlnOiBGZWF0dXJlQ29uZmlnPEZlYXR1cmUuTm90ZUxpbms+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSBmZWF0dXJlU2VydmljZS5jcmVhdGVSZXNvbHZlcih0aGlzLmdldElkKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuTm90ZUxpbms7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goZSA9PiB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIoZSkpO1xuICAgICAgICB0aGlzLnJlZnMgPSBbXTtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlZnMucHVzaChcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcjxcIm1ldGFkYXRhOmNhY2hlOmNoYW5nZWRcIj4oe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibWV0YWRhdGE6Y2FjaGU6Y2hhbmdlZFwiLFxuICAgICAgICAgICAgICAgIGNiOiBlID0+IHRoaXMucmVxdWVzdEFwcHJvdmUoZS5nZXQoKS5wYXRoKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0SWQoKTogRmVhdHVyZSB7XG4gICAgICAgIHJldHVybiBOb3RlTGlua0ZlYXR1cmUuZ2V0SWQoKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG91bGRDaGFuZ2VMaW5rKGxpbms6IE5vdGVMaW5rLCBkZXN0VGl0bGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWRlc3RUaXRsZSB8fCBkZXN0VGl0bGUgPT09IGxpbmsuYWxpYXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNBbGlhcyA9IC8uK1xcfC4rLy50ZXN0KGxpbmsub3JpZ2luYWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuc3RyYXRlZ3kgPT09IE5vdGVMaW5rU3RyYXRlZ3kuQWxsIHx8ICFoYXNBbGlhcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlcXVlc3RBcHByb3ZlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBsaW5rcyA9IHRoaXMuc2VydmljZS5nZXROb3RlTGlua3MocGF0aCk7XG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShsaW5rLmRlc3QpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRDaGFuZ2VMaW5rKGxpbmssIHRpdGxlKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBsaW5rLm9yaWdpbmFsLFxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlOiBgW1ske2xpbmsubGlua318JHt0aXRsZX1dXWAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGVjID0gdGhpcy5jb25maWcuYXBwcm92YWwgPyBhd2FpdCB0aGlzLmFwcHJvdmUucmVxdWVzdChwYXRoLCBjaGFuZ2VzKSA6IHRydWU7XG4gICAgICAgIGlmIChleGVjKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmV4ZWN1dGVDaGFuZ2VzKHBhdGgsIGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlQ2hhbmdlcyhwYXRoOiBzdHJpbmcsIGNoYW5nZXM6IE5vdGVMaW5rQ2hhbmdlW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuZmFjYWRlLmdldFRGaWxlKHBhdGgpO1xuICAgICAgICBsZXQgY29udGVudCA9IGZpbGUgaW5zdGFuY2VvZiBURmlsZSA/IGF3YWl0IHRoaXMuZmFjYWRlLmdldEZpbGVDb250ZW50KGZpbGUpIDogbnVsbDtcbiAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB7IG9yaWdpbmFsLCByZXBsYWNlIH0gb2YgY2hhbmdlcykge1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShvcmlnaW5hbCwgcmVwbGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5mYWNhZGUubW9kaWZ5RmlsZShmaWxlLCBjb250ZW50KS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCIuLi8uLi8uLi9jb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBOb3RlTGlua0NoYW5nZSB9IGZyb20gXCIuL05vdGVMaW5rVHlwZXNcIjtcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIi4uLy4uL2kxOG4vTG9jYWxlXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVMaW5rQXBwcm92ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJmYWN0b3J5Om9ic2lkaWFuOm1vZGFsXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6ICgpID0+IE1vZGFsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGFzeW5jIHJlcXVlc3QocGF0aDogc3RyaW5nLCBjaGFuZ2VzOiBOb3RlTGlua0NoYW5nZVtdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPihyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gdGhpcy5mYWN0b3J5KCk7XG4gICAgICAgICAgICBsZXQgYXBwcm92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vZGFsLm9uQ2xvc2UgPSAoKSA9PiByKGFwcHJvdmVkKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSBtb2RhbDtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5zZXRUZXh0KGBBcHByb3ZlIGNoYW5nZXMgZm9yICR7cGF0aH1gKTtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcInVsXCIsIG51bGwsIHVsID0+XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5mb3JFYWNoKGUgPT4gdWwuY3JlYXRlRWwoXCJsaVwiLCB7IHRleHQ6IGAke2Uub3JpZ2luYWx9ID0+ICR7ZS5yZXBsYWNlfWAgfSkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgYnRuQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcIm1vZGFsLWJ1dHRvbi1jb250YWluZXJcIik7XG4gICAgICAgICAgICBidG5Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBjbHM6IFwibW9kLWN0YVwiLCB0ZXh0OiB0KFwiYXBwbHlcIikgfSkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnRuQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogdChcImNhbmNlbFwiKSB9KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gbW9kYWwuY2xvc2UoKSk7XG4gICAgICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBTZXR0aW5nc0ZlYXR1cmUsIFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSBcIkBzcmMvU3RvcmFnZS9TdG9yYWdlXCI7XG5pbXBvcnQgeyBPYmplY3RJdGVtSW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvU3RvcmFnZS9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IHsgU3RyYXRlZ3lUeXBlLCBWYWxpZGF0b3JUeXBlIH0gZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9UeXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGlhc0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJzZXR0aW5nczpzdG9yYWdlXCJdKVxuICAgICAgICBwcml2YXRlIHN0b3JhZ2U6IFN0b3JhZ2U8U2V0dGluZ3NUeXBlPlxuICAgICkge31cblxuICAgIHByaXZhdGUgZ2V0IGNvbmZpZygpOiBPYmplY3RJdGVtSW50ZXJmYWNlPFNldHRpbmdzRmVhdHVyZVtGZWF0dXJlLkFsaWFzXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldChcImZlYXR1cmVzXCIpLmdldChGZWF0dXJlLkFsaWFzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RyYXRlZ3koKTogU3RyYXRlZ3lUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmdldChcInN0cmF0ZWd5XCIpLnZhbHVlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbGlkYXRvcigpOiBWYWxpZGF0b3JUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmdldChcInZhbGlkYXRvclwiKS52YWx1ZSgpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBURmlsZUV4cGxvcmVySXRlbSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRXhwbG9yZXJGaWxlSXRlbU11dGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgaXRlbTogVEZpbGVFeHBsb3Jlckl0ZW0sIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlKSB7XG4gICAgICAgIGl0ZW0udXBkYXRlVGl0bGUgPSB0aGlzLnVwZGF0ZVRpdGxlLmJpbmQodGhpcyk7XG4gICAgICAgIGl0ZW0uc3RhcnRSZW5hbWUgPSB0aGlzLnN0YXJ0UmVuYW1lLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaXRlbS51cGRhdGVUaXRsZSA9IHRoaXMuZ2V0UHJvdG8oKS51cGRhdGVUaXRsZTtcbiAgICAgICAgdGhpcy5pdGVtLnN0YXJ0UmVuYW1lID0gdGhpcy5nZXRQcm90bygpLnN0YXJ0UmVuYW1lO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJvdG8oKTogVEZpbGVFeHBsb3Jlckl0ZW0ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMuaXRlbSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUaXRsZSgpIHtcbiAgICAgICAgdGhpcy5nZXRQcm90bygpLnVwZGF0ZVRpdGxlLmNhbGwodGhpcy5pdGVtKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLnJlc29sdmVyLnJlc29sdmUodGhpcy5pdGVtLmZpbGUucGF0aCk7XG4gICAgICAgIHRpdGxlPy5sZW5ndGggPiAwICYmIHRoaXMuaXRlbS5pbm5lckVsLnNldFRleHQodGl0bGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRSZW5hbWUoKSB7XG4gICAgICAgIHRoaXMuaXRlbS5pbm5lckVsLnNldFRleHQodGhpcy5pdGVtLmdldFRpdGxlKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm90bygpLnN0YXJ0UmVuYW1lLmNhbGwodGhpcy5pdGVtKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCBBYnN0cmFjdEZlYXR1cmUgZnJvbSBcIkBzcmMvRmVhdHVyZS9BYnN0cmFjdEZlYXR1cmVcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IHsgRWRpdGFibGVGaWxlVmlldyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgRmVhdHVyZVNlcnZpY2UgZnJvbSBcIkBzcmMvRmVhdHVyZS9GZWF0dXJlU2VydmljZVwiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50RGlzcGF0Y2hlckludGVyZmFjZVwiO1xuaW1wb3J0IHsgQXBwRXZlbnRzIH0gZnJvbSBcIkBzcmMvVHlwZXNcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgRXZlbnRJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudEludGVyZmFjZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaW5kb3dGcmFtZUZlYXR1cmUgaW1wbGVtZW50cyBBYnN0cmFjdEZlYXR1cmU8RmVhdHVyZT4ge1xuICAgIHByaXZhdGUgdmFuaWxsYVVwZGF0ZVRpdGxlOiAoKSA9PiB2b2lkID0gbnVsbDtcblxuICAgIHByaXZhdGUgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlO1xuXG4gICAgcHJpdmF0ZSBlbmFibGVkID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIHJlZjogTGlzdGVuZXJSZWY8XCJtZXRhZGF0YTpjYWNoZTpjaGFuZ2VkXCI+ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGUsXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOnNlcnZpY2VcIl0pXG4gICAgICAgIGZlYXR1cmVTZXJ2aWNlOiBGZWF0dXJlU2VydmljZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz5cbiAgICApIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IGZlYXR1cmVTZXJ2aWNlLmNyZWF0ZVJlc29sdmVyKHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgIHRoaXMucmVmID0gZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7IG5hbWU6IFwibWV0YWRhdGE6Y2FjaGU6Y2hhbmdlZFwiLCBjYjogdGhpcy5vbkNhY2hlQ2hhbmdlZC5iaW5kKHRoaXMpIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuV2luZG93RnJhbWU7XG4gICAgfVxuXG4gICAgb25DYWNoZUNoYW5nZWQoZTogRXZlbnRJbnRlcmZhY2U8QXBwRXZlbnRzW1wibWV0YWRhdGE6Y2FjaGU6Y2hhbmdlZFwiXT4pIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlLmdldEFjdGl2ZUZpbGUoKT8ucGF0aCA9PT0gZS5nZXQoKS5wYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRpdGxlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUaXRsZSgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuZmFjYWRlLmdldE1vc3RSZWNlbnRMZWFmKHRoaXMuZmFjYWRlLmdldEFjdGl2ZUxlYWYoKS5nZXRDb250YWluZXIoKSk7XG4gICAgICAgIGxldCB0ZXh0OiBzdHJpbmc7XG4gICAgICAgIGlmIChlLnZpZXcgaW5zdGFuY2VvZiBFZGl0YWJsZUZpbGVWaWV3ICYmIGUuZ2V0Vmlld1N0YXRlKCkuc3RhdGUuZmlsZSkge1xuICAgICAgICAgICAgdGV4dCA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShlLmdldFZpZXdTdGF0ZSgpLnN0YXRlLmZpbGUgYXMgc3RyaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHQgPSBlPy5nZXREaXNwbGF5VGV4dCgpLnRyaW0oKSA/PyBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLmZhY2FkZS5nZXRBcHBUaXRsZSh0ZXh0KTtcbiAgICB9XG5cbiAgICBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWYpO1xuICAgICAgICB0aGlzLmZhY2FkZS5nZXRXb3Jrc3BhY2UoKS51cGRhdGVUaXRsZSA9IHRoaXMudmFuaWxsYVVwZGF0ZVRpdGxlO1xuICAgICAgICB0aGlzLmZhY2FkZS5nZXRXb3Jrc3BhY2UoKS51cGRhdGVUaXRsZSgpO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFuaWxsYVVwZGF0ZVRpdGxlID0gdGhpcy5mYWNhZGUuZ2V0V29ya3NwYWNlKCkudXBkYXRlVGl0bGU7XG4gICAgICAgIHRoaXMuZmFjYWRlLmdldFdvcmtzcGFjZSgpLnVwZGF0ZVRpdGxlID0gdGhpcy51cGRhdGVUaXRsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmZhY2FkZS5nZXRXb3Jrc3BhY2UoKS51cGRhdGVUaXRsZSgpO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBnZXRJZCgpOiBGZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIEZlYXR1cmUuV2luZG93RnJhbWU7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGludGVyZmFjZXMgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgRmVhdHVyZUludGVyZmFjZSBmcm9tIFwiQHNyYy9JbnRlcmZhY2VzL0ZlYXR1cmVJbnRlcmZhY2VcIjtcbmltcG9ydCBFeHBsb3Jlck1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9FeHBsb3Jlci9FeHBsb3Jlck1hbmFnZXJcIjtcbmltcG9ydCBGZWF0dXJlQ29tcG9zZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9GZWF0dXJlQ29tcG9zZXJcIjtcbmltcG9ydCBFeHBsb3JlclNvcnQgZnJvbSBcIkBzcmMvRmVhdHVyZS9FeHBsb3Jlci9FeHBsb3JlclNvcnRcIjtcbmltcG9ydCBNYW5hZ2VyQ29tcG9zZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9NYW5hZ2VyQ29tcG9zZXJcIjtcbmltcG9ydCBTZWFyY2hGZWF0dXJlIGZyb20gXCJAc3JjL0ZlYXR1cmUvU2VhcmNoL1NlYXJjaEZlYXR1cmVcIjtcbmltcG9ydCBUYWJNYW5hZ2VyIGZyb20gXCJAc3JjL0ZlYXR1cmUvVGFiL1RhYk1hbmFnZXJcIjtcbmltcG9ydCB7IEFsaWFzRmVhdHVyZSB9IGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvQWxpYXNGZWF0dXJlXCI7XG5pbXBvcnQgRW5zdXJlU3RyYXRlZ3kgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9TdHJhdGVneS9FbnN1cmVTdHJhdGVneVwiO1xuaW1wb3J0IEFkanVzdFN0cmF0ZWd5IGZyb20gXCJAc3JjL0ZlYXR1cmUvQWxpYXMvU3RyYXRlZ3kvQWRqdXN0U3RyYXRlZ3lcIjtcbmltcG9ydCBSZXBsYWNlU3RyYXRlZ3kgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9TdHJhdGVneS9SZXBsYWNlU3RyYXRlZ3lcIjtcbmltcG9ydCBTdWdnZXN0RmVhdHVyZSBmcm9tIFwiQHNyYy9GZWF0dXJlL1N1Z2dlc3QvU3VnZ2VzdEZlYXR1cmVcIjtcbmltcG9ydCBCb29rbWFya3NNYW5hZ2VyIGZyb20gXCJAc3JjL0ZlYXR1cmUvQm9va21hcmtzL0Jvb2ttYXJrc01hbmFnZXJcIjtcbmltcG9ydCBHcmFwaE1hbmFnZXIgZnJvbSBcIkBzcmMvRmVhdHVyZS9HcmFwaC9HcmFwaE1hbmFnZXJcIjtcbmltcG9ydCB7IE1hcmtkb3duSGVhZGVyTWFuYWdlciB9IGZyb20gXCJAc3JjL0ZlYXR1cmUvTWFya2Rvd25IZWFkZXIvTWFya2Rvd25IZWFkZXJNYW5hZ2VyXCI7XG5pbXBvcnQge1xuICAgIFN0cmF0ZWd5SW50ZXJmYWNlIGFzIEFsaWFzU3RyYXRlZ3lJbnRlcmZhY2UsXG4gICAgVmFsaWRhdG9ySW50ZXJmYWNlIGFzIEFsaWFzVmFsaWRhdG9ySW50ZXJmYWNlLFxufSBmcm9tIFwiLi4vLi4vc3JjL0ZlYXR1cmUvQWxpYXMvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgU3RyYXRlZ3lUeXBlIGFzIEFsaWFzU3RyYXRlZ3lUeXBlLCBWYWxpZGF0b3JUeXBlIGFzIEFsaWFzVmFsaWRhdG9yVHlwZSB9IGZyb20gXCIuLi8uLi9zcmMvRmVhdHVyZS9BbGlhcy9UeXBlc1wiO1xuaW1wb3J0IHsgVmFsaWRhdG9yQXV0bywgVmFsaWRhdG9yUmVxdWlyZWQgfSBmcm9tIFwiQHNyYy9GZWF0dXJlL0FsaWFzL1ZhbGlkYXRvclwiO1xuaW1wb3J0IHsgSW5saW5lVGl0bGVNYW5hZ2VyIH0gZnJvbSBcIkBzcmMvRmVhdHVyZS9JbmxpbmVUaXRsZS9JbmxpbmVUaXRsZU1hbmFnZXJcIjtcbmltcG9ydCB7IENhbnZhc01hbmFnZXIgfSBmcm9tIFwiQHNyYy9GZWF0dXJlL0NhbnZhcy9DYW52YXNNYW5hZ2VyXCI7XG5pbXBvcnQgQWJzdHJhY3RNYW5hZ2VyIGZyb20gXCIuLi8uLi9zcmMvRmVhdHVyZS9BYnN0cmFjdE1hbmFnZXJcIjtcbmltcG9ydCBGZWF0dXJlSGVscGVyIGZyb20gXCJAc3JjL1V0aWxzL0ZlYXR1cmVIZWxwZXJcIjtcbmltcG9ydCBGZWF0dXJlU2VydmljZSBmcm9tIFwiQHNyYy9GZWF0dXJlL0ZlYXR1cmVTZXJ2aWNlXCI7XG5pbXBvcnQgQmFja2xpbmtNYW5hZ2VyIGZyb20gXCIuLi8uLi9zcmMvRmVhdHVyZS9CYWNrbGluay9CYWNrbGlua0ZlYXR1cmVcIjtcbmltcG9ydCBOb3RlTGlua0ZlYXR1cmUgZnJvbSBcIi4uLy4uL3NyYy9GZWF0dXJlL05vdGVMaW5rL05vdGVMaW5rRmVhdHVyZVwiO1xuaW1wb3J0IE5vdGVMaW5rQXBwcm92ZSBmcm9tIFwiLi4vLi4vc3JjL0ZlYXR1cmUvTm90ZUxpbmsvTm90ZUxpbmtBcHByb3ZlXCI7XG5pbXBvcnQgQWxpYXNDb25maWcgZnJvbSBcIkBzcmMvRmVhdHVyZS9BbGlhcy9BbGlhc0NvbmZpZ1wiO1xuaW1wb3J0IHsgS2V5U3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCJAc3JjL1N0b3JhZ2UvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NUeXBlIH0gZnJvbSBcIkBzcmMvU2V0dGluZ3MvU2V0dGluZ3NUeXBlXCI7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IHsgVEZpbGVFeHBsb3Jlckl0ZW0gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgRXhwbG9yZXJGaWxlSXRlbU11dGF0b3IgfSBmcm9tIFwiQHNyYy9GZWF0dXJlL0V4cGxvcmVyL0V4cGxvcmVyRmlsZUl0ZW1NdXRhdG9yXCI7XG5pbXBvcnQgU3RvcmFnZSBmcm9tIFwiQHNyYy9TdG9yYWdlL1N0b3JhZ2VcIjtcbmltcG9ydCBXaW5kb3dGcmFtZUZlYXR1cmUgZnJvbSBcIkBzcmMvRmVhdHVyZS9XaW5kb3dGcmFtZS9XaW5kb3dGcmFtZUZlYXR1cmVcIjtcbmltcG9ydCBDb250YWluZXIgPSBpbnRlcmZhY2VzLkNvbnRhaW5lcjtcblxuZXhwb3J0IGRlZmF1bHQgKGNvbnRhaW5lcjogQ29udGFpbmVyKSA9PiB7XG4gICAgY29udGFpbmVyLmJpbmQoU0lbXCJmZWF0dXJlOnNlcnZpY2VcIl0pLnRvKEZlYXR1cmVTZXJ2aWNlKS5pblNpbmdsZXRvblNjb3BlKCk7XG4gICAgY29udGFpbmVyLmJpbmQoU0lbXCJmZWF0dXJlOmNvbXBvc2VyXCJdKS50byhGZWF0dXJlQ29tcG9zZXIpLmluU2luZ2xldG9uU2NvcGUoKTtcbiAgICBjb250YWluZXIuYmluZChTSVtcIm1hbmFnZXI6Y29tcG9zZXJcIl0pLnRvKE1hbmFnZXJDb21wb3NlcikuaW5TaW5nbGV0b25TY29wZSgpO1xuICAgIGNvbnRhaW5lci5iaW5kKFNJW1wiZmVhdHVyZTpoZWxwZXJcIl0pLnRvKEZlYXR1cmVIZWxwZXIpLmluU2luZ2xldG9uU2NvcGUoKTtcblxuICAgIGNvbnRhaW5lclxuICAgICAgICAuYmluZDxpbnRlcmZhY2VzLkF1dG9OYW1lZEZhY3Rvcnk8RmVhdHVyZUludGVyZmFjZTxhbnk+Pj4oU0lbXCJmYWN0b3J5OmZlYXR1cmVcIl0pXG4gICAgICAgIC50b0F1dG9OYW1lZEZhY3Rvcnk8RmVhdHVyZUludGVyZmFjZTxhbnk+PihTSS5mZWF0dXJlKVxuICAgICAgICAub25BY3RpdmF0aW9uKChjLCBpKSA9PiAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlOiBGZWF0dXJlSW50ZXJmYWNlPGFueT4gPSBpKG5hbWUpO1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBBYnN0cmFjdE1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2aWNlOiBGZWF0dXJlU2VydmljZSA9IGMuY29udGFpbmVyLmdldChTSVtcImZlYXR1cmU6c2VydmljZVwiXSk7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5zZXRSZXNvbHZlcihzZXJ2aWNlLmNyZWF0ZVJlc29sdmVyKGZlYXR1cmUuZ2V0SWQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmU7XG4gICAgICAgIH0pO1xuICAgIGNvbnRhaW5lci5iaW5kPEZlYXR1cmVJbnRlcmZhY2U8YW55Pj4oU0kuZmVhdHVyZSkudG8oQWxpYXNGZWF0dXJlKS53aGVuVGFyZ2V0TmFtZWQoQWxpYXNGZWF0dXJlLmdldElkKCkpO1xuICAgIGNvbnRhaW5lclxuICAgICAgICAuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpXG4gICAgICAgIC50byhXaW5kb3dGcmFtZUZlYXR1cmUpXG4gICAgICAgIC53aGVuVGFyZ2V0TmFtZWQoV2luZG93RnJhbWVGZWF0dXJlLmdldElkKCkpO1xuICAgIGNvbnRhaW5lci5iaW5kPEZlYXR1cmVJbnRlcmZhY2U8YW55Pj4oU0kuZmVhdHVyZSkudG8oRXhwbG9yZXJNYW5hZ2VyKS53aGVuVGFyZ2V0TmFtZWQoRXhwbG9yZXJNYW5hZ2VyLmdldElkKCkpO1xuICAgIGNvbnRhaW5lci5iaW5kPEZlYXR1cmVJbnRlcmZhY2U8YW55Pj4oU0kuZmVhdHVyZSkudG8oU2VhcmNoRmVhdHVyZSkud2hlblRhcmdldE5hbWVkKFNlYXJjaEZlYXR1cmUuZ2V0SWQoKSk7XG4gICAgY29udGFpbmVyLmJpbmQ8RmVhdHVyZUludGVyZmFjZTxhbnk+PihTSS5mZWF0dXJlKS50byhCb29rbWFya3NNYW5hZ2VyKS53aGVuVGFyZ2V0TmFtZWQoQm9va21hcmtzTWFuYWdlci5nZXRJZCgpKTtcbiAgICBjb250YWluZXIuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpLnRvKFRhYk1hbmFnZXIpLndoZW5UYXJnZXROYW1lZChUYWJNYW5hZ2VyLmdldElkKCkpO1xuICAgIGNvbnRhaW5lci5iaW5kPEZlYXR1cmVJbnRlcmZhY2U8YW55Pj4oU0kuZmVhdHVyZSkudG8oU3VnZ2VzdEZlYXR1cmUpLndoZW5UYXJnZXROYW1lZChTdWdnZXN0RmVhdHVyZS5nZXRJZCgpKTtcbiAgICBjb250YWluZXIuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpLnRvKEdyYXBoTWFuYWdlcikud2hlblRhcmdldE5hbWVkKEdyYXBoTWFuYWdlci5nZXRJZCgpKTtcbiAgICBjb250YWluZXJcbiAgICAgICAgLmJpbmQ8RmVhdHVyZUludGVyZmFjZTxhbnk+PihTSS5mZWF0dXJlKVxuICAgICAgICAudG8oTWFya2Rvd25IZWFkZXJNYW5hZ2VyKVxuICAgICAgICAud2hlblRhcmdldE5hbWVkKE1hcmtkb3duSGVhZGVyTWFuYWdlci5nZXRJZCgpKTtcbiAgICBjb250YWluZXIuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpLnRvKEJhY2tsaW5rTWFuYWdlcikud2hlblRhcmdldE5hbWVkKEJhY2tsaW5rTWFuYWdlci5nZXRJZCgpKTtcbiAgICBjb250YWluZXIuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpLnRvKE5vdGVMaW5rRmVhdHVyZSkud2hlblRhcmdldE5hbWVkKE5vdGVMaW5rRmVhdHVyZS5nZXRJZCgpKTtcbiAgICBjb250YWluZXJcbiAgICAgICAgLmJpbmQ8RmVhdHVyZUludGVyZmFjZTxhbnk+PihTSS5mZWF0dXJlKVxuICAgICAgICAudG8oSW5saW5lVGl0bGVNYW5hZ2VyKVxuICAgICAgICAud2hlblRhcmdldE5hbWVkKElubGluZVRpdGxlTWFuYWdlci5nZXRJZCgpKTtcbiAgICBjb250YWluZXIuYmluZDxGZWF0dXJlSW50ZXJmYWNlPGFueT4+KFNJLmZlYXR1cmUpLnRvKENhbnZhc01hbmFnZXIpLndoZW5UYXJnZXROYW1lZChDYW52YXNNYW5hZ2VyLmdldElkKCkpO1xuXG4gICAgY29udGFpbmVyXG4gICAgICAgIC5iaW5kKFNJW1wiZmFjdG9yeTphbGlhczptb2RpZmllcjpzdHJhdGVneVwiXSlcbiAgICAgICAgLnRvQXV0b05hbWVkRmFjdG9yeTxBbGlhc1N0cmF0ZWd5SW50ZXJmYWNlPihTSVtcImFsaWFzOm1vZGlmaWVyOnN0cmF0ZWd5XCJdKTtcbiAgICBjb250YWluZXIuYmluZChTSVtcImFsaWFzOm1vZGlmaWVyOnN0cmF0ZWd5XCJdKS50byhFbnN1cmVTdHJhdGVneSkud2hlblRhcmdldE5hbWVkKEFsaWFzU3RyYXRlZ3lUeXBlLkVuc3VyZSk7XG4gICAgY29udGFpbmVyLmJpbmQoU0lbXCJhbGlhczptb2RpZmllcjpzdHJhdGVneVwiXSkudG8oQWRqdXN0U3RyYXRlZ3kpLndoZW5UYXJnZXROYW1lZChBbGlhc1N0cmF0ZWd5VHlwZS5BZGp1c3QpO1xuICAgIGNvbnRhaW5lci5iaW5kKFNJW1wiYWxpYXM6bW9kaWZpZXI6c3RyYXRlZ3lcIl0pLnRvKFJlcGxhY2VTdHJhdGVneSkud2hlblRhcmdldE5hbWVkKEFsaWFzU3RyYXRlZ3lUeXBlLlJlcGxhY2UpO1xuXG4gICAgY29udGFpbmVyLmJpbmQoU0lbXCJmZWF0dXJlOmFsaWFzOmNvbmZpZ1wiXSkudG8oQWxpYXNDb25maWcpO1xuICAgIGNvbnRhaW5lclxuICAgICAgICAuYmluZChTSVtcImZhY3Rvcnk6YWxpYXM6bW9kaWZpZXI6dmFsaWRhdG9yXCJdKVxuICAgICAgICAudG9BdXRvTmFtZWRGYWN0b3J5PEFsaWFzVmFsaWRhdG9ySW50ZXJmYWNlPihTSVtcImFsaWFzOm1vZGlmaWVyOnZhbGlkYXRvclwiXSk7XG4gICAgY29udGFpbmVyXG4gICAgICAgIC5iaW5kKFNJW1wiYWxpYXM6bW9kaWZpZXI6dmFsaWRhdG9yXCJdKVxuICAgICAgICAudG8oVmFsaWRhdG9yQXV0bylcbiAgICAgICAgLndoZW5UYXJnZXROYW1lZChBbGlhc1ZhbGlkYXRvclR5cGUuRnJvbnRtYXR0ZXJBdXRvKTtcbiAgICBjb250YWluZXJcbiAgICAgICAgLmJpbmQoU0lbXCJhbGlhczptb2RpZmllcjp2YWxpZGF0b3JcIl0pXG4gICAgICAgIC50byhWYWxpZGF0b3JSZXF1aXJlZClcbiAgICAgICAgLndoZW5UYXJnZXROYW1lZChBbGlhc1ZhbGlkYXRvclR5cGUuRnJvbnRtYXR0ZXJSZXF1aXJlZCk7XG5cbiAgICBjb250YWluZXIuYmluZChTSVtcImZlYXR1cmU6bm90ZWxpbms6YXBwcm92ZVwiXSkudG8oTm90ZUxpbmtBcHByb3ZlKTtcbiAgICBjb250YWluZXJcbiAgICAgICAgLmJpbmQoU0lbXCJmZWF0dXJlOmNvbmZpZ1wiXSlcbiAgICAgICAgLnRvRHluYW1pY1ZhbHVlKGMgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGMuY3VycmVudFJlcXVlc3QudGFyZ2V0LmdldE5hbWVkVGFnKCkudmFsdWUgYXMgRmVhdHVyZTtcbiAgICAgICAgICAgIHJldHVybiBjLmNvbnRhaW5lclxuICAgICAgICAgICAgICAgIC5nZXQ8S2V5U3RvcmFnZUludGVyZmFjZTxTZXR0aW5nc1R5cGU+PihTSVtcInNldHRpbmdzOnN0b3JhZ2VcIl0pXG4gICAgICAgICAgICAgICAgLmdldChcImZlYXR1cmVzXCIpXG4gICAgICAgICAgICAgICAgLmdldChmZWF0dXJlKVxuICAgICAgICAgICAgICAgIC52YWx1ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAud2hlbigoKSA9PiB0cnVlKTtcblxuICAgIGNvbnRhaW5lclxuICAgICAgICAuYmluZChTSVtcImZlYXR1cmU6ZXhwbG9yZXI6ZmlsZV9tdXRhdG9yOmZhY3RvcnlcIl0pXG4gICAgICAgIC50b0Z1bmN0aW9uKFxuICAgICAgICAgICAgKGl0ZW06IFRGaWxlRXhwbG9yZXJJdGVtLCByZXNvbHZlcjogUmVzb2x2ZXJJbnRlcmZhY2UpID0+IG5ldyBFeHBsb3JlckZpbGVJdGVtTXV0YXRvcihpdGVtLCByZXNvbHZlcilcbiAgICAgICAgKTtcbiAgICBjb250YWluZXIuYmluZChTSVtcImZlYXR1cmU6ZXhwbG9yZXI6c29ydFwiXSkudG8oRXhwbG9yZXJTb3J0KTtcbiAgICBjb250YWluZXIuYmluZChTSVtcImZhY3Rvcnk6ZmVhdHVyZTpleHBsb3Jlcjpzb3J0XCJdKS50b0Z1bmN0aW9uKCgpID0+IHtcbiAgICAgICAgY29uc3QgZW5hYmxlZCA9IGNvbnRhaW5lclxuICAgICAgICAgICAgLmdldDxTdG9yYWdlPFNldHRpbmdzVHlwZT4+KFNJW1wic2V0dGluZ3M6c3RvcmFnZVwiXSlcbiAgICAgICAgICAgIC5nZXQoXCJmZWF0dXJlc1wiKVxuICAgICAgICAgICAgLmdldChGZWF0dXJlLkV4cGxvcmVyKVxuICAgICAgICAgICAgLmdldChcInNvcnRcIilcbiAgICAgICAgICAgIC52YWx1ZSgpO1xuICAgICAgICByZXR1cm4gZW5hYmxlZCA/IGNvbnRhaW5lci5nZXQoU0lbXCJmZWF0dXJlOmV4cGxvcmVyOnNvcnRcIl0pIDogbnVsbDtcbiAgICB9KTtcbn07XG4iLCAiaW1wb3J0IEZlYXR1cmVCdWlsZEludGVyZmFjZSwge1xuICAgIEJ1aWxkUGFyYW1zLFxuICAgIEJ1aWxkU2V0dGluZ0NvbmZpZyxcbiAgICBDb250ZXh0LFxufSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9JbnRlcmZhY2UvRmVhdHVyZUJ1aWxkSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBTZXR0aW5nc1R5cGUsIFRlbXBsYXRlVmFsdWUgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiQHNyYy9pMThuL0xvY2FsZVwiO1xuaW1wb3J0IHsgT2JzaWRpYW5Nb2RhbEZhY3RvcnkgfSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkuZmFjdG9yeS50eXBlc1wiO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSBcIkBzcmMvU3RvcmFnZS9TdG9yYWdlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0QnVpbGRlcjxLIGV4dGVuZHMgRmVhdHVyZSA9IG51bGw+IGltcGxlbWVudHMgRmVhdHVyZUJ1aWxkSW50ZXJmYWNlPEs+IHtcbiAgICBwcm90ZWN0ZWQgaWQ6IEZlYXR1cmU7XG4gICAgcHJvdGVjdGVkIG9wdGlvbnM6IEJ1aWxkUGFyYW1zPEs+O1xuICAgIHByb3RlY3RlZCBjb25maWc6IEJ1aWxkU2V0dGluZ0NvbmZpZzxLPjtcbiAgICBwcm90ZWN0ZWQgY29udGV4dDogQ29udGV4dDtcbiAgICBwcml2YXRlIG1hbmFnZUJ1dHRvbjogQnV0dG9uQ29tcG9uZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJzZXR0aW5nczpzdG9yYWdlXCJdKVxuICAgICAgICBwcml2YXRlIHN0b3JhZ2U6IFN0b3JhZ2U8U2V0dGluZ3NUeXBlPixcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6b2JzaWRpYW46bW9kYWxcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogT2JzaWRpYW5Nb2RhbEZhY3RvcnlcbiAgICApIHt9XG5cbiAgICBzZXRDb250ZXh0KGNvbnRleHQ6IENvbnRleHQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG5cbiAgICBidWlsZChvcHRpb25zOiBCdWlsZFBhcmFtczxLPik6IHZvaWQge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBvcHRpb25zLmNvbmZpZztcbiAgICAgICAgdGhpcy5kb0J1aWxkKCk7XG4gICAgfVxuXG4gICAgZG9CdWlsZCgpOiB2b2lkIHt9XG5cbiAgICBwcm90ZWN0ZWQgZGlzcGF0Y2hDaGFuZ2VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnRleHRcbiAgICAgICAgICAgIC5nZXREaXNwYXRjaGVyKClcbiAgICAgICAgICAgIC5kaXNwYXRjaChcInNldHRpbmdzOnRhYjpmZWF0dXJlOmNoYW5nZWRcIiwgbmV3IEV2ZW50KHsgaWQ6IHRoaXMub3B0aW9ucy5pZCwgdmFsdWU6IHRoaXMuY29uZmlnIH0pKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYnVpbGRFbmFibGUoKTogU2V0dGluZyB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5vcHRpb25zLmRvYz8ubGlua1xuICAgICAgICAgICAgPyBjcmVhdGVGcmFnbWVudChlID0+XG4gICAgICAgICAgICAgICAgICBlLmNyZWF0ZUVsKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZjogdGhpcy5vcHRpb25zLmRvYy5saW5rLFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiB0aGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nKHRoaXMuY29udGV4dC5nZXRDb250YWluZXIoKSlcbiAgICAgICAgICAgIC5zZXROYW1lKGZyYWdtZW50KVxuICAgICAgICAgICAgLnNldERlc2ModGhpcy5vcHRpb25zLmRlc2MpXG4gICAgICAgICAgICAuYWRkQnV0dG9uKGIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlQnV0dG9uID0gYi5zZXRCdXR0b25UZXh0KHQoXCJtYW5hZ2VcIikpLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IHRoaXMuZmFjdG9yeSgpO1xuICAgICAgICAgICAgICAgICAgICBtb2RhbC50aXRsZUVsLnNldFRleHQodGhpcy5vcHRpb25zLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW9kYWxTaG93KG1vZGFsKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFuYWdlQnV0dG9uVmlzaWJsZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoZSA9PlxuICAgICAgICAgICAgICAgIGUuc2V0VmFsdWUodGhpcy5vcHRpb25zLmNvbmZpZy5lbmFibGVkKS5vbkNoYW5nZSh2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNvbmZpZy5lbmFibGVkID0gdjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVNYW5hZ2VCdXR0b25WaXNpYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uTW9kYWxTaG93KG1vZGFsOiBNb2RhbCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYnVpbGRUZW1wbGF0ZXMoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGVsLmNyZWF0ZUVsKFwiaDZcIiwgeyB0ZXh0OiBcIlRlbXBsYXRlc1wiIH0pO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2UuZ2V0KFwidGVtcGxhdGVzXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgW1wibWFpblwiLCBcImZhbGxiYWNrXCJdIGFzIChrZXlvZiBUZW1wbGF0ZVZhbHVlKVtdKSB7XG4gICAgICAgICAgICBjb25zdCB0U3RvcmFnZSA9IHRoaXMuc3RvcmFnZS5nZXQoXCJmZWF0dXJlc1wiKS5nZXQodGhpcy5pZCkuZ2V0KFwidGVtcGxhdGVzXCIpLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhlbClcbiAgICAgICAgICAgICAgICAuc2V0TmFtZSh0KGB0ZW1wbGF0ZS4ke3R5cGV9YCkpXG4gICAgICAgICAgICAgICAgLnNldERlc2ModGhpcy5nZXREZXNjKHR5cGUsIHRTdG9yYWdlLnZhbHVlKCkpKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnNldFZhbHVlKHRTdG9yYWdlLnZhbHVlKCkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcih0ZW1wbGF0ZVN0b3JhZ2UuZ2V0KFwiY29tbW9uXCIpLmdldCh0eXBlKS52YWx1ZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmcuc2V0RGVzYyh0aGlzLmdldERlc2ModHlwZSwgdikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnRlbXBsYXRlc1t0eXBlXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0b2dnbGVNYW5hZ2VCdXR0b25WaXNpYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1hbmFnZUJ1dHRvbi5idXR0b25FbC50b2dnbGVWaXNpYmlsaXR5KHRoaXMuY29uZmlnLmVuYWJsZWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGVzYyh0eXBlOiBrZXlvZiBUZW1wbGF0ZVZhbHVlLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHQoXCJ0ZW1wbGF0ZS5zcGVjaWZpY1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0KFwidGVtcGxhdGUudXNlZFwiLCB7IHZhbHVlOiB0aGlzLnN0b3JhZ2UuZ2V0KFwidGVtcGxhdGVzXCIpLmdldChcImNvbW1vblwiKS5nZXQodHlwZSkudmFsdWUoKSB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgQWJzdHJhY3RCdWlsZGVyIGZyb20gXCIuL0Fic3RyYWN0QnVpbGRlclwiO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHRCdWlsZGVyIGV4dGVuZHMgQWJzdHJhY3RCdWlsZGVyIHtcbiAgICBkb0J1aWxkKCkge1xuICAgICAgICB0aGlzLmJ1aWxkRW5hYmxlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTW9kYWxTaG93KG1vZGFsOiBNb2RhbCkge1xuICAgICAgICB0aGlzLmJ1aWxkVGVtcGxhdGVzKG1vZGFsLmNvbnRlbnRFbCk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEZlYXR1cmUgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgeyBEcm9wZG93bkNvbXBvbmVudCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBBYnN0cmFjdEJ1aWxkZXIgZnJvbSBcIi4vQWJzdHJhY3RCdWlsZGVyXCI7XG5pbXBvcnQgeyBTdHJhdGVneVR5cGUsIFZhbGlkYXRvclR5cGUgfSBmcm9tIFwiQHNyYy9GZWF0dXJlL0FsaWFzL1R5cGVzXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIkBzcmMvaTE4bi9Mb2NhbGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpYXNCdWlsZGVyIGV4dGVuZHMgQWJzdHJhY3RCdWlsZGVyPEZlYXR1cmUuQWxpYXM+IHtcbiAgICBwcml2YXRlIHZhbGlkYXRvckRyb3Bkb3duOiBEcm9wZG93bkNvbXBvbmVudDtcbiAgICBwcml2YXRlIHN0cmF0ZWd5RHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50O1xuICAgIHByaXZhdGUgZXh0cmFTZXR0aW5nQ29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xuXG4gICAgZG9CdWlsZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5idWlsZEVuYWJsZSgpO1xuICAgICAgICB0aGlzLmV4dHJhU2V0dGluZ0NvbnRhaW5lckVsID0gdGhpcy5jb250ZXh0LmdldENvbnRhaW5lcigpLmNyZWF0ZURpdigpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbk1vZGFsU2hvdyhtb2RhbDogTW9kYWwpIHtcbiAgICAgICAgdGhpcy5idWlsZFZhbGlkYXRvckRyb3Bkb3duKG1vZGFsLmNvbnRlbnRFbCk7XG4gICAgICAgIHRoaXMuYnVpbGRTdHJhdGVneURyb3Bkb3duKG1vZGFsLmNvbnRlbnRFbCk7XG4gICAgICAgIHRoaXMuYnVpbGRUZW1wbGF0ZXMobW9kYWwuY29udGVudEVsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkVmFsaWRhdG9yRHJvcGRvd24oZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb25maWcudmFsaWRhdG9yO1xuICAgICAgICBjb25zdCBzID0gbmV3IFNldHRpbmcoZWwpLnNldE5hbWUodChcInN0cmF0ZWd5XCIpKTtcbiAgICAgICAgdGhpcy52YWxpZGF0b3JEcm9wZG93biA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChzLmNvbnRyb2xFbClcbiAgICAgICAgICAgIC5hZGRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBbVmFsaWRhdG9yVHlwZS5Gcm9udG1hdHRlckF1dG9dOiB0KFwiZmVhdHVyZS5hbGlhcy52YWxpZGF0b3IuYXV0by5uYW1lXCIpLFxuICAgICAgICAgICAgICAgIFtWYWxpZGF0b3JUeXBlLkZyb250bWF0dGVyUmVxdWlyZWRdOiB0KFwiZmVhdHVyZS5hbGlhcy52YWxpZGF0b3IucmVxdWlyZWQubmFtZVwiKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0VmFsdWUodmFsdWUgPyB2YWx1ZSA6IFZhbGlkYXRvclR5cGUuRnJvbnRtYXR0ZXJSZXF1aXJlZClcbiAgICAgICAgICAgIC5vbkNoYW5nZSh2ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGl6ZVZhbGlkYXRvckRlc2Mocywgdik7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcudmFsaWRhdG9yID0gdiBhcyBWYWxpZGF0b3JUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3R1YWxpemVWYWxpZGF0b3JEZXNjKHMsIHRoaXMudmFsaWRhdG9yRHJvcGRvd24uZ2V0VmFsdWUoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3R1YWxpemVWYWxpZGF0b3JEZXNjKHNldHRpbmc6IFNldHRpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFZhbGlkYXRvclR5cGUuRnJvbnRtYXR0ZXJBdXRvOiB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHQoXCJmZWF0dXJlLmFsaWFzLnZhbGlkYXRvci5hdXRvLmRlc2NcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFZhbGlkYXRvclR5cGUuRnJvbnRtYXR0ZXJSZXF1aXJlZDoge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0KFwiZmVhdHVyZS5hbGlhcy52YWxpZGF0b3IucmVxdWlyZWQuZGVzY1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR0aW5nLnNldERlc2ModGV4dCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFN0cmF0ZWd5RHJvcGRvd24oZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb25maWcuc3RyYXRlZ3k7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgU2V0dGluZyhlbCkuc2V0TmFtZSh0KFwic3RyYXRlZ3lcIikpO1xuICAgICAgICB0aGlzLnN0cmF0ZWd5RHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQocy5jb250cm9sRWwpXG4gICAgICAgICAgICAuYWRkT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgW1N0cmF0ZWd5VHlwZS5FbnN1cmVdOiB0KFwiZmVhdHVyZS5hbGlhcy5zdHJhdGVneS5lbnN1cmUubmFtZVwiKSxcbiAgICAgICAgICAgICAgICBbU3RyYXRlZ3lUeXBlLkFkanVzdF06IHQoXCJmZWF0dXJlLmFsaWFzLnN0cmF0ZWd5LmFkanVzdC5uYW1lXCIpLFxuICAgICAgICAgICAgICAgIFtTdHJhdGVneVR5cGUuUmVwbGFjZV06IHQoXCJmZWF0dXJlLmFsaWFzLnN0cmF0ZWd5LnJlcGxhY2UubmFtZVwiKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0VmFsdWUodmFsdWUgPyB2YWx1ZSA6IFN0cmF0ZWd5VHlwZS5FbnN1cmUpXG4gICAgICAgICAgICAub25DaGFuZ2UodiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxpemVTdHJhdGVneURlc2Mocywgdik7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNvbmZpZy5zdHJhdGVneSA9IHYgYXMgU3RyYXRlZ3lUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3R1YWxpemVTdHJhdGVneURlc2MocywgdGhpcy5zdHJhdGVneURyb3Bkb3duLmdldFZhbHVlKCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWN0dWFsaXplU3RyYXRlZ3lEZXNjKHNldHRpbmc6IFNldHRpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgbGV0IGRlc2MgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFN0cmF0ZWd5VHlwZS5FbnN1cmU6XG4gICAgICAgICAgICAgICAgZGVzYyA9IHQoXCJmZWF0dXJlLmFsaWFzLnN0cmF0ZWd5LmVuc3VyZS5kZXNjXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTdHJhdGVneVR5cGUuUmVwbGFjZTpcbiAgICAgICAgICAgICAgICBkZXNjID0gdChcImZlYXR1cmUuYWxpYXMuc3RyYXRlZ3kucmVwbGFjZS5kZXNjXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTdHJhdGVneVR5cGUuQWRqdXN0OlxuICAgICAgICAgICAgICAgIGRlc2MgPSB0KFwiZmVhdHVyZS5hbGlhcy5zdHJhdGVneS5hZGp1c3QuZGVzY1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZXR0aW5nLnNldERlc2MoZGVzYyk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU2V0dGluZ0J1aWxkZXJJbnRlcmZhY2UsIHsgQnVpbGRQYXJhbXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlL1NldHRpbmdCdWlsZGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBEeW5hbWljSXRlbSB9IGZyb20gXCJAc3JjL1N0b3JhZ2UvSW50ZXJmYWNlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEJ1aWxkZXI8VCBleHRlbmRzIG9iamVjdCwgSyBleHRlbmRzIGtleW9mIFQ+XG4gICAgaW1wbGVtZW50cyBTZXR0aW5nQnVpbGRlckludGVyZmFjZTxULCBLPlxue1xuICAgIHByb3RlY3RlZCBpdGVtOiBEeW5hbWljSXRlbTxUW0tdPiA9IG51bGw7XG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBudWxsO1xuICAgIHByb3RlY3RlZCBuYW1lOiBLID0gbnVsbDtcblxuICAgIGJ1aWxkKHsgbmFtZSwgY29udGFpbmVyLCBpdGVtIH06IEJ1aWxkUGFyYW1zPFQsIEs+KTogdm9pZCB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRvQnVpbGQoKTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBzdXBwb3J0KGs6IGtleW9mIFQpOiBib29sZWFuO1xuXG4gICAgYWJzdHJhY3QgZG9CdWlsZCgpOiB2b2lkO1xufVxuIiwgImltcG9ydCB7IFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IEFic3RyYWN0QnVpbGRlciBmcm9tIFwiLi4vQWJzdHJhY3RCdWlsZGVyXCI7XG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyBPYnNpZGlhbk1vZGFsRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IEdJVEhVQl9ET0NTIH0gZnJvbSBcIkBzcmMvRW51bVwiO1xuaW1wb3J0IEZlYXR1cmVIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0ZlYXR1cmVIZWxwZXJcIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiLi4vLi4vLi4vaTE4bi9Mb2NhbGVcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtcGxhdGVzQnVpbGRlciBleHRlbmRzIEFic3RyYWN0QnVpbGRlcjxTZXR0aW5nc1R5cGUsIFwidGVtcGxhdGVzXCI+IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6b2JzaWRpYW46bW9kYWxcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogT2JzaWRpYW5Nb2RhbEZhY3RvcnksXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOmhlbHBlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBoZWxwZXI6IEZlYXR1cmVIZWxwZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBzdXBwb3J0KGs6IGtleW9mIFNldHRpbmdzVHlwZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gayA9PT0gXCJ0ZW1wbGF0ZXNcIjtcbiAgICB9XG5cbiAgICBkb0J1aWxkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJ1aWxkVGVtcGxhdGUoKTtcbiAgICAgICAgdGhpcy5idWlsZEZhbGxiYWNrVGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZURvY0ZyYWdtZW50KHRleHQ6IHN0cmluZywgc2VjdGlvbjogc3RyaW5nID0gbnVsbCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgICAgICByZXR1cm4gY3JlYXRlRnJhZ21lbnQoZSA9PlxuICAgICAgICAgICAgZS5jcmVhdGVFbChcImFcIiwge1xuICAgICAgICAgICAgICAgIGhyZWY6IEdJVEhVQl9ET0NTICsgXCJUZW1wbGF0ZXMubWRcIiArIChzZWN0aW9uID8gYCMke3NlY3Rpb259YCA6IFwiXCIpLFxuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRUZW1wbGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcodGhpcy5jb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSh0aGlzLmNyZWF0ZURvY0ZyYWdtZW50KHQoXCJ0ZW1wbGF0ZS5jb21tb24ubWFpbi5uYW1lXCIpKSlcbiAgICAgICAgICAgIC5zZXREZXNjKHQoXCJ0ZW1wbGF0ZS5jb21tb24ubWFpbi5kZXNjXCIpKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKHQoXCJ0ZW1wbGF0ZS5wbGFjZWhvbGRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMuaXRlbS5nZXQoXCJjb21tb25cIikuZ2V0KFwibWFpblwiKS52YWx1ZSgpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB0aGlzLml0ZW0uZ2V0KFwiY29tbW9uXCIpLmdldChcIm1haW5cIikuc2V0KHZhbHVlKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEZhbGxiYWNrVGVtcGxhdGUoKTogdm9pZCB7XG4gICAgICAgIG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUodGhpcy5jcmVhdGVEb2NGcmFnbWVudCh0KFwidGVtcGxhdGUuY29tbW9uLmZhbGxiYWNrLm5hbWVcIikpKVxuICAgICAgICAgICAgLnNldERlc2ModChcInRlbXBsYXRlLmNvbW1vbi5mYWxsYmFjay5kZXNjXCIpKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKHQoXCJ0ZW1wbGF0ZS5wbGFjZWhvbGRlclwiKSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMuaXRlbS5nZXQoXCJjb21tb25cIikuZ2V0KFwiZmFsbGJhY2tcIikudmFsdWUoKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4gdGhpcy5pdGVtLmdldChcImNvbW1vblwiKS5nZXQoXCJmYWxsYmFja1wiKS5zZXQodmFsdWUpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NUeXBlIH0gZnJvbSBcIi4uLy4uL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IEFic3RyYWN0QnVpbGRlciBmcm9tIFwiLi4vQWJzdHJhY3RCdWlsZGVyXCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBTZXR0aW5nc0J1aWxkZXJGYWN0b3J5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkuZmFjdG9yeS50eXBlc1wiO1xuaW1wb3J0IHsgdCB9IGZyb20gXCIuLi8uLi8uLi9pMThuL0xvY2FsZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlc0J1aWxlciBleHRlbmRzIEFic3RyYWN0QnVpbGRlcjxTZXR0aW5nc1R5cGUsIFwicnVsZXNcIj4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTpzZXR0aW5nczpidWlsZGVyXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IFNldHRpbmdzQnVpbGRlckZhY3RvcnlcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBvcmRlcmVkS2V5cygpOiAoa2V5b2YgU2V0dGluZ3NUeXBlW1wicnVsZXNcIl0pW10ge1xuICAgICAgICByZXR1cm4gW1wicGF0aHNcIiwgXCJkZWxpbWl0ZXJcIl07XG4gICAgfVxuXG4gICAgcHVibGljIGRvQnVpbGQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiB0KFwicnVsZS5uYW1lXCIpIH0pO1xuICAgICAgICBjb25zdCBidWlsZGVycyA9IHRoaXMuZmFjdG9yeTxTZXR0aW5nc1R5cGVbXCJydWxlc1wiXT4oXCJydWxlc1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vcmRlcmVkS2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBidWlsZGVyIG9mIGJ1aWxkZXJzKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci5zdXBwb3J0KGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5idWlsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogdGhpcy5pdGVtLmdldChrZXkpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN1cHBvcnQoazoga2V5b2YgU2V0dGluZ3NUeXBlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBrID09PSBcInJ1bGVzXCI7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNldHRpbmdzRXZlbnQsIFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IEFic3RyYWN0QnVpbGRlciBmcm9tIFwiLi4vQWJzdHJhY3RCdWlsZGVyXCI7XG5pbXBvcnQgeyBGZWF0dXJlLCBHSVRIVUJfRE9DUyB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IFNldHRpbmdzRmVhdHVyZUJ1aWxkRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgTGlzdGVuZXJSZWYgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9MaXN0ZW5lclJlZlwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IEZlYXR1cmVIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL1V0aWxzL0ZlYXR1cmVIZWxwZXJcIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiQHNyYy9pMThuL0xvY2FsZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZWF0dXJlc0J1aWxkZXIgZXh0ZW5kcyBBYnN0cmFjdEJ1aWxkZXI8U2V0dGluZ3NUeXBlLCBcImZlYXR1cmVzXCI+IHtcbiAgICBwcml2YXRlIHJlZjogTGlzdGVuZXJSZWY8XCJzZXR0aW5nczp0YWI6ZmVhdHVyZTpjaGFuZ2VkXCI+ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTpzZXR0aW5nczpmZWF0dXJlOmJ1aWxkZXJcIl0pXG4gICAgICAgIHByaXZhdGUgYnVpbGRlckZhY3Rvcnk6IFNldHRpbmdzRmVhdHVyZUJ1aWxkRmFjdG9yeSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPFNldHRpbmdzRXZlbnQ+LFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpoZWxwZXJcIl0pXG4gICAgICAgIHByaXZhdGUgaGVscGVyOiBGZWF0dXJlSGVscGVyXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgc3VwcG9ydChrOiBrZXlvZiBTZXR0aW5nc1R5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGsgPT09IFwiZmVhdHVyZXNcIjtcbiAgICB9XG5cbiAgICBkb0J1aWxkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IHQoXCJmZWF0dXJlc1wiKSB9KTtcbiAgICAgICAgY29uc3QgZGF0YTogeyBmZWF0dXJlOiBGZWF0dXJlOyBuYW1lOiBzdHJpbmc7IGRlc2M6IHN0cmluZzsgZG9jOiB7IGxpbms6IHN0cmluZyB9IH1bXSA9IHRoaXMuaGVscGVyXG4gICAgICAgICAgICAuZ2V0T3JkZXJlZEZlYXR1cmVzKClcbiAgICAgICAgICAgIC5tYXAoZmVhdHVyZSA9PiAoe1xuICAgICAgICAgICAgICAgIGRlc2M6IHRoaXMuaGVscGVyLmdldERlc2NyaXB0aW9uKGZlYXR1cmUpLFxuICAgICAgICAgICAgICAgIGZlYXR1cmUsXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5oZWxwZXIuZ2V0TmFtZShmZWF0dXJlKSxcbiAgICAgICAgICAgICAgICBkb2M6IHtcbiAgICAgICAgICAgICAgICAgICAgbGluazogdGhpcy5oZWxwZXIuZ2V0RG9jU2VjdGlvbihmZWF0dXJlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtHSVRIVUJfRE9DU30vJHt0aGlzLmhlbHBlci5nZXREb2NTZWN0aW9uKGZlYXR1cmUpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgYnVpbGRlciA9IHRoaXMuYnVpbGRlckZhY3RvcnkoaXRlbS5mZWF0dXJlKSA/PyB0aGlzLmJ1aWxkZXJGYWN0b3J5KFwiZGVmYXVsdFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5pdGVtLmdldChpdGVtLmZlYXR1cmUpLnZhbHVlKCk7XG4gICAgICAgICAgICBidWlsZGVyLnNldENvbnRleHQoe1xuICAgICAgICAgICAgICAgIGdldENvbnRhaW5lcjogKCkgPT4gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgZ2V0U2V0dGluZ3M6ICgpID0+IHRoaXMuaXRlbS52YWx1ZSgpLFxuICAgICAgICAgICAgICAgIGdldERpc3BhdGNoZXI6ICgpID0+IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnVpbGRlci5idWlsZCh7IGlkOiBpdGVtLmZlYXR1cmUsIGRlc2M6IGl0ZW0uZGVzYywgbmFtZTogaXRlbS5uYW1lLCBjb25maWc6IHNldHRpbmdzLCBkb2M6IGl0ZW0uZG9jIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiaW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuYW1lOiBcInNldHRpbmdzOnRhYjpmZWF0dXJlOmNoYW5nZWRcIixcbiAgICAgICAgICAgIGNiOiBlID0+IHRoaXMuaXRlbS5nZXQoZS5nZXQoKS5pZCkuc2V0KGUuZ2V0KCkudmFsdWUpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmFkZExpc3RlbmVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwic2V0dGluZ3M6dGFiOmNsb3NlXCIsXG4gICAgICAgICAgICBjYjogKCkgPT4gdGhpcy5kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmKSxcbiAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgU2V0dGluZ0J1aWxkZXJJbnRlcmZhY2UsIHsgQnVpbGRQYXJhbXMgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9JbnRlcmZhY2UvU2V0dGluZ0J1aWxkZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IHsgT2JqZWN0SXRlbUludGVyZmFjZSwgUHJpbWl0aXZlSXRlbUludGVyZmFjZSB9IGZyb20gXCJAc3JjL1N0b3JhZ2UvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCB7IFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiQHNyYy9pMThuL0xvY2FsZVwiO1xuXG50eXBlIEJvb3RJdGVtID0gT2JqZWN0SXRlbUludGVyZmFjZTxTZXR0aW5nc1R5cGVbXCJib290XCJdPjtcbnR5cGUgRGVidWdJdGVtID0gUHJpbWl0aXZlSXRlbUludGVyZmFjZTxTZXR0aW5nc1R5cGVbXCJkZWJ1Z1wiXT47XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxCdWlsZGVyIGltcGxlbWVudHMgU2V0dGluZ0J1aWxkZXJJbnRlcmZhY2U8U2V0dGluZ3NUeXBlLCBcImJvb3RcIiB8IFwiZGVidWdcIj4ge1xuICAgIHByaXZhdGUgaXNUaXRsZUJ1aWxkID0gZmFsc2U7XG5cbiAgICBidWlsZCh7IG5hbWUsIGl0ZW0sIGNvbnRhaW5lciB9OiBCdWlsZFBhcmFtczxTZXR0aW5nc1R5cGUsIFwiYm9vdFwiIHwgXCJkZWJ1Z1wiPik6IHZvaWQge1xuICAgICAgICB0aGlzLmJ1aWxkVGl0bGUoY29udGFpbmVyKTtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYm9vdFwiOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZEJvb3QoaXRlbSBhcyBCb290SXRlbSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJkZWJ1Z1wiOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERlYnVnKGl0ZW0gYXMgRGVidWdJdGVtLCBjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3VwcG9ydChrOiBrZXlvZiBTZXR0aW5nc1R5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFtcImJvb3RcIiwgXCJkZWJ1Z1wiXS5pbmNsdWRlcyhrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkVGl0bGUoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNUaXRsZUJ1aWxkKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IHQoXCJ1dGlsXCIpIH0pO1xuICAgICAgICAgICAgdGhpcy5pc1RpdGxlQnVpbGQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZERlYnVnKGl0ZW06IERlYnVnSXRlbSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSh0KFwiZGVidWdfaW5mby50aXRsZVwiKSlcbiAgICAgICAgICAgIC5zZXREZXNjKHQoXCJkZWJ1Z19pbmZvLmRlc2NcIikpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKGUgPT4gZS5zZXRWYWx1ZShpdGVtLnZhbHVlKCkpLm9uQ2hhbmdlKGUgPT4gaXRlbS5zZXQoZSkpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkQm9vdChpdGVtOiBCb290SXRlbSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSh0KFwiYm9vdF9kZWxheS50aXRsZVwiKSlcbiAgICAgICAgICAgIC5zZXREZXNjKHQoXCJib290X2RlbGF5LmRlc2NcIikpXG4gICAgICAgICAgICAuYWRkVGV4dChlID0+XG4gICAgICAgICAgICAgICAgZS5zZXRWYWx1ZShpdGVtLmdldChcImRlbGF5XCIpLnZhbHVlKCkudG9TdHJpbmcoKSkub25DaGFuZ2UocyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSAhaXNOYU4ocGFyc2VJbnQocykpID8gcGFyc2VJbnQocykgOiAwO1xuICAgICAgICAgICAgICAgICAgICBlLnNldFZhbHVlKHYudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0KFwiZGVsYXlcIikuc2V0KHYpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSh0KFwiYm9vdF9iYWNrZ3JvdW5kLnRpdGxlXCIpKVxuICAgICAgICAgICAgLnNldERlc2ModChcImJvb3RfYmFja2dyb3VuZC5kZXNjXCIpKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZShlID0+XG4gICAgICAgICAgICAgICAgZS5zZXRWYWx1ZShpdGVtLmdldChcImJhY2tncm91bmRcIikudmFsdWUoKSkub25DaGFuZ2UoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0KFwiYmFja2dyb3VuZFwiKS5zZXQoZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IERyb3Bkb3duQ29tcG9uZW50LCBTZXR0aW5nLCBUZXh0Q29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgQWJzdHJhY3RCdWlsZGVyIGZyb20gXCIuLi9BYnN0cmFjdEJ1aWxkZXJcIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyBTZXR0aW5nc1R5cGUgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiLi4vLi4vLi4vaTE4bi9Mb2NhbGVcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVsZXNEZWxpbWl0ZXJCdWlsZGVyIGV4dGVuZHMgQWJzdHJhY3RCdWlsZGVyPFNldHRpbmdzVHlwZVtcInJ1bGVzXCJdLCBcImRlbGltaXRlclwiPiB7XG4gICAgcHJpdmF0ZSBzZXR0aW5nOiBTZXR0aW5nID0gbnVsbDtcbiAgICBwcml2YXRlIHRleHQ6IFRleHRDb21wb25lbnQgPSBudWxsO1xuXG4gICAgc3VwcG9ydChrOiBcImRlbGltaXRlclwiIHwgXCJwYXRoc1wiKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBrID09PSBcImRlbGltaXRlclwiO1xuICAgIH1cblxuICAgIGRvQnVpbGQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyKS5zZXROYW1lKHQoXCJydWxlLmRlbGltaXRlci5uYW1lXCIpKS5zZXREZXNjKHQoXCJydWxlLmRlbGltaXRlci5kZXNjXCIpKTtcbiAgICAgICAgdGhpcy5idWlsZERyb3Bkb3duKCk7XG4gICAgICAgIHRoaXMuYnVpbGRUZXh0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZERyb3Bkb3duKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbmFibGVkID0gdGhpcy5pdGVtLmdldChcImVuYWJsZWRcIik7XG4gICAgICAgIG5ldyBEcm9wZG93bkNvbXBvbmVudCh0aGlzLnNldHRpbmcuY29udHJvbEVsKVxuICAgICAgICAgICAgLmFkZE9wdGlvbnMoeyBOOiB0KFwicnVsZS5kZWxpbWl0ZXIuZmlyc3RcIiksIFk6IHQoXCJydWxlLmRlbGltaXRlci5qb2luXCIpIH0pXG4gICAgICAgICAgICAuc2V0VmFsdWUoZW5hYmxlZC52YWx1ZSgpID8gXCJZXCIgOiBcIk5cIilcbiAgICAgICAgICAgIC5vbkNoYW5nZShlID0+IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkLnNldChlID09PSBcIllcIik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShcIlwiKVxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIodGhpcy5nZXRQbGFjZWhvbGRlcigpKVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGlzYWJsZWQoZSA9PT0gXCJOXCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRUZXh0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy5pdGVtLmdldChcInZhbHVlXCIpO1xuICAgICAgICB0aGlzLnRleHQgPSBuZXcgVGV4dENvbXBvbmVudCh0aGlzLnNldHRpbmcuY29udHJvbEVsKVxuICAgICAgICAgICAgLnNldFZhbHVlKHYudmFsdWUoKSlcbiAgICAgICAgICAgIC5zZXREaXNhYmxlZCghdGhpcy5pc0VuYWJsZWQoKSlcbiAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcih0aGlzLmdldFBsYWNlaG9sZGVyKCkpXG4gICAgICAgICAgICAub25DaGFuZ2UoZSA9PiB2LnNldChlKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQbGFjZWhvbGRlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSA/IHQoXCJydWxlLmRlbGltaXRlci5wbGFjZWhvbGRlci5qb2luXCIpIDogdChcInJ1bGUuZGVsaW1pdGVyLnBsYWNlaG9sZGVyLmZpcnN0XCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtLmdldChcImVuYWJsZWRcIikudmFsdWUoKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgU2V0dGluZ3NUeXBlIH0gZnJvbSBcIkBzcmMvU2V0dGluZ3MvU2V0dGluZ3NUeXBlXCI7XG5pbXBvcnQgQWJzdHJhY3RCdWlsZGVyIGZyb20gXCIuLi9BYnN0cmFjdEJ1aWxkZXJcIjtcbmltcG9ydCB7IFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIi4uLy4uLy4uL2kxOG4vTG9jYWxlXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bGVzUGF0aHNCdWlsZGVyIGV4dGVuZHMgQWJzdHJhY3RCdWlsZGVyPFNldHRpbmdzVHlwZVtcInJ1bGVzXCJdLCBcInBhdGhzXCI+IHtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBTZXR0aW5nID0gbnVsbDtcblxuICAgIGRvQnVpbGQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKHQoXCJydWxlLnBhdGgubmFtZVwiKSlcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihlID0+XG4gICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9ucyh7IHdoaXRlOiB0KFwicnVsZS5wYXRoLndoaXRlLm5hbWVcIiksIGJsYWNrOiB0KFwicnVsZS5wYXRoLmJsYWNrLm5hbWVcIikgfSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMuaXRlbS5nZXQoXCJtb2RlXCIpLnZhbHVlKCkpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbS5nZXQoXCJtb2RlXCIpLnNldChlIGFzIFwid2hpdGVcIiB8IFwiYmxhY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlc2MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYShlID0+XG4gICAgICAgICAgICAgICAgZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5pdGVtLmdldChcInZhbHVlc1wiKS52YWx1ZSgpLmpvaW4oXCJcXG5cIikpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShlID0+IHRoaXMuaXRlbS5nZXQoXCJ2YWx1ZXNcIikuc2V0KGUuc3BsaXQoXCJcXG5cIikuZmlsdGVyKGUgPT4gZSkpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGVEZXNjKCk7XG4gICAgfVxuXG4gICAgc3VwcG9ydChrOiBcInBhdGhzXCIgfCBcImRlbGltaXRlclwiKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBrID09PSBcInBhdGhzXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVEZXNjKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbnMgPSB7XG4gICAgICAgICAgICB3aGl0ZTogdChcInJ1bGUucGF0aC53aGl0ZS5kZXNjXCIpLFxuICAgICAgICAgICAgYmxhY2s6IHQoXCJydWxlLnBhdGguYmxhY2suZGVzY1wiKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZXREZXNjKGRlc2NyaXB0aW9uc1t0aGlzLml0ZW0uZ2V0KFwibW9kZVwiKS52YWx1ZSgpXSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNldHRpbmcsIFRleHRDb21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFNldHRpbmdzVHlwZSB9IGZyb20gXCIuLi8uLi9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCBBYnN0cmFjdEJ1aWxkZXIgZnJvbSBcIi4uL0Fic3RyYWN0QnVpbGRlclwiO1xuaW1wb3J0IHsgUHJvY2Vzc29yVHlwZXMgfSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9Qcm9jZXNzb3JVdGlsc1wiO1xuaW1wb3J0IHsgR0lUSFVCX0RPQ1MgfSBmcm9tIFwiQHNyYy9FbnVtXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIi4uLy4uLy4uL2kxOG4vTG9jYWxlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2Nlc3NvckJ1aWxkZXIgZXh0ZW5kcyBBYnN0cmFjdEJ1aWxkZXI8U2V0dGluZ3NUeXBlLCBcInByb2Nlc3NvclwiPiB7XG4gICAgcHJpdmF0ZSBzZXR0aW5nOiBTZXR0aW5nO1xuICAgIHByaXZhdGUgbGFzdEFyZ3M6IHsgW0sgaW4gUHJvY2Vzc29yVHlwZXNdPzogc3RyaW5nW10gfSA9IHt9O1xuXG4gICAgc3VwcG9ydChrOiBrZXlvZiBTZXR0aW5nc1R5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGsgPT09IFwicHJvY2Vzc29yXCI7XG4gICAgfVxuXG4gICAgZG9CdWlsZCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBjcmVhdGVGcmFnbWVudChlID0+XG4gICAgICAgICAgICBlLmNyZWF0ZUVsKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgdGV4dDogdChcInByb2Nlc3Nvci5uYW1lXCIpLFxuICAgICAgICAgICAgICAgIGhyZWY6IEdJVEhVQl9ET0NTICsgXCJQcm9jZXNzb3IubWRcIixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc2V0dGluZyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGFpbmVyKS5zZXROYW1lKGZyYWdtZW50KTtcbiAgICAgICAgdGhpcy5idWlsZER5bmFtaWMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZURlc2MoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gY3JlYXRlRnJhZ21lbnQoKTtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kVGV4dCh0KFwicHJvY2Vzc29yLmRlc2NcIikpO1xuICAgICAgICBsZXQgYWRkaXRpb25hbDogKHN0cmluZyB8IEhUTUxFbGVtZW50KVtdID0gW107XG4gICAgICAgIHN3aXRjaCAodGhpcy5pdGVtLmdldChcInR5cGVcIikudmFsdWUoKSkge1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzb3JUeXBlcy5SZXBsYWNlOlxuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWwgPSBbXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHQoXCJwcm9jZXNzb3IucmVwbGFjZS5kZXNjXCIpLFxuICAgICAgICAgICAgICAgICAgICBcInRpdGxlLnJlcGxhY2UoXCIsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNwYW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJmVtc3A7bmV3IFJlZ0V4cCg8YnI+JmVtc3A7JmVtc3A7I3BhdHRlcm4jLCA8YnI+JmVtc3A7JmVtc3A7I2ZsYWdzIzxicj4mZW1zcDspLFwiKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTcGFuKFwiXCIsIGUgPT4gKGUuaW5uZXJIVE1MID0gXCImZW1zcDsjcmVwbGFjZW1lbnQjXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgXCIpXCIsXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzb3JUeXBlcy5GdW5jdGlvbjpcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsID0gW1xuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB0KFwicHJvY2Vzc29yLmZ1bmN0aW9uLmRlc2NcIiksXG4gICAgICAgICAgICAgICAgICAgIGBjb25zdCB2YWx1ZSA9IG5ldyBGdW5jdGlvbigndGl0bGUnLCAjJHt0KFwicHJvY2Vzc29yLmZ1bmN0aW9uLnZhbHVlRGVzY1wiKX0jKWAsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb25WMjpcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsID0gW1xuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB0KFwicHJvY2Vzc29yLmZ1bmN0aW9uVjIuZGVzY1wiKSxcbiAgICAgICAgICAgICAgICAgICAgYGNvbnN0IHZhbHVlID0gbmV3IEZ1bmN0aW9uKCdvYmonLCAjJHt0KFwicHJvY2Vzc29yLmZ1bmN0aW9uVjIudmFsdWVEZXNjXCIpfSMpYCxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGFkZGl0aW9uYWwuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNyZWF0ZUVsKFwiYnJcIikpO1xuICAgICAgICAgICAgdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyBmcmFnbWVudC5hcHBlbmRUZXh0KGUpIDogZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldHRpbmcuc2V0RGVzYyhmcmFnbWVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZER5bmFtaWMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlRGVzYygpO1xuICAgICAgICB0aGlzLnNldHRpbmcuYWRkRHJvcGRvd24oYyA9PlxuICAgICAgICAgICAgY1xuICAgICAgICAgICAgICAgIC5hZGRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgXCJcIjogdChcImRpc2FibGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICBbUHJvY2Vzc29yVHlwZXMuUmVwbGFjZV06IHQoXCJwcm9jZXNzb3IucmVwbGFjZS5uYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICBbUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb25dOiB0KFwicHJvY2Vzc29yLmZ1bmN0aW9uLm5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgIFtQcm9jZXNzb3JUeXBlcy5GdW5jdGlvblYyXTogdChcInByb2Nlc3Nvci5mdW5jdGlvblYyLm5hbWVcIiksXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5pdGVtLmdldChcInR5cGVcIikudmFsdWUoKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodjogUHJvY2Vzc29yVHlwZXMgfCBcIlwiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlOiBQcm9jZXNzb3JUeXBlcyB8IG51bGwgPSB2ID09PSBcIlwiID8gbnVsbCA6IHY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLml0ZW0uZ2V0KFwidHlwZVwiKS52YWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RBcmdzW3R5cGVdID0gWy4uLnRoaXMuaXRlbS5nZXQoXCJhcmdzXCIpLnZhbHVlKCldO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0uZ2V0KFwidHlwZVwiKS5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW0uZ2V0KFwiYXJnc1wiKS5zZXQoWy4uLih0aGlzLmxhc3RBcmdzPy5bdmFsdWVdID8/IFtdKV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmcuY29udHJvbEVsLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVpbGREeW5hbWljKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5zZXRBbGlnbkl0ZW1zTW9kZShcImNlbnRlclwiKTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMuaXRlbS5nZXQoXCJ0eXBlXCIpLnZhbHVlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb246XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBbGlnbkl0ZW1zTW9kZShcInN0YXJ0XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb25WMjpcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFsaWduSXRlbXNNb2RlKFwic3RhcnRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRGdW5jdGlvbigpO1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzb3JUeXBlcy5SZXBsYWNlOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWxpZ25JdGVtc01vZGUoXCJzdGFydFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFJlcGxhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0QWxpZ25JdGVtc01vZGUobW9kZTogXCJjZW50ZXJcIiB8IFwic3RhcnRcIik6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmcuc2V0dGluZ0VsLnN0eWxlLmFsaWduSXRlbXMgPSBtb2RlO1xuICAgICAgICB0aGlzLnNldHRpbmcuY29udHJvbEVsLnN0eWxlLmFsaWduSXRlbXMgPSBtb2RlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRSZXBsYWNlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBpdGVtcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0KFwicHJvY2Vzc29yLnJlcGxhY2UucGF0dGVybi5uYW1lXCIpLFxuICAgICAgICAgICAgICAgIGRlc2M6IHQoXCJwcm9jZXNzb3IucmVwbGFjZS5wYXR0ZXJuLmRlc2NcIiksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBuYW1lOiB0KFwicHJvY2Vzc29yLnJlcGxhY2UuZmxhZ3MubmFtZVwiKSwgZGVzYzogdChcInByb2Nlc3Nvci5yZXBsYWNlLmZsYWdzLmRlc2NcIikgfSxcbiAgICAgICAgICAgIHsgbmFtZTogdChcInByb2Nlc3Nvci5yZXBsYWNlLnJlcGxhY2VtZW50Lm5hbWVcIiksIGRlc2M6IHQoXCJwcm9jZXNzb3IucmVwbGFjZS5yZXBsYWNlbWVudC5kZXNjXCIpIH0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdih7IGF0dHI6IHsgc3R5bGU6IFwibWFyZ2luLWxlZnQ6IDIwcHhcIiB9IH0pO1xuICAgICAgICBsZXQgbWFyZ2luID0gXCIxMHB4XCI7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5pdGVtLmdldChcImFyZ3NcIikudmFsdWUoKTtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgaXRlbV0gb2YgaXRlbXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gY3JlYXRlRGl2KHtcbiAgICAgICAgICAgICAgICBhdHRyOiB7IHN0eWxlOiBgbWFyZ2luLWJvdHRvbTogJHttYXJnaW59YCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJnaW4gPSBcIjBweFwiO1xuICAgICAgICAgICAgYy5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICBjcmVhdGVEaXYoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHI6IHsgc3R5bGU6IFwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1wiIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVEaXYoeyBhdHRyOiB7IHN0eWxlOiBcIm1hcmdpbi1yaWdodDogMTBweFwiIH0gfSwgZSA9PiBlLmFwcGVuZFRleHQoYCR7aXRlbS5uYW1lfTpgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dENvbXBvbmVudChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh2YWx1ZT8uW2ldID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGUgPT4gdmFsdWUuc3BsaWNlKGksIDEsIGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgIGNyZWF0ZURpdih7IGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIiwgYXR0cjogeyBzdHlsZTogXCJ0ZXh0LWFsaWduOiBsZWZ0XCIgfSB9LCBlID0+XG4gICAgICAgICAgICAgICAgICAgIGUuYXBwZW5kVGV4dChpdGVtLmRlc2MpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHRpbmcuY29udHJvbEVsLnByZXBlbmQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkRnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZy5hZGRUZXh0QXJlYShlID0+XG4gICAgICAgICAgICBlLnNldFZhbHVlKHRoaXMuaXRlbS5nZXQoXCJhcmdzXCIpLnZhbHVlKCkuam9pbigpKS5vbkNoYW5nZShlID0+IHRoaXMuaXRlbS5nZXQoXCJhcmdzXCIpLnNldChbZV0pKVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgUHJvY2Vzc29ySW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBlbnVtIFByb2Nlc3NvclR5cGVzIHtcbiAgICBGdW5jdGlvbiA9IFwiZnVuY3Rpb25cIixcbiAgICBGdW5jdGlvblYyID0gXCJmdW5jdGlvblYyXCIsXG4gICAgUmVwbGFjZSA9IFwicmVwbGFjZVwiLFxufVxuXG5leHBvcnQgdHlwZSBQcm9jZXNzb3JGYWN0b3J5ID0gKHR5cGU6IFByb2Nlc3NvclR5cGVzLCBhcmdzOiBzdHJpbmdbXSkgPT4gUHJvY2Vzc29ySW50ZXJmYWNlO1xuXG4vLyBPYmplY3QgdGhhdCB3aWxsIGJlIGdpdmVuIGludG8gRnVuY3Rpb25WMiBwcm9jZXNzb3IgYXMgYW4gXCJvYmpcIiBhcmd1bWVudFxuZXhwb3J0IHR5cGUgRnVuY3Rpb25WMk9iakFyZyA9IHtcbiAgICAvLyBOZXcgZmlsZSB0aXRsZVxuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgLy8gUGF0aCB0byBmaWxlXG4gICAgcGF0aDogc3RyaW5nO1xuICAgIC8vIFRGaWxlXG4gICAgZmlsZTogVEZpbGUgfCBudWxsO1xufTtcbiIsICJpbXBvcnQgQWJzdHJhY3RCdWlsZGVyIGZyb20gXCIuL0Fic3RyYWN0QnVpbGRlclwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IERyb3Bkb3duQ29tcG9uZW50LCBNb2RhbCwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTm90ZUxpbmtTdHJhdGVneSB9IGZyb20gXCJAc3JjL0ZlYXR1cmUvTm90ZUxpbmsvTm90ZUxpbmtUeXBlc1wiO1xuaW1wb3J0IHsgdCB9IGZyb20gXCJAc3JjL2kxOG4vTG9jYWxlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVMaW5rQnVpbGRlciBleHRlbmRzIEFic3RyYWN0QnVpbGRlcjxGZWF0dXJlLk5vdGVMaW5rPiB7XG4gICAgcHJpdmF0ZSBhcHByb3ZhbDogRHJvcGRvd25Db21wb25lbnQ7XG4gICAgcHJpdmF0ZSBzdHJhdGVneTogRHJvcGRvd25Db21wb25lbnQ7XG5cbiAgICBkb0J1aWxkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJ1aWxkRW5hYmxlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTW9kYWxTaG93KG1vZGFsOiBNb2RhbCkge1xuICAgICAgICB0aGlzLmJ1aWxkU3RyYXRlZ3kobW9kYWwuY29udGVudEVsKTtcbiAgICAgICAgdGhpcy5idWlsZEFwcHJvdmFsKG1vZGFsLmNvbnRlbnRFbCk7XG4gICAgICAgIHRoaXMuYnVpbGRUZW1wbGF0ZXMobW9kYWwuY29udGVudEVsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkU3RyYXRlZ3koZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGVsKVxuICAgICAgICAgICAgLnNldE5hbWUodChcImZlYXR1cmUubm90ZUxpbmsuc3RyYXRlZ3kubmFtZVwiKSlcbiAgICAgICAgICAgIC5zZXREZXNjKHQoXCJmZWF0dXJlLm5vdGVMaW5rLnN0cmF0ZWd5LmRlc2NcIikpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZSA9PiB7XG4gICAgICAgICAgICAgICAgZS5hZGRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgW05vdGVMaW5rU3RyYXRlZ3kuQWxsXTogdChcImZlYXR1cmUubm90ZUxpbmsuc3RyYXRlZ3kub3B0aW9ucy5hbGxcIiksXG4gICAgICAgICAgICAgICAgICAgIFtOb3RlTGlua1N0cmF0ZWd5Lk9ubHlFbXB0eV06IHQoXCJmZWF0dXJlLm5vdGVMaW5rLnN0cmF0ZWd5Lm9wdGlvbnMub25seUVtcHR5XCIpLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLmNvbmZpZy5zdHJhdGVneSA/PyBOb3RlTGlua1N0cmF0ZWd5Lk9ubHlFbXB0eSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuc3RyYXRlZ3kgPSB2IGFzIE5vdGVMaW5rU3RyYXRlZ3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRBcHByb3ZhbChlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcoZWwpXG4gICAgICAgICAgICAuc2V0TmFtZSh0KFwiZmVhdHVyZS5ub3RlTGluay5hcHByb3ZhbC5uYW1lXCIpKVxuICAgICAgICAgICAgLnNldERlc2ModChcImZlYXR1cmUubm90ZUxpbmsuYXBwcm92YWwuZGVzY1wiKSlcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihlID0+IHtcbiAgICAgICAgICAgICAgICBlLmFkZE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICBZOiB0KFwiZmVhdHVyZS5ub3RlTGluay5hcHByb3ZhbC5vcHRpb25zLnNob3dNb2RhbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgTjogdChcImZlYXR1cmUubm90ZUxpbmsuYXBwcm92YWwub3B0aW9ucy5hdXRvXCIpLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLmNvbmZpZy5hcHByb3ZhbCA/IFwiWVwiIDogXCJOXCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZSh2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmFwcHJvdmFsID0gdiA9PT0gXCJZXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgQWJzdHJhY3RCdWlsZGVyIGZyb20gXCJAc3JjL1NldHRpbmdzL0ZlYXR1cmVCdWlsZGVyL0Fic3RyYWN0QnVpbGRlclwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyB0IH0gZnJvbSBcIkBzcmMvaTE4bi9Mb2NhbGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwbG9yZXJCdWlsZGVyIGV4dGVuZHMgQWJzdHJhY3RCdWlsZGVyPEZlYXR1cmUuRXhwbG9yZXI+IHtcbiAgICBkb0J1aWxkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJ1aWxkRW5hYmxlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTW9kYWxTaG93KG1vZGFsOiBNb2RhbCkge1xuICAgICAgICBjb25zdCBlbCA9IG1vZGFsLmNvbnRlbnRFbDtcbiAgICAgICAgdGhpcy5idWlsZFNvcnQoZWwpO1xuICAgICAgICB0aGlzLmJ1aWxkVGVtcGxhdGVzKGVsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkU29ydChlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcoZWwpXG4gICAgICAgICAgICAuc2V0TmFtZSh0KFwiZmVhdHVyZS5leHBsb3Jlci5zb3J0Lm5hbWVcIikpXG4gICAgICAgICAgICAuc2V0RGVzYyh0KFwiZmVhdHVyZS5leHBsb3Jlci5zb3J0LmRlc2NcIikpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKGUgPT4ge1xuICAgICAgICAgICAgICAgIGUuc2V0VmFsdWUodGhpcy5jb25maWcuc29ydCkub25DaGFuZ2UodiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnNvcnQgPSB2O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IENvbnRhaW5lciBhcyBLLCBpbnRlcmZhY2VzIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IENvbnRhaW5lciA9IGludGVyZmFjZXMuQ29udGFpbmVyO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IERlZmF1bHRCdWlsZGVyIGZyb20gXCJAc3JjL1NldHRpbmdzL0ZlYXR1cmVCdWlsZGVyL0RlZmF1bHRCdWlsZGVyXCI7XG5pbXBvcnQgQWxpYXNCdWlsZGVyIGZyb20gXCJAc3JjL1NldHRpbmdzL0ZlYXR1cmVCdWlsZGVyL0FsaWFzQnVpbGRlclwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IFNldHRpbmdzQnVpbGRlckZhY3RvcnksIFNldHRpbmdzRmVhdHVyZUJ1aWxkRmFjdG9yeSB9IGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS5mYWN0b3J5LnR5cGVzXCI7XG5pbXBvcnQgVGVtcGxhdGVzQnVpbGRlciBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvVGVtcGxhdGVzL1RlbXBsYXRlc0J1aWxkZXJcIjtcbmltcG9ydCBSdWxlc0J1aWxlciBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvUnVsZXMvUnVsZXNCdWlsZGVyXCI7XG5pbXBvcnQgRmVhdHVyZXNCdWlsZGVyIGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9GZWF0dXJlcy9GZWF0dXJlc0J1aWxkZXJcIjtcbmltcG9ydCBVdGlsQnVpbGRlciBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvVXRpbC9VdGlsQnVpbGRlclwiO1xuaW1wb3J0IFJ1bGVzRGVsaW1pdGVyQnVpbGRlciBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nQnVpbGRlcnMvUnVsZXMvUnVsZXNEZWxpbWl0ZXJCdWlsZGVyXCI7XG5pbXBvcnQgUnVsZXNQYXRoc0J1aWxkZXIgZnJvbSBcIkBzcmMvU2V0dGluZ3MvU2V0dGluZ0J1aWxkZXJzL1J1bGVzL1J1bGVzUGF0aHNCdWlsZGVyXCI7XG5pbXBvcnQgUHJvY2Vzc29yQnVpbGRlciBmcm9tIFwiLi4vLi4vc3JjL1NldHRpbmdzL1NldHRpbmdCdWlsZGVycy9Qcm9jZXNzb3IvUHJvY2Vzc29yQnVpbGRlclwiO1xuaW1wb3J0IE5vdGVMaW5rQnVpbGRlciBmcm9tIFwiQHNyYy9TZXR0aW5ncy9GZWF0dXJlQnVpbGRlci9Ob3RlTGlua0J1aWxkZXJcIjtcbmltcG9ydCBFeHBsb3JlckJ1aWxkZXIgZnJvbSBcIkBzcmMvU2V0dGluZ3MvRmVhdHVyZUJ1aWxkZXIvRXhwbG9yZXJCdWlsZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjOiBDb250YWluZXIpID0+IHtcbiAgICBjLmJpbmQoU0lbXCJzZXR0aW5nczpmZWF0dXJlOmJ1aWxkZXJcIl0pLnRvKERlZmF1bHRCdWlsZGVyKS53aGVuVGFyZ2V0TmFtZWQoXCJkZWZhdWx0XCIpO1xuICAgIGMuYmluZChTSVtcInNldHRpbmdzOmZlYXR1cmU6YnVpbGRlclwiXSlcbiAgICAgICAgLnRvKEFsaWFzQnVpbGRlcilcbiAgICAud2hlblRhcmdldE5hbWVkKEZlYXR1cmUuQWxpYXMpO1xuICAgIGMuYmluZChTSVtcInNldHRpbmdzOmZlYXR1cmU6YnVpbGRlclwiXSlcbiAgICAgICAgLnRvKEV4cGxvcmVyQnVpbGRlcilcbiAgICAgICAgLndoZW5UYXJnZXROYW1lZChGZWF0dXJlLkV4cGxvcmVyKTtcbiAgICBjLmJpbmQoU0lbXCJzZXR0aW5nczpmZWF0dXJlOmJ1aWxkZXJcIl0pXG4gICAgICAgIC50byhOb3RlTGlua0J1aWxkZXIpXG4gICAgICAgIC53aGVuVGFyZ2V0TmFtZWQoRmVhdHVyZS5Ob3RlTGluayk7XG4gICAgYy5iaW5kPFNldHRpbmdzRmVhdHVyZUJ1aWxkRmFjdG9yeT4oU0lbXCJmYWN0b3J5OnNldHRpbmdzOmZlYXR1cmU6YnVpbGRlclwiXSkudG9GdW5jdGlvbigobmFtZTogc3RyaW5nKSA9PlxuICAgICAgICBjLmlzQm91bmROYW1lZChTSVtcInNldHRpbmdzOmZlYXR1cmU6YnVpbGRlclwiXSwgbmFtZSkgPyBjLmdldE5hbWVkKFNJW1wic2V0dGluZ3M6ZmVhdHVyZTpidWlsZGVyXCJdLCBuYW1lKSA6IG51bGxcbiAgICApO1xuXG4gICAgYy5iaW5kKFNJW1wic2V0dGluZ3M6YnVpbGRlclwiXSkudG8oVGVtcGxhdGVzQnVpbGRlcikud2hlblRhcmdldE5hbWVkKFwibWFpblwiKTtcbiAgICBjLmJpbmQoU0lbXCJzZXR0aW5nczpidWlsZGVyXCJdKS50byhGZWF0dXJlc0J1aWxkZXIpLndoZW5UYXJnZXROYW1lZChcIm1haW5cIik7XG4gICAgYy5iaW5kKFNJW1wic2V0dGluZ3M6YnVpbGRlclwiXSkudG8oVXRpbEJ1aWxkZXIpLndoZW5UYXJnZXROYW1lZChcIm1haW5cIik7XG4gICAgYy5iaW5kKFNJW1wic2V0dGluZ3M6YnVpbGRlclwiXSkudG8oUnVsZXNCdWlsZXIpLndoZW5UYXJnZXROYW1lZChcIm1haW5cIik7XG4gICAgYy5iaW5kKFNJW1wic2V0dGluZ3M6YnVpbGRlclwiXSkudG8oUHJvY2Vzc29yQnVpbGRlcikud2hlblRhcmdldE5hbWVkKFwibWFpblwiKTtcblxuICAgIGMuYmluZChTSVtcInNldHRpbmdzOmJ1aWxkZXJcIl0pLnRvKFJ1bGVzRGVsaW1pdGVyQnVpbGRlcikud2hlblRhcmdldE5hbWVkKFwicnVsZXNcIik7XG4gICAgYy5iaW5kKFNJW1wic2V0dGluZ3M6YnVpbGRlclwiXSkudG8oUnVsZXNQYXRoc0J1aWxkZXIpLndoZW5UYXJnZXROYW1lZChcInJ1bGVzXCIpO1xuXG4gICAgYy5iaW5kPFNldHRpbmdzQnVpbGRlckZhY3Rvcnk+KFNJW1wiZmFjdG9yeTpzZXR0aW5nczpidWlsZGVyXCJdKS50b0Z1bmN0aW9uKG5hbWUgPT5cbiAgICAgICAgYy5nZXRBbGxOYW1lZChTSVtcInNldHRpbmdzOmJ1aWxkZXJcIl0sIG5hbWUpXG4gICAgKTtcbn07XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFByb2Nlc3NvckludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IFByb2Nlc3NvclR5cGVzIH0gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yVXRpbHNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVwbGFjZVByb2Nlc3NvciBpbXBsZW1lbnRzIFByb2Nlc3NvckludGVyZmFjZSB7XG4gICAgcHJpdmF0ZSBwYXR0ZXJuOiBSZWdFeHA7XG4gICAgcHJpdmF0ZSByZXBsYWNlbWVudDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJwcm9jZXNzb3I6YXJnc1wiXSlcbiAgICAgICAgYXJnczogc3RyaW5nW11cbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybiA9IG5ldyBSZWdFeHAoYXJncz8uWzBdID8/IG51bGwsIGFyZ3M/LlsxXSk7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2VtZW50ID0gYXJncz8uWzJdID8/IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9jZXNzKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSh0aGlzLnBhdHRlcm4sIHRoaXMucmVwbGFjZW1lbnQpO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogUHJvY2Vzc29yVHlwZXMge1xuICAgICAgICByZXR1cm4gUHJvY2Vzc29yVHlwZXMuUmVwbGFjZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFByb2Nlc3NvckludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IFByb2Nlc3NvclR5cGVzIH0gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yVXRpbHNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnVuY3Rpb25Qcm9jZXNzb3IgaW1wbGVtZW50cyBQcm9jZXNzb3JJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZnVuYzogRnVuY3Rpb24gfCBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBpbmplY3QoU0lbXCJwcm9jZXNzb3I6YXJnc1wiXSlcbiAgICAgICAgYXJnczogc3RyaW5nW11cbiAgICApIHtcbiAgICAgICAgdGhpcy5mdW5jID0gYXJncz8uWzBdID8gbmV3IEZ1bmN0aW9uKFwidGl0bGVcIiwgYXJnc1swXSkgOiBudWxsO1xuICAgIH1cblxuICAgIHByb2Nlc3ModmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmM/Lih2YWx1ZSkgPz8gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0VHlwZSgpOiBQcm9jZXNzb3JUeXBlcyB7XG4gICAgICAgIHJldHVybiBQcm9jZXNzb3JUeXBlcy5GdW5jdGlvbjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFByb2Nlc3NvckludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCB7IEZ1bmN0aW9uVjJPYmpBcmcsIFByb2Nlc3NvclR5cGVzIH0gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yVXRpbHNcIjtcbmltcG9ydCBPYnNpZGlhbkZhY2FkZSBmcm9tIFwiQHNyYy9PYnNpZGlhbi9PYnNpZGlhbkZhY2FkZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGdW5jdGlvblYyUHJvY2Vzc29yIGltcGxlbWVudHMgUHJvY2Vzc29ySW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZ1bmM6IEZ1bmN0aW9uIHwgbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wicHJvY2Vzc29yOmFyZ3NcIl0pXG4gICAgICAgIGFyZ3M6IHN0cmluZ1tdLFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGVcbiAgICApIHtcbiAgICAgICAgdGhpcy5mdW5jID0gYXJncz8uWzBdID8gbmV3IEZ1bmN0aW9uKFwib2JqXCIsIGFyZ3NbMF0pIDogbnVsbDtcbiAgICB9XG5cbiAgICBwcm9jZXNzKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHZhbHVlKSBhcyBGdW5jdGlvblYyT2JqQXJnO1xuICAgICAgICBvYmouZmlsZSA9IHRoaXMuZmFjYWRlLmdldFRGaWxlKG9iai5wYXRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYz8uKG9iaikgPz8gb2JqLnRpdGxlO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogUHJvY2Vzc29yVHlwZXMge1xuICAgICAgICByZXR1cm4gUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb25WMjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IEV2ZW50SW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnRJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFJlc29sdmVyRXZlbnRzIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvUmVzb2x2ZXJUeXBlXCI7XG5pbXBvcnQgeyBGdW5jdGlvblYyT2JqQXJnLCBQcm9jZXNzb3JUeXBlcyB9IGZyb20gXCJAc3JjL0NvbXBvbmVudHMvUHJvY2Vzc29yL1Byb2Nlc3NvclV0aWxzXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9jZXNzb3JBcmd1bWVudFRyYW5zZm9ybWVyIHtcbiAgICB0cmFuc2Zvcm0oZXZlbnQ6IEV2ZW50SW50ZXJmYWNlPFJlc29sdmVyRXZlbnRzW1wicmVzb2x2ZXI6cmVzb2x2ZWRcIl0+LCB0eXBlOiBQcm9jZXNzb3JUeXBlcyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb246XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NvclR5cGVzLlJlcGxhY2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmdldCgpLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSBQcm9jZXNzb3JUeXBlcy5GdW5jdGlvblYyOlxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGV2ZW50LmdldCgpLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBldmVudC5nZXQoKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9IGFzIEZ1bmN0aW9uVjJPYmpBcmcpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCB7IENvbnRhaW5lck1vZHVsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBLZXlTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvU3RvcmFnZS9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBTZXR0aW5nc1R5cGUgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCBSZXBsYWNlUHJvY2Vzc29yIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvUHJvY2Vzc29yL1JlcGxhY2VQcm9jZXNzb3JcIjtcbmltcG9ydCBGdW5jdGlvblByb2Nlc3NvciBmcm9tIFwiQHNyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9GdW5jdGlvblByb2Nlc3NvclwiO1xuaW1wb3J0IHsgUHJvY2Vzc29yVHlwZXMgfSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9Qcm9jZXNzb3JVdGlsc1wiO1xuaW1wb3J0IEZ1bmN0aW9uVjJQcm9jZXNzb3IgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvRnVuY3Rpb25WMlByb2Nlc3NvclwiO1xuaW1wb3J0IFByb2Nlc3NvckFyZ3VtZW50VHJhbnNmb3JtZXIgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yQXJndW1lbnRUcmFuc2Zvcm1lclwiO1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29udGFpbmVyTW9kdWxlKGJpbmQgPT4ge1xuICAgIGJpbmQoU0kucHJvY2Vzc29yKS50byhSZXBsYWNlUHJvY2Vzc29yKS53aGVuVGFyZ2V0TmFtZWQoUHJvY2Vzc29yVHlwZXMuUmVwbGFjZSk7XG4gICAgYmluZChTSS5wcm9jZXNzb3IpLnRvKEZ1bmN0aW9uUHJvY2Vzc29yKS53aGVuVGFyZ2V0TmFtZWQoUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb24pO1xuICAgIGJpbmQoU0kucHJvY2Vzc29yKS50byhGdW5jdGlvblYyUHJvY2Vzc29yKS53aGVuVGFyZ2V0TmFtZWQoUHJvY2Vzc29yVHlwZXMuRnVuY3Rpb25WMik7XG4gICAgYmluZChTSVtcInByb2Nlc3NvcjphcmdzXCJdKS50b0R5bmFtaWNWYWx1ZShjID0+XG4gICAgICAgIGMuY29udGFpbmVyLmdldDxLZXlTdG9yYWdlSW50ZXJmYWNlPFNldHRpbmdzVHlwZT4+KFNJW1wic2V0dGluZ3M6c3RvcmFnZVwiXSkuZ2V0KFwicHJvY2Vzc29yXCIpLmdldChcImFyZ3NcIikudmFsdWUoKVxuICAgICk7XG4gICAgYmluZChTSVtcInByb2Nlc3NvcjpmYWN0b3J5XCJdKS50b0F1dG9OYW1lZEZhY3RvcnkoU0kucHJvY2Vzc29yKTtcbiAgICBiaW5kKFNJW1wicHJvY2Vzc29yOmFyZ3VtZW50LnRyYW5zZm9ybWVyXCJdKS50byhQcm9jZXNzb3JBcmd1bWVudFRyYW5zZm9ybWVyKTtcbn0pO1xuIiwgImltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlLCBSZXNvbHZlclNlcnZpY2VJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBOdWxsUmVzb2x2ZXJGYWN0b3J5LCBSZXNvbHZlclRlbXBsYXRlRmFjdG9yeSB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL1Jlc29sdmVyVHlwZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBuYW1lZCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vLi4vY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckludGVyZmFjZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvbHZlclNlcnZpY2UgaW1wbGVtZW50cyBSZXNvbHZlclNlcnZpY2VJbnRlcmZhY2Uge1xuICAgIHByaXZhdGUgcmVzb2x2ZXJzOiBNYXA8c3RyaW5nLCBSZXNvbHZlckludGVyZmFjZT4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6cmVzb2x2ZXI6cmVzb2x2ZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogTnVsbFJlc29sdmVyRmFjdG9yeSxcbiAgICAgICAgQGluamVjdChTSVtcImZhY3Rvcnk6cmVzb2x2ZXI6dGVtcGxhdGVcIl0pXG4gICAgICAgIHByaXZhdGUgdGVtcGxhdGVGYWN0b3J5OiBSZXNvbHZlclRlbXBsYXRlRmFjdG9yeSxcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChcInJlc29sdmVyOnNlcnZpY2VcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZVxuICAgICkge31cblxuICAgIGNyZWF0ZSh0ZW1wbGF0ZTogc3RyaW5nKTogUmVzb2x2ZXJJbnRlcmZhY2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYENyZWF0ZSBcIiR7dGVtcGxhdGV9XCIgdGVtcGxhdGVgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JDcmVhdGUodGVtcGxhdGUpO1xuICAgIH1cblxuICAgIGNyZWF0ZU5hbWVkKG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYENyZWF0ZSBuYW1lZCBcIiR7bmFtZX1cIiB0ZW1wbGF0ZWApO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUodGhpcy50ZW1wbGF0ZUZhY3RvcnkobmFtZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0T3JDcmVhdGUodGVtcGxhdGU6IHN0cmluZyk6IFJlc29sdmVySW50ZXJmYWNlIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlc29sdmVycy5oYXModGVtcGxhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYENyZWF0ZSByZXNvbHZlciBmb3IgXCIke3RlbXBsYXRlfVwiIHRlbXBsYXRlYCk7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXMuZmFjdG9yeSgpO1xuICAgICAgICAgICAgcmVzb2x2ZXIuc2V0VGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlcnMuc2V0KHRlbXBsYXRlLCByZXNvbHZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXJzLmdldCh0ZW1wbGF0ZSk7XG4gICAgfVxufVxuIiwgImltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBDYWNoZUludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0NhY2hlL0NhY2hlSW50ZXJmYWNlXCI7XG5pbXBvcnQgQ2FjaGVJdGVtSW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvQ2FjaGUvQ2FjaGVJdGVtSW50ZXJmYWNlXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbmFtZWQgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyBSZXNvbHZlckV2ZW50cyB9IGZyb20gXCIuL1Jlc29sdmVyVHlwZVwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuXG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvbHZlckNhY2hlZFByb3h5IGltcGxlbWVudHMgUmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSS5yZXNvbHZlcilcbiAgICAgICAgQG5hbWVkKFwib3JpZ2luYWxcIilcbiAgICAgICAgcHJpdmF0ZSByZXNvbHZlcjogUmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlLFxuICAgICAgICBAaW5qZWN0KFNJLmNhY2hlKVxuICAgICAgICBwcml2YXRlIGNhY2hlOiBDYWNoZUludGVyZmFjZSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPFJlc29sdmVyRXZlbnRzICYgQXBwRXZlbnRzPlxuICAgICkge1xuICAgICAgICBkaXNwYXRjaGVyLmFkZExpc3RlbmVyKHsgbmFtZTogXCJyZXNvbHZlcjpjbGVhclwiLCBjYjogKCkgPT4gdGhpcy5jYWNoZS5jbGVhcigpLCBzb3J0OiAwIH0pO1xuICAgICAgICBkaXNwYXRjaGVyLmFkZExpc3RlbmVyKHsgbmFtZTogXCJtZXRhZGF0YTpjYWNoZTpjaGFuZ2VkXCIsIGNiOiBlID0+IHRoaXMuaGFuZGxlRGVsZXRlKGUuZ2V0KCkucGF0aCksIHNvcnQ6IDAgfSk7XG4gICAgICAgIGRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJmaWxlOnJlbmFtZVwiLFxuICAgICAgICAgICAgY2I6IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGUuZ2V0KCkub2xkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLnNhdmUodGhpcy5jYWNoZS5nZXRJdGVtKGUuZ2V0KCkuYWN0dWFsKS5zZXQobnVsbCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGVsZXRlKGUuZ2V0KCkuYWN0dWFsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc29sdmUocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHBhdGgpO1xuICAgIH1cblxuICAgIHNldFRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlci5zZXRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVEZWxldGUocGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNhY2hlLmdldEl0ZW08c3RyaW5nIHwgbnVsbD4ocGF0aCk7XG5cbiAgICAgICAgaWYgKCFpdGVtLmlzSGl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGQgPSBpdGVtLmdldCgpO1xuICAgICAgICB0aGlzLmFjdHVhbGl6ZShpdGVtKTtcblxuICAgICAgICBpZiAob2xkICE9PSBpdGVtLmdldCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2goXCJyZXNvbHZlcjp1bnJlc29sdmVkXCIsIG5ldyBFdmVudCh7IHBhdGggfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3R1YWxpemUoaXRlbTogQ2FjaGVJdGVtSW50ZXJmYWNlPHN0cmluZyB8IG51bGw+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlKGl0ZW0uZ2V0S2V5KCkpO1xuICAgICAgICB0aGlzLmNhY2hlLnNhdmUoaXRlbS5zZXQodGl0bGUpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY2FjaGUuZ2V0SXRlbTxzdHJpbmcgfCBudWxsPihwYXRoKTtcbiAgICAgICAgaWYgKGl0ZW0uaXNIaXQoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0dWFsaXplKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtLmdldCgpID8/IG51bGw7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJlc29sdmVyRHluYW1pY0ludGVyZmFjZSB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbXVsdGlJbmplY3QgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4uLy4uL2NvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcbmltcG9ydCBGaWx0ZXJJbnRlcmZhY2UgZnJvbSBcIi4uL0ludGVyZmFjZXMvRmlsdGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCIuLi9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50RGlzcGF0Y2hlckludGVyZmFjZVwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJFdmVudHMgfSBmcm9tIFwiLi9SZXNvbHZlclR5cGVcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvRXZlbnRcIjtcbmltcG9ydCB7IENyZWF0b3JJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9DcmVhdG9yL0ludGVyZmFjZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlc29sdmVyIGltcGxlbWVudHMgUmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIHRlbXBsYXRlID0gXCJcIjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAbXVsdGlJbmplY3QoU0kuZmlsdGVyKVxuICAgICAgICBwcml2YXRlIGZpbHRlcnM6IEZpbHRlckludGVyZmFjZVtdLFxuICAgICAgICBAaW5qZWN0KFNJW1wiY3JlYXRvcjpjcmVhdG9yXCJdKVxuICAgICAgICBwcml2YXRlIGNyZWF0b3I6IENyZWF0b3JJbnRlcmZhY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxSZXNvbHZlckV2ZW50cz5cbiAgICApIHt9XG5cbiAgICBzZXRUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy52YWxpZChwYXRoKSA/IHRoaXMuZ2V0KHBhdGgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKHRoaXMuY3JlYXRvci5jcmVhdGUocGF0aCwgdGhpcy50ZW1wbGF0ZSksIHBhdGgpID8/IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGJ5IHBhdGggJHtwYXRofWAsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNwYXRjaCh0aXRsZTogc3RyaW5nIHwgbnVsbCwgcGF0aDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50PFJlc29sdmVyRXZlbnRzW1wicmVzb2x2ZXI6cmVzb2x2ZWRcIl0+KHtcbiAgICAgICAgICAgIHZhbHVlOiB0aXRsZSxcbiAgICAgICAgICAgIG1vZGlmeSh2OiBzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwicmVzb2x2ZXI6cmVzb2x2ZWRcIiwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gZXZlbnQuZ2V0KCkudmFsdWUgPz8gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGNvbnN0IGZpbHRlciBvZiB0aGlzLmZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIuY2hlY2socGF0aCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBDb250YWluZXJNb2R1bGUsIGludGVyZmFjZXMgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgU3RvcmFnZSBmcm9tIFwiQHNyYy9TdG9yYWdlL1N0b3JhZ2VcIjtcbmltcG9ydCB7IFNldHRpbmdzVHlwZSwgVGVtcGxhdGVWYWx1ZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlLCBSZXNvbHZlclNlcnZpY2VJbnRlcmZhY2UgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgUmVzb2x2ZXJTZXJ2aWNlIGZyb20gXCJAc3JjL1Jlc29sdmVyL1Jlc29sdmVyU2VydmljZVwiO1xuaW1wb3J0IFJlc29sdmVyQ2FjaGVkUHJveHkgZnJvbSBcIkBzcmMvUmVzb2x2ZXIvUmVzb2x2ZXJDYWNoZWRQcm94eVwiO1xuaW1wb3J0IHsgUmVzb2x2ZXIgfSBmcm9tIFwiQHNyYy9SZXNvbHZlci9SZXNvbHZlclwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRhaW5lck1vZHVsZShiaW5kID0+IHtcbiAgICBiaW5kPGludGVyZmFjZXMuRmFjdG9yeTxzdHJpbmc+PihTSVtcImZhY3Rvcnk6cmVzb2x2ZXI6dGVtcGxhdGVcIl0pLnRvRmFjdG9yeTxzdHJpbmcsIFtzdHJpbmddPihjID0+IHZhbHVlID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IGMuY29udGFpbmVyLmdldDxTdG9yYWdlPFNldHRpbmdzVHlwZT4+KFNJW1wic2V0dGluZ3M6c3RvcmFnZVwiXSk7XG5cbiAgICAgICAgY29uc3QgW25hbWUsIHR5cGVdOiBbRmVhdHVyZSwga2V5b2YgVGVtcGxhdGVWYWx1ZV0gPSB2YWx1ZS5zcGxpdChcIjpcIikgYXMgW0ZlYXR1cmUsIGtleW9mIFRlbXBsYXRlVmFsdWVdO1xuICAgICAgICBjb25zdCB0YXJnZXRUZW1wbGF0ZXMgPSBzdG9yYWdlLmdldChcImZlYXR1cmVzXCIpLmdldChuYW1lKT8uZ2V0KFwidGVtcGxhdGVzXCIpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRhcmdldFRlbXBsYXRlcz8uZ2V0KHR5cGUpPy52YWx1ZSgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGUgPyB0ZW1wbGF0ZSA6IHN0b3JhZ2UuZ2V0KFwidGVtcGxhdGVzXCIpLmdldChcImNvbW1vblwiKS5nZXQodHlwZSkudmFsdWUoKTtcbiAgICB9KTtcblxuICAgIGJpbmQ8UmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlPihTSS5yZXNvbHZlcikudG8oUmVzb2x2ZXJDYWNoZWRQcm94eSkud2hlblRhcmdldElzRGVmYXVsdCgpO1xuICAgIGJpbmQ8UmVzb2x2ZXJEeW5hbWljSW50ZXJmYWNlPihTSS5yZXNvbHZlcikudG8oUmVzb2x2ZXIpLndoZW5UYXJnZXROYW1lZChcIm9yaWdpbmFsXCIpO1xuICAgIGJpbmQ8UmVzb2x2ZXJTZXJ2aWNlSW50ZXJmYWNlPihTSVtcInJlc29sdmVyOnNlcnZpY2VcIl0pLnRvKFJlc29sdmVyU2VydmljZSkuaW5TaW5nbGV0b25TY29wZSgpO1xuICAgIGJpbmQ8aW50ZXJmYWNlcy5GYWN0b3J5PFJlc29sdmVyRHluYW1pY0ludGVyZmFjZT4+KFxuICAgICAgICBTSVtcImZhY3Rvcnk6cmVzb2x2ZXI6cmVzb2x2ZXJcIl1cbiAgICApLnRvRmFjdG9yeTxSZXNvbHZlckR5bmFtaWNJbnRlcmZhY2U+KGMgPT4gKCkgPT4gYy5jb250YWluZXIuZ2V0PFJlc29sdmVyRHluYW1pY0ludGVyZmFjZT4oU0kucmVzb2x2ZXIpKTtcbn0pO1xuIiwgImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCB7IEFwaUludGVyZmFjZSwgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlLCBFdmVudHMsIFJlc29sdmVyRmFjdG9yeSB9IGZyb20gXCJmcm9udC1tYXR0ZXItcGx1Z2luLWFwaS1wcm92aWRlclwiO1xuaW1wb3J0IEZlYXR1cmVDb21wb3NlciBmcm9tIFwiLi4vLi4vRmVhdHVyZS9GZWF0dXJlQ29tcG9zZXJcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vLi4vLi4vY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkgaW1wbGVtZW50cyBBcGlJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmVhdHVyZTpzZXJ2aWNlXCJdKVxuICAgICAgICBwcml2YXRlIGZhY3Rvcnk6IFJlc29sdmVyRmFjdG9yeSxcbiAgICAgICAgQGluamVjdChTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pXG4gICAgICAgIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEV2ZW50cz4sXG4gICAgICAgIEBpbmplY3QoU0lbXCJmZWF0dXJlOmNvbXBvc2VyXCJdKVxuICAgICAgICBwcml2YXRlIGNvbXBvc2VyOiBGZWF0dXJlQ29tcG9zZXJcbiAgICApIHt9XG5cbiAgICBnZXRSZXNvbHZlckZhY3RvcnkoKTogUmVzb2x2ZXJGYWN0b3J5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yeTtcbiAgICB9XG5cbiAgICBnZXRFdmVudERpc3BhdGNoZXIoKTogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEV2ZW50cz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyO1xuICAgIH1cblxuICAgIGdldEVuYWJsZWRGZWF0dXJlcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvc2VyLmdldElkcygpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBBcGlJbnRlcmZhY2UsIERlZmVySW50ZXJmYWNlIH0gZnJvbSBcImZyb250LW1hdHRlci1wbHVnaW4tYXBpLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvQXBpQWRhcHRlci9BcGlcIjtcblxuZXhwb3J0IGNvbnN0IERlZmVyUGx1Z2luUmVhZHkgPSAyO1xuZXhwb3J0IGNvbnN0IERlZmVyRmVhdHVyZXNSZWFkeSA9IDQ7XG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZlciBpbXBsZW1lbnRzIERlZmVySW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIHN0YXRlID0gMDtcblxuICAgIHByaXZhdGUgcHJvbWlzZXMgPSB7XG4gICAgICAgIHBsdWdpbjogbnVsbCBhcyBQcm9taXNlPHZvaWQ+LFxuICAgICAgICBtYW5hZ2VyczogbnVsbCBhcyBQcm9taXNlPHZvaWQ+LFxuICAgIH07XG5cbiAgICBwcml2YXRlIHJlc29sdmVzID0ge1xuICAgICAgICBwbHVnaW46IG51bGwgYXMgKHY/OiB1bmtub3duKSA9PiB2b2lkLFxuICAgICAgICBtYW5hZ2VyczogbnVsbCBhcyAodj86IHVua25vd24pID0+IHZvaWQsXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjdG9yeTphcGlcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogKCkgPT4gQXBpXG4gICAgKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZXMucGx1Z2luID0gbmV3IFByb21pc2UociA9PiAodGhpcy5yZXNvbHZlcy5wbHVnaW4gPSByKSk7XG4gICAgICAgIHRoaXMucHJvbWlzZXMubWFuYWdlcnMgPSBuZXcgUHJvbWlzZShyID0+ICh0aGlzLnJlc29sdmVzLm1hbmFnZXJzID0gcikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRGbGFnKGZsYWc6IHR5cGVvZiBEZWZlclBsdWdpblJlYWR5IHwgdHlwZW9mIERlZmVyRmVhdHVyZXNSZWFkeSkge1xuICAgICAgICBpZiAoISh0aGlzLnN0YXRlICYgZmxhZykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlIHwgZmxhZztcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1N0YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBhd2FpdFBsdWdpbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvbWlzZXMucGx1Z2luO1xuICAgIH1cblxuICAgIGFzeW5jIGF3YWl0RmVhdHVyZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2VzLm1hbmFnZXJzO1xuICAgIH1cblxuICAgIGlzUGx1Z2luUmVhZHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZSAmIERlZmVyUGx1Z2luUmVhZHkpICE9PSAwO1xuICAgIH1cblxuICAgIGlzRmVhdHVyZXNSZWFkeSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlICYgRGVmZXJGZWF0dXJlc1JlYWR5KSAhPT0gMDtcbiAgICB9XG5cbiAgICBnZXRBcGkoKTogQXBpSW50ZXJmYWNlIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzUGx1Z2luUmVhZHkoKSA/IHRoaXMuZmFjdG9yeSgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQbHVnaW5SZWFkeSgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVzLnBsdWdpbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNGZWF0dXJlc1JlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVzLm1hbmFnZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgIENvbnRhaW5lck1vZHVsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uLy4uL3NyYy9Db21wb25lbnRzL0FwaUFkYXB0ZXIvQXBpXCI7XG5pbXBvcnQgRGVmZXIgZnJvbSBcIi4uLy4uL3NyYy9Db21wb25lbnRzL0FwaUFkYXB0ZXIvRGVmZXJcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vaW52ZXJzaWZ5LnR5cGVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDb250YWluZXJNb2R1bGUoYmluZCA9PiB7XG4gICAgYmluZChTSS5hcGkpLnRvKEFwaSkuaW5TaW5nbGV0b25TY29wZSgpO1xuICAgIGJpbmQoU0lbXCJmYWN0b3J5OmFwaVwiXSkudG9GYWN0b3J5KGMgPT4gKCkgPT4gYy5jb250YWluZXIuZ2V0KFNJLmFwaSkpO1xuICAgIGJpbmQoU0kuZGVmZXIpLnRvKERlZmVyKS5pblNpbmdsZXRvblNjb3BlKCk7XG59KTsiLCAiaW1wb3J0IEZpbHRlckludGVyZmFjZSBmcm9tIFwiLi4vSW50ZXJmYWNlcy9GaWx0ZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dGVuc2lvbkZpbHRlciBpbXBsZW1lbnRzIEZpbHRlckludGVyZmFjZSB7XG4gICAgY2hlY2socGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAvLipcXC5tZCQvLnRlc3QocGF0aCk7XG4gICAgfVxufVxuIiwgImltcG9ydCBGaWx0ZXJJbnRlcmZhY2UgZnJvbSBcIi4uL0ludGVyZmFjZXMvRmlsdGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2UgZnJvbSBcIi4uL0NvbXBvbmVudHMvQmxhY2tXaGl0ZUxpc3QvQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0aExpc3RGaWx0ZXIgaW1wbGVtZW50cyBGaWx0ZXJJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiY29tcG9uZW50OmJsYWNrX3doaXRlX2xpc3RcIl0pXG4gICAgICAgIHByaXZhdGUgbGlzdDogQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2VcbiAgICApIHt9XG5cbiAgICBjaGVjayhwYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5pc0ZpbGVBbGxvd2VkKHBhdGgpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2UsIHsgTW9kZSB9IGZyb20gXCIuL0JsYWNrV2hpdGVMaXN0SW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCbGFja1doaXRlTGlzdCBpbXBsZW1lbnRzIEJsYWNrV2hpdGVMaXN0SW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIG1vZGU6IE1vZGUgPSBcImJsYWNrXCI7XG4gICAgcHJpdmF0ZSBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgcHJpdmF0ZSBnZXQgZGVmYXVsdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gXCJibGFja1wiO1xuICAgIH1cblxuICAgIGlzRmlsZUFsbG93ZWQocGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmxpc3QpIHtcbiAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBcIndoaXRlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdDtcbiAgICB9XG5cbiAgICBzZXRNb2RlKG1vZGU6IE1vZGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICB9XG5cbiAgICBzZXRMaXN0KGxpc3Q6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlzdCA9IFsuLi5saXN0XTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IENhY2hlSXRlbUludGVyZmFjZSBmcm9tIFwiLi9DYWNoZUl0ZW1JbnRlcmZhY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGVJdGVtPFQ+IGltcGxlbWVudHMgQ2FjaGVJdGVtSW50ZXJmYWNlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9pc0hpdDogYm9vbGVhbiwgcHJpdmF0ZSB2YWx1ZTogVCwgcHJpdmF0ZSBrZXk6IHN0cmluZykge31cblxuICAgIGdldCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgaXNIaXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0hpdDtcbiAgICB9XG5cbiAgICBzZXQodmFsdWU6IFQpOiBDYWNoZUl0ZW1JbnRlcmZhY2U8VD4ge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldEtleSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXk7XG4gICAgfVxufVxuIiwgImltcG9ydCBDYWNoZUludGVyZmFjZSBmcm9tIFwiLi9DYWNoZUludGVyZmFjZVwiO1xuaW1wb3J0IENhY2hlSXRlbUludGVyZmFjZSBmcm9tIFwiLi9DYWNoZUl0ZW1JbnRlcmZhY2VcIjtcbmltcG9ydCBDYWNoZUl0ZW0gZnJvbSBcIi4vQ2FjaGVJdGVtXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IE9iamVjdEhlbHBlciBmcm9tIFwiQHNyYy9VdGlscy9PYmplY3RIZWxwZXJcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGUgaW1wbGVtZW50cyBDYWNoZUludGVyZmFjZSB7XG4gICAgcHJpdmF0ZSBwb29sID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgICBwcml2YXRlIHNlcmlhbGl6ZWQgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucG9vbC5jbGVhcigpO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZWQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBkZWxldGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wb29sLmRlbGV0ZShrZXkpO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZWQuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgZ2V0SXRlbTxUPihrZXk6IHN0cmluZyk6IENhY2hlSXRlbUludGVyZmFjZTxUPiB7XG4gICAgICAgIGNvbnN0IGlzSGl0ID0gdGhpcy5wb29sLmhhcyhrZXkpIHx8IHRoaXMuc2VyaWFsaXplZC5oYXMoa2V5KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpc0hpdCA/IHRoaXMucmVzb2x2ZTxUPihrZXkpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWNoZUl0ZW08VD4oaXNIaXQsIHZhbHVlLCBrZXkpO1xuICAgIH1cblxuICAgIHNhdmU8VD4oaXRlbTogQ2FjaGVJdGVtSW50ZXJmYWNlPFQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGtleSA9IGl0ZW0uZ2V0S2V5KCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbS5nZXQoKTtcblxuICAgICAgICB0aGlzLnBvb2wuZGVsZXRlKGtleSk7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplZC5kZWxldGUoa2V5KTtcblxuICAgICAgICBpZiAodGhpcy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5CZVNlcmlhbGl6ZWQodmFsdWUgYXMgdW5rbm93biBhcyBvYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IHdpdGggZnVuY3Rpb25zIGNhbiBub3QgYmUgc2VyaWFsaXplZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VyaWFsaXplZC5zZXQoa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb29sLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVzb2x2ZTxUPihrZXk6IHN0cmluZyk6IFQge1xuICAgICAgICBpZiAodGhpcy5wb29sLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb29sLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuc2VyaWFsaXplZC5nZXQoa2V5KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc09iamVjdCh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmICFbbnVsbCwgdW5kZWZpbmVkXS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYW5CZVNlcmlhbGl6ZWQob2JqZWN0OiBvYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICFPYmplY3RIZWxwZXIudmFsdWVzKG9iamVjdCkuc29tZShlID0+XG4gICAgICAgICAgICB0aGlzLmlzT2JqZWN0KGUpID8gIXRoaXMuY2FuQmVTZXJpYWxpemVkKGUpIDogdHlwZW9mIGUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgRXh0cmFjdG9ySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0ludGVyZmFjZXMvRXh0cmFjdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgU3RyYXRlZ3lJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvSW50ZXJmYWNlcy9TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IFBhdGhOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9FeGNlcHRpb25zL1BhdGhOb3RGb3VuZEV4Y2VwdGlvblwiO1xuaW1wb3J0IFR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvRXhjZXB0aW9ucy9UeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlLCBtdWx0aUluamVjdCB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiQGNvbmZpZy9pbnZlcnNpZnkudHlwZXNcIjtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXh0cmFjdG9yIGltcGxlbWVudHMgRXh0cmFjdG9ySW50ZXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQG11bHRpSW5qZWN0KFNJW1wiY29tcG9uZW50OmV4dHJhY3RvcjpzdHJhdGVneVwiXSlcbiAgICAgICAgcHJpdmF0ZSBzdHJhdGVnaWVzOiBTdHJhdGVneUludGVyZmFjZVtdXG4gICAgKSB7fVxuXG4gICAgLyoqXG4gICAgICogQHRocm93cyB7UGF0aE5vdEZvdW5kRXhjZXB0aW9ufVxuICAgICAqIEB0aHJvd3Mge1R5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb259XG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICovXG4gICAgZXh0cmFjdChwYXRoOiBzdHJpbmcsIG9iajogeyBbcDogc3RyaW5nXTogYW55IH0pOiBzdHJpbmcgfCBudWxsIHwgbmV2ZXIge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuXG4gICAgICAgIGxldCBwYXJ0OiBzdHJpbmc7XG4gICAgICAgIGxldCBleHRyYWN0ZWQgPSBvYmo7XG5cbiAgICAgICAgd2hpbGUgKChwYXJ0ID0gcGFydHMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgIGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdEludGVybmFsKHBhcnQsIGV4dHJhY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RyYXRlZ3k6IFN0cmF0ZWd5SW50ZXJmYWNlID0gbnVsbDtcbiAgICAgICAgbGV0IHR5cGUgPSBleHRyYWN0ZWQgPT09IG51bGwgPyBcIm51bGxcIiA6ICh0eXBlb2YgZXh0cmFjdGVkIGFzIHN0cmluZyk7XG4gICAgICAgIHR5cGUgPSB0eXBlID09PSBcIm9iamVjdFwiICYmIEFycmF5LmlzQXJyYXkoZXh0cmFjdGVkKSA/IFwiYXJyYXlcIiA6IHR5cGU7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnN0cmF0ZWdpZXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnN1cHBvcnQodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBzdHJhdGVneSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmF0ZWd5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbihgVHlwZSAke3R5cGV9IGlzIG5vdCBzdXBwb3J0ZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJhdGVneS5wcm9jZXNzKGV4dHJhY3RlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHRocm93cyB7UGF0aE5vdEZvdW5kRXhjZXB0aW9ufVxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dHJhY3RJbnRlcm5hbChrZXk6IHN0cmluZywgb2JqOiB7IFtwOiBzdHJpbmddOiBhbnkgfSk6IGFueSB8IG5ldmVyIHtcbiAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaj8uW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhdGhOb3RGb3VuZEV4Y2VwdGlvbihgS2V5ICR7a2V5fSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfVxufVxuIiwgImltcG9ydCBTdHJhdGVneUludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9JbnRlcmZhY2VzL1N0cmF0ZWd5SW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXRlcmFsU3RyYXRlZ3kgaW1wbGVtZW50cyBTdHJhdGVneUludGVyZmFjZSB7XG4gICAgc3VwcG9ydCh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFtcIm51bWJlclwiLCBcInN0cmluZ1wiXS5pbmNsdWRlcyh0eXBlKTtcbiAgICB9XG5cbiAgICBwcm9jZXNzKHY6IHN0cmluZyB8IG51bWJlcik6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgU3RyYXRlZ3lJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvSW50ZXJmYWNlcy9TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJheVN0cmF0ZWd5IGltcGxlbWVudHMgU3RyYXRlZ3lJbnRlcmZhY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZ2V0dGVyOmRlbGltaXRlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBkZWxpbWl0ZXJHZXR0ZXI6ICgpID0+IHsgZW5hYmxlZDogYm9vbGVhbjsgdmFsdWU6IHN0cmluZyB9XG4gICAgKSB7fVxuXG4gICAgcHJvY2Vzcyh2OiBhbnlbXSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAodi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbGltaXRlciA9IHRoaXMuZGVsaW1pdGVyR2V0dGVyKCk7XG4gICAgICAgIHJldHVybiAhZGVsaW1pdGVyLmVuYWJsZWQgPyB2WzBdIDogdi5qb2luKGRlbGltaXRlci52YWx1ZSk7XG4gICAgfVxuXG4gICAgc3VwcG9ydCh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IFN0cmF0ZWd5SW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0ludGVyZmFjZXMvU3RyYXRlZ3lJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE51bGxTdHJhdGVneSBpbXBsZW1lbnRzIFN0cmF0ZWd5SW50ZXJmYWNlIHtcbiAgICAvLyBlc2xpbnQtc3RvcC1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgcHJvY2VzcygpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3VwcG9ydCh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwibnVsbFwiO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgTG9nZ2VySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWJ1Z2dlciBpbXBsZW1lbnRzIExvZ2dlckludGVyZmFjZSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcsIHByaXZhdGUgZW5hYmxlZDogKCkgPT4gYm9vbGVhbikge31cblxuICAgIGluZm8oLi4udmFsdWU6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nKC4uLnZhbHVlKTtcbiAgICB9XG4gICAgZGVidWcoLi4udmFsdWU6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nKC4uLnZhbHVlKTtcbiAgICB9XG4gICAgd2FybiguLi52YWx1ZTogYW55W10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2coLi4udmFsdWUpO1xuICAgIH1cblxuICAgIGxvZyguLi52YWx1ZTogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQoKSkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgWyR7dGhpcy5uYW1lfV1gLCAuLi52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckludGVyZmFjZVwiO1xuaW1wb3J0IERlYnVnZ2VyIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvRGVidWdnZXJcIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2dlckNvbXBvc2VyIHtcbiAgICBwcml2YXRlIGxvZ2dlcnMgPSBuZXcgTWFwPHN0cmluZywgTG9nZ2VySW50ZXJmYWNlPigpO1xuICAgIHByaXZhdGUgZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGNyZWF0ZShuYW1lOiBzdHJpbmcpOiBMb2dnZXJJbnRlcmZhY2Uge1xuICAgICAgICBpZiAoIXRoaXMubG9nZ2Vycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2Vycy5zZXQobmFtZSwgbmV3IERlYnVnZ2VyKG5hbWUsIHRoaXMuaXNFbmFibGVkLmJpbmQodGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXJzLmdldChuYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IE9ic2lkaWFuRmFjYWRlIGZyb20gXCJAc3JjL09ic2lkaWFuL09ic2lkaWFuRmFjYWRlXCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgeyBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgdHlwZSBOb3RlTGluayA9IHsgbGluazogc3RyaW5nOyBvcmlnaW5hbDogc3RyaW5nOyBkZXN0OiBzdHJpbmc7IGFsaWFzOiBzdHJpbmcgfCBudWxsIH07XG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWxlTm90ZUxpbmtTZXJ2aWNlIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IFJFR0VYUCA9IC9eXFxbXFxbLitcXF1cXF0kLztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZmFjYWRlOm9ic2lkaWFuXCJdKVxuICAgICAgICBwcml2YXRlIGZhY2FkZTogT2JzaWRpYW5GYWNhZGVcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Tm90ZUxpbmtzKHBhdGg6IHN0cmluZyk6IE5vdGVMaW5rW10ge1xuICAgICAgICBjb25zdCBsaW5rcyA9IHRoaXMuZmFjYWRlLmdldEZpbGVMaW5rc0NhY2hlKHBhdGgpO1xuICAgICAgICBjb25zdCByZXN1bHQ6IE5vdGVMaW5rW10gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuUkVHRVhQLnRlc3QobGluay5vcmlnaW5hbCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZhY2FkZS5nZXRGaXJzdExpbmtwYXRoRGVzdChsaW5rLmxpbmssIHBhdGgpO1xuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZXN0OiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgbGluazogbGluay5saW5rLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiBsaW5rLm9yaWdpbmFsLFxuICAgICAgICAgICAgICAgIGFsaWFzOiBsaW5rPy5kaXNwbGF5VGV4dCA/PyBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IExpc3RlbmVyUmVmIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvTGlzdGVuZXJSZWZcIjtcbmltcG9ydCBFdmVudEludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50SW50ZXJmYWNlXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlLCB7XG4gICAgQ2FsbGJhY2ssXG4gICAgTGlzdGVuZXIsXG59IGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIG5hbWVkIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IExvZ2dlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckludGVyZmFjZVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRXZlbnREaXNwYXRjaGVyPEU+IGltcGxlbWVudHMgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEU+IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50czogTWFwPFxuICAgICAgICBrZXlvZiBFLFxuICAgICAgICB7IGNiOiBDYWxsYmFjazxFW2tleW9mIEVdPjsgc29ydDogbnVtYmVyOyBvbmNlOiBib29sZWFuOyByZWY6IExpc3RlbmVyUmVmPGtleW9mIEU+IH1bXVxuICAgID4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSS5sb2dnZXIpXG4gICAgICAgIEBuYW1lZChcImV2ZW50OmRpc3BhdGNoZXJcIilcbiAgICAgICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlckludGVyZmFjZVxuICAgICkge31cblxuICAgIGFkZExpc3RlbmVyPFQgZXh0ZW5kcyBrZXlvZiBFPih7IG5hbWUsIGNiLCBzb3J0ID0gbnVsbCwgb25jZSA9IGZhbHNlIH06IExpc3RlbmVyPEUsIFQ+KTogTGlzdGVuZXJSZWY8VD4ge1xuICAgICAgICBjb25zdCByZWY6IExpc3RlbmVyUmVmPFQ+ID0geyBnZXROYW1lOiAoKSA9PiBuYW1lIH07XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuZXZlbnRzLmdldChuYW1lKSA/PyBbXTtcbiAgICAgICAgc29ydCA9IHNvcnQgPz8gKGV2ZW50c1swXT8uc29ydCA/PyAwKSArIDE7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0geyBjYiwgc29ydCwgcmVmLCBvbmNlIH07XG4gICAgICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgZXZlbnRzLnNvcnQoKGEsIGIpID0+IGEuc29ydCAtIGIuc29ydCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgQWRkZWQgbGlzdGVuZXI6ICR7bmFtZS50b1N0cmluZygpfWAsIGV2ZW50KTtcbiAgICAgICAgdGhpcy5ldmVudHMuc2V0KG5hbWUsIGV2ZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9XG5cbiAgICBkaXNwYXRjaDxUIGV4dGVuZHMga2V5b2YgRT4obmFtZTogVCwgZTogRVtUXSBleHRlbmRzIHVuZGVmaW5lZCB8IG51bGwgPyB1bmRlZmluZWQgOiBFdmVudEludGVyZmFjZTxFW1RdPikge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2cobmFtZSk7XG4gICAgICAgIGxldCBzaGlmdCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgW2ksIGl0ZW1dIG9mIFsuLi4odGhpcy5ldmVudHMuZ2V0KG5hbWUpPy5lbnRyaWVzKCkgPz8gW10pXSkge1xuICAgICAgICAgICAgaXRlbS5jYihlKTtcbiAgICAgICAgICAgIGlmIChpdGVtLm9uY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5nZXQobmFtZSkuc3BsaWNlKGkgLSBzaGlmdCsrLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUxpc3RlbmVyPFQgZXh0ZW5kcyBrZXlvZiBFPihyZWY6IExpc3RlbmVyUmVmPFQ+KTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgW2ksIGl0ZW1dIG9mIHRoaXMuZXZlbnRzLmdldChyZWYuZ2V0TmFtZSgpKS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnJlZiA9PT0gcmVmKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZ2V0KHJlZi5nZXROYW1lKCkpLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYFJlbW92ZWQgbGlzdGVuZXI6ICR7cmVmLmdldE5hbWUoKS50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgTGlzdGVuZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvSW50ZXJmYWNlcy9MaXN0ZW5lckludGVyZmFjZVwiO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCJAY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IEJsYWNrV2hpdGVMaXN0SW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvQmxhY2tXaGl0ZUxpc3QvQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2VcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IFNldHRpbmdzRXZlbnQgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCBMaXN0ZW5lclJlZiBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsYWNrV2hpdGVMaXN0TGlzdGVuZXIgaW1wbGVtZW50cyBMaXN0ZW5lckludGVyZmFjZSB7XG4gICAgcHJpdmF0ZSByZWY6IExpc3RlbmVyUmVmPFwic2V0dGluZ3M6Y2hhbmdlZFwiPiA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQGluamVjdChTSVtcImNvbXBvbmVudDpibGFja193aGl0ZV9saXN0XCJdKVxuICAgICAgICBwcml2YXRlIGNvbXBvbmVudDogQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2UsXG4gICAgICAgIEBpbmplY3QoU0lbXCJldmVudDpkaXNwYXRjaGVyXCJdKVxuICAgICAgICBwcml2YXRlIGRpc3BhdGNoZXI6IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxTZXR0aW5nc0V2ZW50PlxuICAgICkge31cblxuICAgIGJpbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVmID0gdGhpcy5kaXNwYXRjaGVyLmFkZExpc3RlbmVyKHsgbmFtZTogXCJzZXR0aW5nczpjaGFuZ2VkXCIsIGNiOiBlID0+IHRoaXMuaGFuZGxlKGUuZ2V0KCkpIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJzZXR0aW5ncy5sb2FkZWRcIixcbiAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgICAgICBjYjogZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc2V0TW9kZShlLmdldCgpLnNldHRpbmdzLnJ1bGVzLnBhdGhzLm1vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnNldExpc3QoZS5nZXQoKS5zZXR0aW5ncy5ydWxlcy5wYXRocy52YWx1ZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdW5iaW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWYpO1xuICAgICAgICB0aGlzLnJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGUoeyBjaGFuZ2VkLCBhY3R1YWwgfTogU2V0dGluZ3NFdmVudFtcInNldHRpbmdzOmNoYW5nZWRcIl0pOiB2b2lkIHtcbiAgICAgICAgaWYgKGNoYW5nZWQ/LnJ1bGVzPy5wYXRocz8udmFsdWVzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zZXRMaXN0KGFjdHVhbC5ydWxlcy5wYXRocy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkPy5ydWxlcz8ucGF0aHM/Lm1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnNldE1vZGUoYWN0dWFsLnJ1bGVzLnBhdGhzLm1vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgImltcG9ydCBMaXN0ZW5lckludGVyZmFjZSBmcm9tIFwiQHNyYy9JbnRlcmZhY2VzL0xpc3RlbmVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBSZXNvbHZlckV2ZW50cyB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL1Jlc29sdmVyVHlwZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NUeXBlIH0gZnJvbSBcIkBzcmMvU2V0dGluZ3MvU2V0dGluZ3NUeXBlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiLi4vRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgRXZlbnRJbnRlcmZhY2UgZnJvbSBcIi4uL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50SW50ZXJmYWNlXCI7XG5pbXBvcnQgTGlzdGVuZXJSZWYgZnJvbSBcIi4uL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0xpc3RlbmVyUmVmXCI7XG5pbXBvcnQgeyBQcm9jZXNzb3JGYWN0b3J5LCBQcm9jZXNzb3JUeXBlcyB9IGZyb20gXCIuL1Byb2Nlc3NvclV0aWxzXCI7XG5pbXBvcnQgUHJvY2Vzc29ySW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcbmltcG9ydCBTSSBmcm9tIFwiLi4vLi4vLi4vY29uZmlnL2ludmVyc2lmeS50eXBlc1wiO1xuaW1wb3J0IFByb2Nlc3NvckFyZ3VtZW50VHJhbnNmb3JtZXIgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9Qcm9jZXNzb3IvUHJvY2Vzc29yQXJndW1lbnRUcmFuc2Zvcm1lclwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9jZXNzb3JMaXN0ZW5lciBpbXBsZW1lbnRzIExpc3RlbmVySW50ZXJmYWNlIHtcbiAgICBwcml2YXRlIGNoYW5nZWRSZWY6IExpc3RlbmVyUmVmPFwic2V0dGluZ3M6Y2hhbmdlZFwiPiA9IG51bGw7XG4gICAgcHJpdmF0ZSByZXNvbHZlZFJlZjogTGlzdGVuZXJSZWY8XCJyZXNvbHZlcjpyZXNvbHZlZFwiPiA9IG51bGw7XG5cbiAgICBwcml2YXRlIHByb2Nlc3NvcjogUHJvY2Vzc29ySW50ZXJmYWNlID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJW1wiZXZlbnQ6ZGlzcGF0Y2hlclwiXSlcbiAgICAgICAgcHJpdmF0ZSBkaXNwYXRjaGVyOiBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2U8QXBwRXZlbnRzICYgUmVzb2x2ZXJFdmVudHM+LFxuICAgICAgICBAaW5qZWN0KFNJW1wicHJvY2Vzc29yOmZhY3RvcnlcIl0pXG4gICAgICAgIHByaXZhdGUgZmFjdG9yeTogUHJvY2Vzc29yRmFjdG9yeSxcbiAgICAgICAgQGluamVjdChTSVtcInByb2Nlc3Nvcjphcmd1bWVudC50cmFuc2Zvcm1lclwiXSlcbiAgICAgICAgcHJpdmF0ZSB0cmFuc2Zvcm1lcjogUHJvY2Vzc29yQXJndW1lbnRUcmFuc2Zvcm1lclxuICAgICkge31cblxuICAgIGJpbmQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhbmdlZFJlZiA9IHRoaXMuZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7IG5hbWU6IFwic2V0dGluZ3M6Y2hhbmdlZFwiLCBjYjogZSA9PiB0aGlzLm1ha2UoZS5nZXQoKS5hY3R1YWwpIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoeyBuYW1lOiBcInNldHRpbmdzLmxvYWRlZFwiLCBjYjogZSA9PiB0aGlzLm1ha2UoZS5nZXQoKS5zZXR0aW5ncyksIG9uY2U6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgdW5iaW5kKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VkUmVmKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkUmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYWtlKGFjdHVhbDogU2V0dGluZ3NUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgYXJncyB9ID0gYWN0dWFsLnByb2Nlc3NvcjtcbiAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoUHJvY2Vzc29yVHlwZXMpLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSh0eXBlLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHZlZFJlZikge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzb2x2ZWRSZWYpO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZFJlZiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW5hYmxlKHR5cGU6IFByb2Nlc3NvclR5cGVzLCBhcmdzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHRoaXMuZmFjdG9yeSh0eXBlLCBhcmdzKTtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x2ZWRSZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZWRSZWYgPSB0aGlzLmRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicmVzb2x2ZXI6cmVzb2x2ZWRcIixcbiAgICAgICAgICAgICAgICBjYjogdGhpcy5oYW5kbGVSZXNvbHZlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVJlc29sdmVkKGV2ZW50OiBFdmVudEludGVyZmFjZTxSZXNvbHZlckV2ZW50c1tcInJlc29sdmVyOnJlc29sdmVkXCJdPik6IHZvaWQge1xuICAgICAgICBjb25zdCBvYmogPSBldmVudC5nZXQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoudmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmcgPSB0aGlzLnRyYW5zZm9ybWVyLnRyYW5zZm9ybShldmVudCwgdGhpcy5wcm9jZXNzb3IuZ2V0VHlwZSgpKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKGFyZykgPz8gbnVsbDtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBvYmoubW9kaWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWtlVGl0bGVFbGVtZW50U2VydmljZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhdHRyID0ge1xuICAgICAgICBmYWtlOiBcIm9mbXQtZmFrZS1pZFwiLFxuICAgICAgICBvcmlnaW5hbDogXCJvZm10LW9yaWdpbmFsLWlkXCIsXG4gICAgfTtcbiAgICBwcml2YXRlIGVsZW1lbnRzOiBNYXA8c3RyaW5nLCB7IG9yaWdpbmFsOiBIVE1MRWxlbWVudDsgZmFrZTogSFRNTEVsZW1lbnQ7IGV2ZW50czogc3RyaW5nW10gfT4gPSBuZXcgTWFwKCk7XG5cbiAgICAvL1RPRE86IGFkZCBsb2dzIGZvciBldmVudHNcbiAgICBwcml2YXRlIGV2ZW50cyA9IHtcbiAgICAgICAgY2xpY2s6IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmV4dHJhY3RJZChlLnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnNldFZpc2libGUoaWQsIGZhbHNlKS5nZXRPcmlnaW5hbChpZCkuZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgYmx1cjogKGU6IEV2ZW50KSA9PiB0aGlzLnNldFZpc2libGUodGhpcy5leHRyYWN0SWQoZS50YXJnZXQpLCB0cnVlKSxcbiAgICAgICAgaG92ZXI6IChlOiBFdmVudCkgPT4gdGhpcy5zZXRWaXNpYmxlKHRoaXMuZXh0cmFjdElkKGUudGFyZ2V0KSwgZmFsc2UpLFxuICAgICAgICBvdXQ6IChlOiBFdmVudCkgPT4gdGhpcy5zZXRWaXNpYmxlKHRoaXMuZXh0cmFjdElkKGUudGFyZ2V0KSwgdHJ1ZSksXG4gICAgfTtcblxuICAgIHJlbW92ZUV4Y2VwdChpZDogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgICAgICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBpZCA6IFtpZF07XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgeyBmYWtlIH1dIG9mIHRoaXMuZWxlbWVudHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoIWlkcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgZmFrZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFZpc2libGUoaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgeyBmYWtlLCBldmVudHMgPSBbXSwgb3JpZ2luYWwgfSA9IHRoaXMuZWxlbWVudHMuZ2V0KGlkKTtcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoZSA9PT0gXCJjbGlja1wiKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZXZlbnRzLmJsdXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUgPT09IFwiaG92ZXJcIikge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLmV2ZW50cy5vdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgb3JpZ2luYWwucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0ci5vcmlnaW5hbCk7XG4gICAgICAgIGZha2UucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuZGVsZXRlKGlkKTtcbiAgICB9XG5cbiAgICByZW1vdmVBbGwoKTogdm9pZCB7XG4gICAgICAgIEFycmF5LmZyb20odGhpcy5lbGVtZW50cy5rZXlzKCkpLmZvckVhY2goZSA9PiB0aGlzLnJlbW92ZShlKSk7XG4gICAgfVxuXG4gICAgZ2V0T3JDcmVhdGU8VCBleHRlbmRzIEhUTUxFbGVtZW50Pih7XG4gICAgICAgIG9yaWdpbmFsLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgaWQsXG4gICAgICAgIGV2ZW50cyA9IFtdLFxuICAgIH06IHtcbiAgICAgICAgb3JpZ2luYWw6IEhUTUxFbGVtZW50O1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBldmVudHM/OiAoXCJjbGlja1wiIHwgXCJob3ZlclwiKVtdO1xuICAgIH0pOiB7IGNyZWF0ZWQ6IGJvb2xlYW47IGVsZW1lbnQ6IFQgfSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG9yaWdpbmFsPy5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5maW5kKGNvbnRhaW5lciwgaWQpIGFzIFQ7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldFRleHQodGl0bGUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY3JlYXRlZDogZmFsc2UsIGVsZW1lbnQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG9yaWdpbmFsLnRhZ05hbWUpIGFzIFQ7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gb3JpZ2luYWwuY2xhc3NOYW1lO1xuICAgICAgICBlbGVtZW50LnNldFRleHQodGl0bGUpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLmF0dHIuZmFrZSwgaWQpO1xuICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgIG9yaWdpbmFsLnNldEF0dHJpYnV0ZSh0aGlzLmF0dHIub3JpZ2luYWwsIGlkKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zZXQoaWQsIHsgb3JpZ2luYWwsIGZha2U6IGVsZW1lbnQsIGV2ZW50czogWy4uLmV2ZW50c10gfSk7XG5cbiAgICAgICAgaWYgKGV2ZW50cy5jb250YWlucyhcImNsaWNrXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRDbGljayhpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50cy5jb250YWlucyhcImhvdmVyXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRIb3ZlcihpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIG9yaWdpbmFsKTtcbiAgICAgICAgZWxlbWVudC5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB7IGNyZWF0ZWQ6IHRydWUsIGVsZW1lbnQgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VmlzaWJsZShpZDogc3RyaW5nLCB2aXNpYmxlOiBib29sZWFuKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmFrZSwgb3JpZ2luYWwgfSA9IHRoaXMuZWxlbWVudHMuZ2V0KGlkKTtcbiAgICAgICAgICAgIG9yaWdpbmFsLmhpZGRlbiA9IHZpc2libGU7XG4gICAgICAgICAgICBmYWtlLmhpZGRlbiA9ICF2aXNpYmxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXh0cmFjdElkKGU6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZS5nZXRBdHRyaWJ1dGUodGhpcy5hdHRyLmZha2UpID8/IGUuZ2V0QXR0cmlidXRlKHRoaXMuYXR0ci5vcmlnaW5hbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRPcmlnaW5hbChpZDogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMuZ2V0KGlkKT8ub3JpZ2luYWwgPz8gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhcyhpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLmhhcyhpZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiaW5kQ2xpY2soaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGZha2UsIG9yaWdpbmFsIH0gPSB0aGlzLmVsZW1lbnRzLmdldChpZCk7XG4gICAgICAgICAgICBmYWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmV2ZW50cy5jbGljayk7XG4gICAgICAgICAgICBmYWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLmV2ZW50cy5jbGljayk7XG4gICAgICAgICAgICBvcmlnaW5hbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmV2ZW50cy5ibHVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYmluZEhvdmVyKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKGlkKSkge1xuICAgICAgICAgICAgY29uc3QgeyBmYWtlLCBvcmlnaW5hbCB9ID0gdGhpcy5lbGVtZW50cy5nZXQoaWQpO1xuICAgICAgICAgICAgZmFrZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuZXZlbnRzLmhvdmVyKTtcbiAgICAgICAgICAgIG9yaWdpbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLmV2ZW50cy5vdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjb25zdCBjSWQgPSBub2RlLmdldEF0dHJpYnV0ZSh0aGlzLmF0dHIuZmFrZSk7XG4gICAgICAgICAgICBpZiAoaWQgPT09IGNJZCAmJiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IFN0cmF0ZWd5SW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXMvU3RyYXRlZ3lJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb2xlYW5TdHJhdGVneSBpbXBsZW1lbnRzIFN0cmF0ZWd5SW50ZXJmYWNlIHtcbiAgICBwcm9jZXNzKHY6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgIH1cblxuICAgIHN1cHBvcnQodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBcImJvb2xlYW5cIiA9PT0gdHlwZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgU2VhcmNoRE9NLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgUmVzb2x2ZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vUmVzb2x2ZXIvSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEZ1bmN0aW9uUmVwbGFjZXIgZnJvbSBcIi4vRnVuY3Rpb25SZXBsYWNlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHREb21XcmFwcGVyIHtcbiAgICBwcml2YXRlIHJlcGxhY2VyOiBGdW5jdGlvblJlcGxhY2VyPFNlYXJjaERPTSwgXCJhZGRSZXN1bHRcIiwgUmVzdWx0RG9tV3JhcHBlcj4gPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZXNvbHZlcjogUmVzb2x2ZXJJbnRlcmZhY2UgPSBudWxsLCBkb206IFNlYXJjaERPTSkge1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gRnVuY3Rpb25SZXBsYWNlci5jcmVhdGUoZG9tLCBcImFkZFJlc3VsdFwiLCB0aGlzLCAoc2VsZiwgZGVmYXVsdEFyZ3MsIHZhbmlsbGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSB2YW5pbGxhLmNhbGwoZG9tLCAuLi5kZWZhdWx0QXJncyk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gZGVmYXVsdEFyZ3NbMF07XG4gICAgICAgICAgICBzZWxmLnByb2Nlc3NMb29rdXBJdGVtKGZpbGUsIGMpO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlcGxhY2VyLmVuYWJsZSgpO1xuICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlci5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMucmVwbGFjZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2VzcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy5yZXBsYWNlcj8uZ2V0VGFyZ2V0KCk/LnJlc3VsdERvbUxvb2t1cCA/PyBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2ZpbGUsIGl0ZW1dIG9mIGxvb2t1cCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzTG9va3VwSXRlbShmaWxlLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc0xvb2t1cEl0ZW0oZmlsZTogVEZpbGUsIGl0ZW06IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCByZXN0b3JlID0gIXRoaXM/LnJlcGxhY2VyPy5pc0VuYWJsZWQoKTtcbiAgICAgICAgaWYgKGZpbGUuZXh0ZW5zaW9uICE9PSBcIm1kXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlID0gaXRlbS5jb250YWluZXJFbC5maXJzdEVsZW1lbnRDaGlsZC5maW5kKFwiLnRyZWUtaXRlbS1pbm5lclwiKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IChyZXN0b3JlID8gbnVsbCA6IHRoaXMucmVzb2x2ZXIucmVzb2x2ZShmaWxlLnBhdGgpKSA/PyBmaWxlLmJhc2VuYW1lO1xuICAgICAgICBpZiAobm9kZS5nZXRUZXh0KCkgIT09IHRleHQpIHtcbiAgICAgICAgICAgIG5vZGUuc2V0VGV4dCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBTZWFyY2hET00gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFJlc29sdmVySW50ZXJmYWNlIH0gZnJvbSBcIi4uL1Jlc29sdmVyL0ludGVyZmFjZXNcIjtcbmltcG9ydCBMb2dnZXJJbnRlcmZhY2UgZnJvbSBcIi4uL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIG5hbWVkIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IFNJIGZyb20gXCIuLi8uLi9jb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgUmVzdWx0RG9tV3JhcHBlciBmcm9tIFwiLi9SZXN1bHREb21XcmFwcGVyXCI7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlIHtcbiAgICBwcml2YXRlIGVudGl0aWVzOiBNYXA8c3RyaW5nLCBNYXA8U2VhcmNoRE9NLCBSZXN1bHREb21XcmFwcGVyPj4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSB0aW1lcjogbnVtYmVyID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAaW5qZWN0KFNJLmxvZ2dlcilcbiAgICAgICAgQG5hbWVkKFNlYXJjaERvbVdyYXBwZXJTZXJ2aWNlLm5hbWUpXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJJbnRlcmZhY2VcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgd3JhcERvbShkb206IFNlYXJjaERPTSwgcmVzb2x2ZXI6IFJlc29sdmVySW50ZXJmYWNlLCB0YWc6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW50aXRpZXMuaGFzKHRhZykpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMuc2V0KHRhZywgbmV3IE1hcCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWdnZWQgPSB0aGlzLmVudGl0aWVzLmdldCh0YWcpO1xuICAgICAgICBpZiAoIXRhZ2dlZC5oYXMoZG9tKSkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IG5ldyBSZXN1bHREb21XcmFwcGVyKHJlc29sdmVyLCBkb20pO1xuICAgICAgICAgICAgdGFnZ2VkLnNldChkb20sIHdyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBFbnRpdHkgY3JlYXRlZGApO1xuICAgICAgICAgICAgdGhpcy5ydW5UaW1lcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3lCeVRhZyh0YWc6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW50aXRpZXMuaGFzKHRhZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtkb20sIHdyYXBwZXJdIG9mIHRoaXMuZW50aXRpZXMuZ2V0KHRhZykpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuZGlzYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5nZXQodGFnKS5kZWxldGUoZG9tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcnVuVGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuc2VsZkNsZWFuLmJpbmQodGhpcyksIDEwMDAwKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbGZDbGVhbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgW3RhZywgZW50aXRpZXNdIG9mIHRoaXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgVGFnICR7dGFnfSBoYXMgJHtlbnRpdGllcy5zaXplfSBlbnRpdGllcyBiZWZvcmUgc2VsZi1jbGVhbmApO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZG9tLCB3cmFwcGVyXSBvZiBlbnRpdGllcykge1xuICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20uZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coYERvbSBmcm9tICR7dGFnfSB0YWcgaGFzIGJlZW4gcmVtb3ZlZGApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0aWVzLmdldCh0YWcpLmRlbGV0ZShkb20pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgVGFnICR7dGFnfSBoYXMgJHtlbnRpdGllcy5zaXplfSBlbnRpdGllcyBhZnRlciBzZWxmLWNsZWFuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gXCJpbnZlcnNpZnlcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZWxheWVySW50ZXJmYWNlIHtcbiAgICBkZWxheShmbjogRnVuY3Rpb24sIHRpbWU6IG51bWJlcik6IG51bWJlcjtcblxuICAgIGNsZWFyKGlkOiBudW1iZXIpOiB2b2lkO1xufVxuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGVsYXllciBpbXBsZW1lbnRzIERlbGF5ZXJJbnRlcmZhY2Uge1xuICAgIGRlbGF5KGZuOiBGdW5jdGlvbiwgdGltZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZm4sIHRpbWUpO1xuICAgIH1cblxuICAgIGNsZWFyKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IFwicmVmbGVjdC1tZXRhZGF0YVwiO1xuaW1wb3J0IHsgQ29udGFpbmVyIGFzIF9Db250YWluZXIgfSBmcm9tIFwiaW52ZXJzaWZ5XCI7XG5pbXBvcnQgU0kgZnJvbSBcIi4vaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgQ3JlYXRvck1vZHVsZSBmcm9tIFwiLi9zZXJ2aWNlcy9jcmVhdG9yLmNvbmZpZ1wiO1xuaW1wb3J0IGJpbmRGZWF0dXJlIGZyb20gXCIuL3NlcnZpY2VzL2ZlYXR1cmUuY29uZmlnXCI7XG5pbXBvcnQgYmluZFNldHRpbmdzIGZyb20gXCIuL3NlcnZpY2VzL3NldHRpbmdzLmNvbmZpZ1wiO1xuaW1wb3J0IHByb2Nlc3Nvck1vZHVsZSBmcm9tIFwiLi9zZXJ2aWNlcy9wcm9jZXNzb3JzLmNvbmZpZ1wiO1xuaW1wb3J0IHJlc29sdmVyTW9kdWxlIGZyb20gXCIuL3NlcnZpY2VzL3Jlc29sdmVyLmNvbmZpZ1wiO1xuaW1wb3J0IGFwaUFkYXB0ZXJNb2R1bGUgZnJvbSBcIi4vc2VydmljZXMvYXBpLmFkYXB0ZXIuY29uZmlnXCI7XG5pbXBvcnQgRmlsdGVySW50ZXJmYWNlIGZyb20gXCIuLi9zcmMvSW50ZXJmYWNlcy9GaWx0ZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBFeHRlbnNpb25GaWx0ZXIgZnJvbSBcIi4uL3NyYy9GaWx0ZXJzL0V4dGVuc2lvbkZpbHRlclwiO1xuaW1wb3J0IFBhdGhMaXN0RmlsdGVyIGZyb20gXCIuLi9zcmMvRmlsdGVycy9QYXRoTGlzdEZpbHRlclwiO1xuaW1wb3J0IEJsYWNrV2hpdGVMaXN0SW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvQmxhY2tXaGl0ZUxpc3QvQmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2VcIjtcbmltcG9ydCBCbGFja1doaXRlTGlzdCBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0JsYWNrV2hpdGVMaXN0L0JsYWNrV2hpdGVMaXN0XCI7XG5pbXBvcnQgQ2FjaGUgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9DYWNoZS9DYWNoZVwiO1xuaW1wb3J0IENhY2hlSW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvQ2FjaGUvQ2FjaGVJbnRlcmZhY2VcIjtcbmltcG9ydCBFeHRyYWN0b3IgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvRXh0cmFjdG9yXCI7XG5pbXBvcnQgRXh0cmFjdG9ySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0ludGVyZmFjZXMvRXh0cmFjdG9ySW50ZXJmYWNlXCI7XG5pbXBvcnQgU3RyYXRlZ3lJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvSW50ZXJmYWNlcy9TdHJhdGVneUludGVyZmFjZVwiO1xuaW1wb3J0IExpdGVyYWxTdHJhdGVneSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9MaXRlcmFsU3RyYXRlZ3lcIjtcbmltcG9ydCBBcnJheVN0cmF0ZWd5IGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXh0cmFjdG9yL0FycmF5U3RyYXRlZ3lcIjtcbmltcG9ydCBOdWxsU3RyYXRlZ3kgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FeHRyYWN0b3IvTnVsbFN0cmF0ZWd5XCI7XG5pbXBvcnQgTG9nZ2VySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRGVidWcvTG9nZ2VySW50ZXJmYWNlXCI7XG5pbXBvcnQgTG9nZ2VyQ29tcG9zZXIgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWJ1Zy9Mb2dnZXJDb21wb3NlclwiO1xuaW1wb3J0IEZpbGVOb3RlTGlua1NlcnZpY2UgZnJvbSBcIkBzcmMvVXRpbHMvRmlsZU5vdGVMaW5rU2VydmljZVwiO1xuaW1wb3J0IExpc3RlbmVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0ludGVyZmFjZXMvTGlzdGVuZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBFdmVudERpc3BhdGNoZXJJbnRlcmZhY2UgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9FdmVudERpc3BhdGNoZXIvSW50ZXJmYWNlcy9FdmVudERpc3BhdGNoZXJJbnRlcmZhY2VcIjtcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0V2ZW50RGlzcGF0Y2hlclwiO1xuaW1wb3J0IEJsYWNrV2hpdGVMaXN0TGlzdGVuZXIgZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9CbGFja1doaXRlTGlzdC9CbGFja1doaXRlTGlzdExpc3RlbmVyXCI7XG5pbXBvcnQgRnVuY3Rpb25SZXBsYWNlciBmcm9tIFwiQHNyYy9VdGlscy9GdW5jdGlvblJlcGxhY2VyXCI7XG5pbXBvcnQgUHJvY2Vzc29yTGlzdGVuZXIgZnJvbSBcIi4uL3NyYy9Db21wb25lbnRzL1Byb2Nlc3Nvci9Qcm9jY2Vzc29yTGlzdGVuZXJcIjtcbmltcG9ydCBGYWtlVGl0bGVFbGVtZW50U2VydmljZSBmcm9tIFwiQHNyYy9VdGlscy9GYWtlVGl0bGVFbGVtZW50U2VydmljZVwiO1xuaW1wb3J0IEJvb2xlYW5TdHJhdGVneSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V4dHJhY3Rvci9Cb29sZWFuU3RyYXRlZ3lcIjtcbmltcG9ydCBTZWFyY2hEb21XcmFwcGVyU2VydmljZSBmcm9tIFwiLi4vc3JjL1V0aWxzL1NlYXJjaERvbVdyYXBwZXJTZXJ2aWNlXCI7XG5pbXBvcnQgeyBEZWxheWVyLCBEZWxheWVySW50ZXJmYWNlIH0gZnJvbSBcIkBzcmMvQ29tcG9uZW50cy9EZWxheWVyL0RlbGF5ZXJcIjtcblxuY29uc3QgQ29udGFpbmVyID0gbmV3IF9Db250YWluZXIoKTtcbkNvbnRhaW5lci5iaW5kPEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxhbnk+PihTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pLnRvKEV2ZW50RGlzcGF0Y2hlcikuaW5TaW5nbGV0b25TY29wZSgpO1xuQ29udGFpbmVyLmJpbmQ8c3RyaW5nPihTSVtcInRlbXBsYXRlOnBhdHRlcm5cIl0pLnRvQ29uc3RhbnRWYWx1ZShcIig/PHBsYWNlaG9sZGVyPnt7W157fV0rP319KVwiKTtcblxuQ29udGFpbmVyLmJpbmQ8RmlsdGVySW50ZXJmYWNlPihTSS5maWx0ZXIpLnRvKEV4dGVuc2lvbkZpbHRlcik7XG5Db250YWluZXIuYmluZDxGaWx0ZXJJbnRlcmZhY2U+KFNJLmZpbHRlcikudG8oUGF0aExpc3RGaWx0ZXIpO1xuQ29udGFpbmVyLmJpbmQ8QmxhY2tXaGl0ZUxpc3RJbnRlcmZhY2U+KFNJW1wiY29tcG9uZW50OmJsYWNrX3doaXRlX2xpc3RcIl0pLnRvKEJsYWNrV2hpdGVMaXN0KS5pblNpbmdsZXRvblNjb3BlKCk7XG5Db250YWluZXIuYmluZDxDYWNoZUludGVyZmFjZT4oU0kuY2FjaGUpLnRvKENhY2hlKTtcbkNvbnRhaW5lci5iaW5kPEV4dHJhY3RvckludGVyZmFjZT4oU0lbXCJjb21wb25lbnQ6ZXh0cmFjdG9yXCJdKS50byhFeHRyYWN0b3IpO1xuQ29udGFpbmVyLmJpbmQ8U3RyYXRlZ3lJbnRlcmZhY2U+KFNJW1wiY29tcG9uZW50OmV4dHJhY3RvcjpzdHJhdGVneVwiXSkudG8oTGl0ZXJhbFN0cmF0ZWd5KTtcbkNvbnRhaW5lci5iaW5kPFN0cmF0ZWd5SW50ZXJmYWNlPihTSVtcImNvbXBvbmVudDpleHRyYWN0b3I6c3RyYXRlZ3lcIl0pLnRvKEFycmF5U3RyYXRlZ3kpO1xuQ29udGFpbmVyLmJpbmQ8U3RyYXRlZ3lJbnRlcmZhY2U+KFNJW1wiY29tcG9uZW50OmV4dHJhY3RvcjpzdHJhdGVneVwiXSkudG8oTnVsbFN0cmF0ZWd5KTtcbkNvbnRhaW5lci5iaW5kPFN0cmF0ZWd5SW50ZXJmYWNlPihTSVtcImNvbXBvbmVudDpleHRyYWN0b3I6c3RyYXRlZ3lcIl0pLnRvKEJvb2xlYW5TdHJhdGVneSk7XG5Db250YWluZXIuYmluZChTSVtcImxvZ2dlcjpjb21wb3NlclwiXSkudG8oTG9nZ2VyQ29tcG9zZXIpLmluU2luZ2xldG9uU2NvcGUoKTtcbkNvbnRhaW5lci5iaW5kPERlbGF5ZXJJbnRlcmZhY2U+KFNJLmRlbGF5ZXIpLnRvKERlbGF5ZXIpO1xuQ29udGFpbmVyLmJpbmQ8TG9nZ2VySW50ZXJmYWNlPihTSS5sb2dnZXIpXG4gICAgLnRvRHluYW1pY1ZhbHVlKGNvbnRleHQgPT4ge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb250YWluZXJcbiAgICAgICAgICAgIC5nZXQ8TG9nZ2VyQ29tcG9zZXI+KFNJW1wibG9nZ2VyOmNvbXBvc2VyXCJdKVxuICAgICAgICAgICAgLmNyZWF0ZShjb250ZXh0LmN1cnJlbnRSZXF1ZXN0LnRhcmdldC5nZXROYW1lZFRhZygpLnZhbHVlKTtcbiAgICB9KVxuICAgIC53aGVuKCgpID0+IHRydWUpO1xuXG5Db250YWluZXIuYmluZChTSVtcInNlcnZpY2U6bm90ZTpsaW5rXCJdKS50byhGaWxlTm90ZUxpbmtTZXJ2aWNlKS5pblNpbmdsZXRvblNjb3BlKCk7XG5Db250YWluZXIuYmluZChTSVtcInNlcnZpY2U6ZmFrZV90aXRsZV9lbGVtZW50XCJdKS50byhGYWtlVGl0bGVFbGVtZW50U2VydmljZSk7XG5Db250YWluZXIuYmluZDxMaXN0ZW5lckludGVyZmFjZT4oU0kubGlzdGVuZXIpLnRvKEJsYWNrV2hpdGVMaXN0TGlzdGVuZXIpLndoZW5UYXJnZXROYW1lZChcInVubmFtZWRcIik7XG5Db250YWluZXIuYmluZDxMaXN0ZW5lckludGVyZmFjZT4oU0kubGlzdGVuZXIpLnRvKFByb2Nlc3Nvckxpc3RlbmVyKS53aGVuVGFyZ2V0TmFtZWQoXCJ1bm5hbWVkXCIpO1xuXG5Db250YWluZXIubG9hZChDcmVhdG9yTW9kdWxlKTtcbmJpbmRGZWF0dXJlKENvbnRhaW5lcik7XG5iaW5kU2V0dGluZ3MoQ29udGFpbmVyKTtcbkNvbnRhaW5lci5sb2FkKHByb2Nlc3Nvck1vZHVsZSk7XG5Db250YWluZXIubG9hZChyZXNvbHZlck1vZHVsZSk7XG5Db250YWluZXIubG9hZChhcGlBZGFwdGVyTW9kdWxlKTtcblxuQ29udGFpbmVyLmJpbmQoU0lbXCJmYWN0b3J5OnJlcGxhY2VyXCJdKS50b0Z1bmN0aW9uKCh0OiBhbnksIG06IGFueSwgYTogdW5rbm93biwgaTogYW55KSA9PlxuICAgIEZ1bmN0aW9uUmVwbGFjZXIuY3JlYXRlKHQsIG0sIGEsIGkpXG4pO1xuQ29udGFpbmVyLmJpbmQoU0lbXCJzZXJ2aWNlOnNlYXJjaDpkb206d3JhcHBlclwiXSkudG8oU2VhcmNoRG9tV3JhcHBlclNlcnZpY2UpLmluU2luZ2xldG9uU2NvcGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyO1xuIiwgImltcG9ydCBDb250YWluZXIgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LmNvbmZpZ1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NFdmVudCwgU2V0dGluZ3NUeXBlIH0gZnJvbSBcIkBzcmMvU2V0dGluZ3MvU2V0dGluZ3NUeXBlXCI7XG5pbXBvcnQgU0kgZnJvbSBcIkBjb25maWcvaW52ZXJzaWZ5LnR5cGVzXCI7XG5pbXBvcnQgeyBSZXNvbHZlckV2ZW50cyB9IGZyb20gXCJAc3JjL1Jlc29sdmVyL1Jlc29sdmVyVHlwZVwiO1xuaW1wb3J0IHsgQXBwRXZlbnRzIH0gZnJvbSBcIkBzcmMvVHlwZXNcIjtcbmltcG9ydCBMb2dnZXJDb21wb3NlciBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0RlYnVnL0xvZ2dlckNvbXBvc2VyXCI7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSBcImludmVyc2lmeVwiO1xuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZSBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9JbnRlcmZhY2VzL0V2ZW50RGlzcGF0Y2hlckludGVyZmFjZVwiO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAge1xuICAgIHByaXZhdGUgY29udGFpbmVyID0gQ29udGFpbmVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmluZCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYmluZCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPFNldHRpbmdzRXZlbnQ+ID0gdGhpcy5jb250YWluZXIuZ2V0KFNJW1wiZXZlbnQ6ZGlzcGF0Y2hlclwiXSk7XG4gICAgICAgIGRpc3BhdGNoZXIuYWRkTGlzdGVuZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJzZXR0aW5nczpjaGFuZ2VkXCIsXG4gICAgICAgICAgICBjYjogZSA9PiB0aGlzLm9uU2V0dGluZ3NDaGFuZ2VkKGUuZ2V0KCkpLFxuICAgICAgICB9KTtcbiAgICAgICAgZGlzcGF0Y2hlci5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuYW1lOiBcInNldHRpbmdzLmxvYWRlZFwiLFxuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgICAgIGNiOiBlID0+IHRoaXMuaW5pdChlLmdldCgpLnNldHRpbmdzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KHNldHRpbmdzOiBTZXR0aW5nc1R5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYmluZChTSS5kZWxpbWl0ZXIpLnRvQ29uc3RhbnRWYWx1ZShzZXR0aW5ncy5ydWxlcy5kZWxpbWl0ZXIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXQ8TG9nZ2VyQ29tcG9zZXI+KFNJW1wibG9nZ2VyOmNvbXBvc2VyXCJdKVtzZXR0aW5ncy5kZWJ1ZyA/IFwiZW5hYmxlXCIgOiBcImRpc2FibGVcIl0oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU2V0dGluZ3NDaGFuZ2VkKHsgYWN0dWFsLCBjaGFuZ2VkIH06IFNldHRpbmdzRXZlbnRbXCJzZXR0aW5nczpjaGFuZ2VkXCJdKTogdm9pZCB7XG4gICAgICAgIHR5cGUgZXZlbnRzID0gUmVzb2x2ZXJFdmVudHMgJiBBcHBFdmVudHM7XG5cbiAgICAgICAgaWYgKGNoYW5nZWQ/LnJ1bGVzPy5kZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlYmluZChTSS5kZWxpbWl0ZXIpLnRvQ29uc3RhbnRWYWx1ZShhY3R1YWwucnVsZXMuZGVsaW1pdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkLmRlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXQ8TG9nZ2VyQ29tcG9zZXI+KFNJW1wibG9nZ2VyOmNvbXBvc2VyXCJdKVthY3R1YWwuZGVidWcgPyBcImVuYWJsZVwiIDogXCJkaXNhYmxlXCJdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaXNwYXRjaGVyID0gdGhpcy5jb250YWluZXIuZ2V0PEV2ZW50RGlzcGF0Y2hlckludGVyZmFjZTxldmVudHM+PihTSVtcImV2ZW50OmRpc3BhdGNoZXJcIl0pO1xuICAgICAgICBkaXNwYXRjaGVyLmRpc3BhdGNoKFwicmVzb2x2ZXI6Y2xlYXJcIiwgbnVsbCk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFNldHRpbmdzVHlwZSB9IGZyb20gXCJAc3JjL1NldHRpbmdzL1NldHRpbmdzVHlwZVwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCB7IFN0cmF0ZWd5VHlwZSwgVmFsaWRhdG9yVHlwZSB9IGZyb20gXCIuLi9GZWF0dXJlL0FsaWFzL1R5cGVzXCI7XG5pbXBvcnQgeyBOb3RlTGlua1N0cmF0ZWd5IH0gZnJvbSBcIkBzcmMvRmVhdHVyZS9Ob3RlTGluay9Ob3RlTGlua1R5cGVzXCI7XG5cbmRlY2xhcmUgY29uc3QgUExVR0lOX1ZFUlNJT046IHN0cmluZztcblxuZXhwb3J0IHR5cGUgQ29tcGFyZU9wZXJhdGlvbiA9IFwiPlwiIHwgXCI+PVwiIHwgXCI9XCIgfCBcIiE9XCIgfCBcIjxcIiB8IFwiPD1cIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsdWdpbkhlbHBlciB7XG4gICAgcHVibGljIHN0YXRpYyBjb21wYXJlVmVyc2lvbih2ZXJzaW9uMTogc3RyaW5nLCBjb21wYXJhdG9yOiBDb21wYXJlT3BlcmF0aW9uLCB2ZXJzaW9uMjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB2ZXJzaW9uMS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdmVyc2lvbjIuc3BsaXQoXCIuXCIpLm1hcChOdW1iZXIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICBpZiAobGVmdFtpXSA+IHJpZ2h0W2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IgPT09IFwiPlwiIHx8IGNvbXBhcmF0b3IgPT09IFwiPj1cIiB8fCBjb21wYXJhdG9yID09PSBcIiE9XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxlZnRbaV0gPCByaWdodFtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJhdG9yID09PSBcIjxcIiB8fCBjb21wYXJhdG9yID09PSBcIjw9XCIgfHwgY29tcGFyYXRvciA9PT0gXCIhPVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yID09PSBcIj1cIiB8fCBjb21wYXJhdG9yID09PSBcIj49XCIgfHwgY29tcGFyYXRvciA9PT0gXCI8PVwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRGVmYXVsdFNldHRpbmdzKCk6IFNldHRpbmdzVHlwZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBQTFVHSU5fVkVSU0lPTixcbiAgICAgICAgICAgIHRlbXBsYXRlczoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogeyBtYWluOiBcInRpdGxlXCIsIGZhbGxiYWNrOiBcImZhbGxiYWNrX3RpdGxlXCIgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydWxlczoge1xuICAgICAgICAgICAgICAgIHBhdGhzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbGltaXRlcjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgICAgICBib290OiB7XG4gICAgICAgICAgICAgICAgZGVsYXk6IDEwMDAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWF0dXJlczoge1xuICAgICAgICAgICAgICAgIFtGZWF0dXJlLkFsaWFzXToge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IFN0cmF0ZWd5VHlwZS5FbnN1cmUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogVmFsaWRhdG9yVHlwZS5Gcm9udG1hdHRlclJlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZXM6IHsgbWFpbjogXCJcIiwgZmFsbGJhY2s6IFwiXCIgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFtGZWF0dXJlLkV4cGxvcmVyXTogeyBlbmFibGVkOiBmYWxzZSwgc29ydDogZmFsc2UsIHRlbXBsYXRlczogeyBtYWluOiBcIlwiLCBmYWxsYmFjazogXCJcIiB9IH0sXG4gICAgICAgICAgICAgICAgW0ZlYXR1cmUuVGFiXTogeyBlbmFibGVkOiBmYWxzZSwgdGVtcGxhdGVzOiB7IG1haW46IFwiXCIsIGZhbGxiYWNrOiBcIlwiIH0gfSxcbiAgICAgICAgICAgICAgICBbRmVhdHVyZS5IZWFkZXJdOiB7IGVuYWJsZWQ6IGZhbHNlLCB0ZW1wbGF0ZXM6IHsgbWFpbjogXCJcIiwgZmFsbGJhY2s6IFwiXCIgfSB9LFxuICAgICAgICAgICAgICAgIFtGZWF0dXJlLkdyYXBoXTogeyBlbmFibGVkOiBmYWxzZSwgdGVtcGxhdGVzOiB7IG1haW46IFwiXCIsIGZhbGxiYWNrOiBcIlwiIH0gfSxcbiAgICAgICAgICAgICAgICBbRmVhdHVyZS5Cb29rbWFya3NdOiB7IGVuYWJsZWQ6IGZhbHNlLCB0ZW1wbGF0ZXM6IHsgbWFpbjogXCJcIiwgZmFsbGJhY2s6IFwiXCIgfSB9LFxuICAgICAgICAgICAgICAgIFtGZWF0dXJlLlNlYXJjaF06IHsgZW5hYmxlZDogZmFsc2UsIHRlbXBsYXRlczogeyBtYWluOiBcIlwiLCBmYWxsYmFjazogXCJcIiB9IH0sXG4gICAgICAgICAgICAgICAgW0ZlYXR1cmUuU3VnZ2VzdF06IHsgZW5hYmxlZDogZmFsc2UsIHRlbXBsYXRlczogeyBtYWluOiBcIlwiLCBmYWxsYmFjazogXCJcIiB9IH0sXG4gICAgICAgICAgICAgICAgW0ZlYXR1cmUuSW5saW5lVGl0bGVdOiB7IGVuYWJsZWQ6IGZhbHNlLCB0ZW1wbGF0ZXM6IHsgbWFpbjogXCJcIiwgZmFsbGJhY2s6IFwiXCIgfSB9LFxuICAgICAgICAgICAgICAgIFtGZWF0dXJlLkNhbnZhc106IHsgZW5hYmxlZDogZmFsc2UsIHRlbXBsYXRlczogeyBtYWluOiBcIlwiLCBmYWxsYmFjazogXCJcIiB9IH0sXG4gICAgICAgICAgICAgICAgW0ZlYXR1cmUuQmFja2xpbmtdOiB7IGVuYWJsZWQ6IGZhbHNlLCB0ZW1wbGF0ZXM6IHsgbWFpbjogXCJcIiwgZmFsbGJhY2s6IFwiXCIgfSB9LFxuICAgICAgICAgICAgICAgIFtGZWF0dXJlLldpbmRvd0ZyYW1lXTogeyBlbmFibGVkOiBmYWxzZSwgdGVtcGxhdGVzOiB7IG1haW46IFwiXCIsIGZhbGxiYWNrOiBcIlwiIH0gfSxcbiAgICAgICAgICAgICAgICBbRmVhdHVyZS5Ob3RlTGlua106IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBOb3RlTGlua1N0cmF0ZWd5Lk9ubHlFbXB0eSxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlczogeyBtYWluOiBcIlwiLCBmYWxsYmFjazogXCJcIiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzc29yOiB7XG4gICAgICAgICAgICAgICAgYXJnczogW10sXG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7XG4gICAgQXBwRXh0LFxuICAgIENhY2hlZE1ldGFkYXRhLFxuICAgIExpbmtDYWNoZSxcbiAgICBURmlsZSxcbiAgICBWaWV3LFxuICAgIFdvcmtzcGFjZUV4dCxcbiAgICBXb3Jrc3BhY2VJbnRlcmZhY2UsXG4gICAgV29ya3NwYWNlTGVhZixcbiAgICBXb3Jrc3BhY2VQYXJlbnQsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTGVhdmVzIH0gZnJvbSBcIi4uL0VudW1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzaWRpYW5GYWNhZGUge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHBFeHQpIHt9XG5cbiAgICBwdWJsaWMgaXNJbnRlcm5hbFBsdWdpbkVuYWJsZWQoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAuaW50ZXJuYWxQbHVnaW5zLmdldEVuYWJsZWRQbHVnaW5CeUlkKGlkKSAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VEZpbGUocGF0aDogc3RyaW5nKTogVEZpbGUgfCBudWxsIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcbiAgICAgICAgcmV0dXJuIGZpbGUgaW5zdGFuY2VvZiBURmlsZSA/IGZpbGUgOiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWxlQ29udGVudChmaWxlOiBURmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb2RpZnlGaWxlKGZpbGU6IFRGaWxlLCBjOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBjKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmlsZUNhY2hlKHBhdGg6IHN0cmluZyk6IENhY2hlZE1ldGFkYXRhIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKHBhdGgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWxlTGlua3NDYWNoZShwYXRoOiBzdHJpbmcpOiBMaW5rQ2FjaGVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpbGVDYWNoZShwYXRoKT8ubGlua3MgPz8gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldExlYXZlc09mVHlwZTxUIGV4dGVuZHMgV29ya3NwYWNlTGVhZiA9IFdvcmtzcGFjZUxlYWY+KHR5cGU6IHN0cmluZyk6IFRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKHR5cGUpIGFzIFRbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Vmlld3NPZlR5cGU8VCBleHRlbmRzIFZpZXcgPSBWaWV3Pih0eXBlOiBMZWF2ZXMpOiBUW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMZWF2ZXNPZlR5cGUodHlwZSkubWFwKGUgPT4gZS52aWV3KSBhcyBUW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpcnN0TGlua3BhdGhEZXN0KGxpbmtwYXRoOiBzdHJpbmcsIGZyb206IHN0cmluZyk6IFRGaWxlIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KGxpbmtwYXRoLCBmcm9tKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QWN0aXZlTGVhZigpOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2U/LmFjdGl2ZUxlYWYgPz8gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QWN0aXZlRmlsZSgpOiBURmlsZSB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlPy5nZXRBY3RpdmVGaWxlKCkgPz8gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0V29ya3NwYWNlKCk6IFdvcmtzcGFjZUludGVyZmFjZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UgYXMgV29ya3NwYWNlRXh0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRNb3N0UmVjZW50TGVhZihyb290PzogV29ya3NwYWNlUGFyZW50KTogV29ya3NwYWNlTGVhZiB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlLmdldE1vc3RSZWNlbnRMZWFmKHJvb3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBcHBUaXRsZSh0ZXh0OiBzdHJpbmcgPSBudWxsKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwLmdldEFwcFRpdGxlKHRleHQpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBTZXR0aW5nc1R5cGUgfSBmcm9tIFwiQHNyYy9TZXR0aW5ncy9TZXR0aW5nc1R5cGVcIjtcbmltcG9ydCBQbHVnaW5IZWxwZXIgZnJvbSBcIkBzcmMvVXRpbHMvUGx1Z2luSGVscGVyXCI7XG5pbXBvcnQgRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlIGZyb20gXCJAc3JjL0NvbXBvbmVudHMvRXZlbnREaXNwYXRjaGVyL0ludGVyZmFjZXMvRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHBFdmVudHMgfSBmcm9tIFwiQHNyYy9UeXBlc1wiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJAc3JjL0VudW1cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiQHNyYy9Db21wb25lbnRzL0V2ZW50RGlzcGF0Y2hlci9FdmVudFwiO1xuXG5leHBvcnQgY2xhc3MgTWlncmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29uZmlnOiBTZXR0aW5nc1R5cGUsIHByaXZhdGUgZGlzcGF0Y2hlcjogRXZlbnREaXNwYXRjaGVySW50ZXJmYWNlPEFwcEV2ZW50cz4pIHt9XG5cbiAgICBwdWJsaWMgbWlncmF0ZSh2ZXJzaW9uOiBzdHJpbmcpOiBTZXR0aW5nc1R5cGUge1xuICAgICAgICBpZiAodGhpcy5jb25maWcudmVyc2lvbiA9PT0gdmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRWZXJzaW9uID0gdGhpcy5jb25maWcudmVyc2lvbjtcbiAgICAgICAgY29uc3QgdmVyc2lvbnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gZS5zdGFydHNXaXRoKFwidlwiKSlcbiAgICAgICAgICAgIC5tYXAoZSA9PiBlLnJlcGxhY2UoXCJ2XCIsIFwiXCIpLnJlcGxhY2VBbGwoXCJfXCIsIFwiLlwiKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBQbHVnaW5IZWxwZXIuY29tcGFyZVZlcnNpb24oZSwgXCI+XCIsIGN1cnJlbnRWZXJzaW9uKSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFBsdWdpbkhlbHBlci5jb21wYXJlVmVyc2lvbihhLCBcIjxcIiwgYikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUGx1Z2luSGVscGVyLmNvbXBhcmVWZXJzaW9uKGEsIFwiPlwiLCBiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCB2ZXJzaW9uIG9mIHZlcnNpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSBcInZcIiArIHZlcnNpb24ucmVwbGFjZUFsbChcIi5cIiwgXCJfXCIpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRlIGZyb20gJHtjdXJyZW50VmVyc2lvbn0gdG8gJHt2ZXJzaW9ufSBieSAke21ldGhvZH1gKTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpc1ttZXRob2RdKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKFwibWlncmF0b3I6bWlncmF0ZWRcIiwgbmV3IEV2ZW50KHsgZnJvbTogY3VycmVudFZlcnNpb24sIHRvOiB2ZXJzaW9uIH0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgIH1cblxuICAgIHByaXZhdGUgdjNfOF8wKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IE9iamVjdC52YWx1ZXMoRmVhdHVyZSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUgdGhpcy5jb25maWcuZmVhdHVyZXNbXCJleHBsb3Jlcjpzb3J0XCJdO1xuICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNvbmZpZy50ZW1wbGF0ZXMpKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoZmVhdHVyZXMuY29udGFpbnMoaykpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuZmVhdHVyZXNba10udGVtcGxhdGVzID0gdjtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29uZmlnLnRlbXBsYXRlc1trXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB2M184XzMoKTogdm9pZCB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuY29uZmlnPy50ZW1wbGF0ZXMpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZW1wbGF0ZXMgPSB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG1haW46IHRoaXMuY29uZmlnPy50ZW1wbGF0ZXM/LlswXSA/PyBQbHVnaW5IZWxwZXIuY3JlYXRlRGVmYXVsdFNldHRpbmdzKCkudGVtcGxhdGVzLmNvbW1vbi5tYWluLFxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFjazogdGhpcy5jb25maWc/LnRlbXBsYXRlcz8uWzFdID8/IFwiXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHYzXzlfMCgpOiB2b2lkIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAodGhpcy5jb25maWcuZmVhdHVyZXMuc3RhcnJlZCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29uZmlnLmZlYXR1cmVzLnN0YXJyZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ2NBLElBQUlBO0FBQUEsQ0FDSCxTQUFVQSxVQUFTO0FBR2hCLEdBQUMsU0FBVSxTQUFTO0FBQ2hCLFFBQUksT0FBTyxPQUFPLFdBQVcsV0FBVyxTQUNwQyxPQUFPLFNBQVMsV0FBVyxPQUN2QixPQUFPLFNBQVMsV0FBVyxPQUN2QixTQUFTLGNBQWMsRUFBRTtBQUNyQyxRQUFJLFdBQVcsYUFBYUEsUUFBTztBQUNuQyxRQUFJLE9BQU8sS0FBSyxZQUFZLGFBQWE7QUFDckMsV0FBSyxVQUFVQTtBQUFBLElBQ25CLE9BQ0s7QUFDRCxpQkFBVyxhQUFhLEtBQUssU0FBUyxRQUFRO0FBQUEsSUFDbEQ7QUFDQSxZQUFRLFFBQVE7QUFDaEIsYUFBUyxhQUFhLFFBQVEsVUFBVTtBQUNwQyxhQUFPLFNBQVUsS0FBSyxPQUFPO0FBQ3pCLFlBQUksT0FBTyxPQUFPLEdBQUcs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UUFBUTtBQUFBLEVBQ1IsVUFBVTtBQUFBLElBQ04sVUFBVTtBQUFBLE1BQ04sTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBLElBQ1Y7QUFBQSxJQUNBLE1BQU07QUFBQSxJQUNOLFVBQVU7QUFBQSxJQUNWLGFBQWE7QUFBQSxJQUNiLFFBQVE7QUFBQSxNQUNKLE1BQU07QUFBQSxRQUNGLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQTtBQUFBO0FBQUEsTUFHVjtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ04sTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLE1BQ1Y7QUFBQSxJQUNKO0FBQUEsSUFDQSxNQUFNO0FBQUEsSUFDTixVQUFVO0FBQUEsRUFDZDtBQUFBLEVBQ0EsVUFBVTtBQUFBLEVBQ1YsTUFBTTtBQUFBLElBQ0YsTUFBTTtBQUFBLElBQ04sTUFBTTtBQUFBLE1BQ0YsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLFFBQ0gsTUFBTTtBQUFBLFFBQ04sTUFBTTtBQUFBLE1BQ1Y7QUFBQSxNQUNBLE9BQU87QUFBQSxRQUNILE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxNQUNWO0FBQUEsSUFDSjtBQUFBLElBQ0EsV0FBVztBQUFBLE1BQ1AsTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsTUFBTTtBQUFBLE1BQ04sYUFBYTtBQUFBLFFBQ1QsT0FBTztBQUFBLFFBQ1AsTUFBTTtBQUFBLE1BQ1Y7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUFBLEVBQ0EsVUFBVTtBQUFBLEVBQ1YsTUFBTTtBQUFBLEVBQ04sUUFBUTtBQUFBLEVBQ1IsWUFBWTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsTUFBTTtBQUFBLEVBQ1Y7QUFBQSxFQUNBLFlBQVk7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxFQUNWO0FBQUEsRUFDQSxVQUFVO0FBQUEsRUFDVixXQUFXO0FBQUEsSUFDUCxNQUFNO0FBQUEsSUFDTixNQUFNO0FBQUEsSUFDTixTQUFTO0FBQUEsTUFDTCxNQUFNO0FBQUEs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QUFDO0FBQ0QsU0FBSyxXQUFXO0FBQUEsTUFDWixJQUFJO0FBQUEsTUFDSixNQUFNQSxHQUFFLHlCQUF5QjtBQUFBLE1BQ2pDLFVBQVUsTUFBTTtBQUNaLGFBQUssZUFBZTtBQUNwQixhQUFLLEdBQUcsUUFBUSxFQUFFLE1BQU0sUUFBUSxLQUFLO0FBQUEsTUFDekM7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQ0o7IiwKICAibmFtZXMiOiBbIlJlZmxlY3QiLCAiTWV0YWRhdGEiLCAiaGFzT3duIiwgIk1hcEl0ZXJhdG9yIiwgIk1hcCIsICJTZXQiLCAiV2Vha01hcCIsICJjcmVhdGUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJCaW5kaW5nIiwgIk1ldGFkYXRhUmVhZGVyIiwgImdldEJpbmRpbmdzIiwgIkNvbnRleHQiLCAicGxhbiIsICJNZXRhZGF0YSIsICJQbGFuIiwgIkxhenlTZXJ2aWNlSWRlbnRpZmllciIsICJRdWVyeWFibGVTdHJpbmciLCAiVGFyZ2V0IiwgImluamVjdCIsICJtdWx0aUluamVjdCIsICJ0IiwgIlJlcXVlc3QiLCAicmVzb2x2ZSIsICJ0IiwgIkZhY3RvcnlUeXBlIiwgInQiLCAiX19hd2FpdGVyIiwgInJlc29sdmUiLCAiX19nZW5lcmF0b3IiLCAiX19zcHJlYWRBcnJheSIsICJyZXNvbHZlZCIsICJpbnN0YW5jZSIsICJfX2F3YWl0ZXIiLCAicmVzb2x2ZSIsICJfX2dlbmVyYXRvciIsICJ0IiwgInJlc29sdmVkIiwgIkJpbmRpbmdXaGVuU3ludGF4IiwgIkJpbmRpbmdPblN5bnRheCIsICJCaW5kaW5nV2hlbk9uU3ludGF4IiwgIkJpbmRpbmdJblN5bnRheCIsICJCaW5kaW5nSW5XaGVuT25TeW50YXgiLCAiQmluZGluZ1RvU3ludGF4IiwgInNlbGYiLCAibmFtZWQiLCAiQ29udGFpbmVyU25hcHNob3QiLCAiTG9va3VwIiwgImNvcHkiLCAiTW9kdWxlQWN0aXZhdGlvblN0b3JlIiwgIl9fYXNzaWduIiwgInQiLCAiX19hd2FpdGVyIiwgInJlc29sdmUiLCAiX19nZW5lcmF0b3IiLCAiX19zcHJlYWRBcnJheSIsICJDb250YWluZXIiLCAibW9kdWxlIiwgIm5hbWVkIiwgInJlc29sdmVkIiwgImluc3RhbmNlIiwgIkNvbnRhaW5lck1vZHVsZSIsICJBc3luY0NvbnRhaW5lck1vZHVsZSIsICJtIiwgImludGVyZmFjZXMiLCAiRmVhdHVyZSIsICJyZXNvbHZlIiwgInQiLCAibW9kdWxlIiwgInJlc29sdmVkIiwgImNvcHkiLCAiaWQiLCAidCIsICJzZWxmIiwgInQiLCAiRmFjdG9yeSIsICJGYWN0b3J5IiwgImltcG9ydF9vYnNpZGlhbiIsICJpZCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaWQiLCAic2VsZiIsICJzZWxmIiwgInNlbGYiLCAic2VsZiIsICJpZCIsICJpbXBvcnRfb2JzaWRpYW4iLCAicmVzb2x2ZSIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAidCIsICJpbXBvcnRfb2JzaWRpYW4iLCAidCIsICJBYnN0cmFjdEJ1aWxkZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgIkFic3RyYWN0QnVpbGRlciIsICJ0IiwgIkFic3RyYWN0QnVpbGRlciIsICJ0IiwgIkFic3RyYWN0QnVpbGRlciIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgImUiLCAiaW1wb3J0X29ic2lkaWFuIiwgIkFic3RyYWN0QnVpbGRlciIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJBYnN0cmFjdEJ1aWxkZXIiLCAidCIsICJlIiwgImltcG9ydF9vYnNpZGlhbiIsICJQcm9jZXNzb3JUeXBlcyIsICJBYnN0cmFjdEJ1aWxkZXIiLCAidCIsICJfYSIsICJlIiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgImltcG9ydF9vYnNpZGlhbiIsICJpZCIsICJzZWxmIiwgImlkIiwgIkNvbnRhaW5lciIsICJ0IiwgIkFwcCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaWQiLCAidmVyc2lvbiIsICJBcHAiLCAiaWQiLCAidCJdCn0K
